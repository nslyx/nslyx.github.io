<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="待整理," />










<meta name="description" content="很多的待整理的内容希望能够抽时间一点点消灭掉～～～～～">
<meta name="keywords" content="待整理">
<meta property="og:type" content="article">
<meta property="og:title" content="未经整理的一些内容">
<meta property="og:url" content="http://yoursite.com/2017/12/19/impro-tmp/index.html">
<meta property="og:site_name" content="Nslyx">
<meta property="og:description" content="很多的待整理的内容希望能够抽时间一点点消灭掉～～～～～">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-12-19T02:39:56.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="未经整理的一些内容">
<meta name="twitter:description" content="很多的待整理的内容希望能够抽时间一点点消灭掉～～～～～">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/12/19/impro-tmp/"/>





  <title>未经整理的一些内容 | Nslyx</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    
    <a href="https://github.com/nslyx/nslyx.github.io"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Nslyx</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/19/impro-tmp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhang xiaotian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nslyx">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">未经整理的一些内容</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-19T10:17:53+08:00">
                2017-12-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="很多的待整理的内容"><a href="#很多的待整理的内容" class="headerlink" title="很多的待整理的内容"></a>很多的待整理的内容</h1><pre><code>希望能够抽时间一点点消灭掉～～～～～
</code></pre><a id="more"></a>
<h2 id="BMap-百度地图-API"><a href="#BMap-百度地图-API" class="headerlink" title="BMap 百度地图 API"></a>BMap 百度地图 API</h2><pre><code>百度地图 API * 属于第三方服务，非插件，详细请查阅百度地图 api 官网
百度地图 API 许可的字符原子表 其中需要删除 英文逗号，已经试过不编码任然 sn 错误，注意在使用正则的时候部分特殊字符需要转义
abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_.~!*\&apos;();:@&amp;=+$,/?%#[]
</code></pre><h2 id="数据库规划"><a href="#数据库规划" class="headerlink" title="数据库规划"></a>数据库规划</h2><h1 id="1-实体对象全局唯一标识申请表，"><a href="#1-实体对象全局唯一标识申请表，" class="headerlink" title="1. 实体对象全局唯一标识申请表，"></a>1. 实体对象全局唯一标识申请表，</h1><h1 id="并不是所有都在一张表，主动实体与被动实体首先就要分开，然后初期可能就两个部分，数据量上涨后可能继续按类别分表"><a href="#并不是所有都在一张表，主动实体与被动实体首先就要分开，然后初期可能就两个部分，数据量上涨后可能继续按类别分表" class="headerlink" title="(并不是所有都在一张表，主动实体与被动实体首先就要分开，然后初期可能就两个部分，数据量上涨后可能继续按类别分表)"></a>(并不是所有都在一张表，主动实体与被动实体首先就要分开，然后初期可能就两个部分，数据量上涨后可能继续按类别分表)</h1><h1 id="2-实体创建-生成-信息表，"><a href="#2-实体创建-生成-信息表，" class="headerlink" title="2. 实体创建(生成)信息表，"></a>2. 实体创建(生成)信息表，</h1><h1 id="用于记录实体创建、生成时的一些场景信息-初期可以和注册申请表合并在一起，后续分开"><a href="#用于记录实体创建、生成时的一些场景信息-初期可以和注册申请表合并在一起，后续分开" class="headerlink" title="(用于记录实体创建、生成时的一些场景信息, 初期可以和注册申请表合并在一起，后续分开 )"></a>(用于记录实体创建、生成时的一些场景信息, 初期可以和注册申请表合并在一起，后续分开 )</h1><h1 id="3-实体主表-基础信息表-，"><a href="#3-实体主表-基础信息表-，" class="headerlink" title="3. 实体主表(基础信息表)，"></a>3. 实体主表(基础信息表)，</h1><h1 id="记录实体的基础信息，有些基础信息可以标识与关联对象的信息，视情况而定。"><a href="#记录实体的基础信息，有些基础信息可以标识与关联对象的信息，视情况而定。" class="headerlink" title="(记录实体的基础信息，有些基础信息可以标识与关联对象的信息，视情况而定。)"></a>(记录实体的基础信息，有些基础信息可以标识与关联对象的信息，视情况而定。)</h1><h1 id="4-实体关联状态表，"><a href="#4-实体关联状态表，" class="headerlink" title="4. 实体关联状态表，"></a>4. 实体关联状态表，</h1><h1 id="主要记录实体在关系表中的记录状态，可算作统计记录条数；也可以标识实体自身的基础状态、系统状态，表内容多为纯数字"><a href="#主要记录实体在关系表中的记录状态，可算作统计记录条数；也可以标识实体自身的基础状态、系统状态，表内容多为纯数字" class="headerlink" title="(主要记录实体在关系表中的记录状态，可算作统计记录条数；也可以标识实体自身的基础状态、系统状态，表内容多为纯数字)"></a>(主要记录实体在关系表中的记录状态，可算作统计记录条数；也可以标识实体自身的基础状态、系统状态，表内容多为纯数字)</h1><h1 id="5-实体对象关联关系表，"><a href="#5-实体对象关联关系表，" class="headerlink" title="5. 实体对象关联关系表，"></a>5. 实体对象关联关系表，</h1><h1 id="就是关联表，只有两两关联，表中的主键只标识记录唯一，其他对象间都支持一对一、一对多或多对一的记录关系"><a href="#就是关联表，只有两两关联，表中的主键只标识记录唯一，其他对象间都支持一对一、一对多或多对一的记录关系" class="headerlink" title="(就是关联表，只有两两关联，表中的主键只标识记录唯一，其他对象间都支持一对一、一对多或多对一的记录关系)"></a>(就是关联表，只有两两关联，表中的主键只标识记录唯一，其他对象间都支持一对一、一对多或多对一的记录关系)</h1><h1 id="系统对象关联表，如：用户权限，积分，等级，等等对象，"><a href="#系统对象关联表，如：用户权限，积分，等级，等等对象，" class="headerlink" title="-. 系统对象关联表，如：用户权限，积分，等级，等等对象，"></a>-. 系统对象关联表，如：用户权限，积分，等级，等等对象，</h1><h1 id="这些对象并不是实体对象，但是在系统中必不可少，属于实体的附属属性，关联的复杂程度，可能会关联一个对象的多个层次"><a href="#这些对象并不是实体对象，但是在系统中必不可少，属于实体的附属属性，关联的复杂程度，可能会关联一个对象的多个层次" class="headerlink" title="(这些对象并不是实体对象，但是在系统中必不可少，属于实体的附属属性，关联的复杂程度，可能会关联一个对象的多个层次"></a>(这些对象并不是实体对象，但是在系统中必不可少，属于实体的附属属性，关联的复杂程度，可能会关联一个对象的多个层次</h1><h1 id="如权限，若有职员固定权限和散权限，就要细化到对每个操作指定唯一的操作权限码，涉及制定权限码的规则，"><a href="#如权限，若有职员固定权限和散权限，就要细化到对每个操作指定唯一的操作权限码，涉及制定权限码的规则，" class="headerlink" title="如权限，若有职员固定权限和散权限，就要细化到对每个操作指定唯一的操作权限码，涉及制定权限码的规则，"></a>如权限，若有职员固定权限和散权限，就要细化到对每个操作指定唯一的操作权限码，涉及制定权限码的规则，</h1><h1 id="然后在一个身份表中指定这些身份所附带的权限，最后将权限绑定在主实体上"><a href="#然后在一个身份表中指定这些身份所附带的权限，最后将权限绑定在主实体上" class="headerlink" title="然后在一个身份表中指定这些身份所附带的权限，最后将权限绑定在主实体上)"></a>然后在一个身份表中指定这些身份所附带的权限，最后将权限绑定在主实体上)</h1><h1 id="6-日志记录、操作流水表，"><a href="#6-日志记录、操作流水表，" class="headerlink" title="6. 日志记录、操作流水表，"></a>6. 日志记录、操作流水表，</h1><h1 id="用来从业务逻辑层面记录系统中的操作信息，每次操作生成一条记录，可能需要有合并几次操作为一次的，在统计层面处理。其中所有涉及财务的可能都需要单独拎出来特殊处理"><a href="#用来从业务逻辑层面记录系统中的操作信息，每次操作生成一条记录，可能需要有合并几次操作为一次的，在统计层面处理。其中所有涉及财务的可能都需要单独拎出来特殊处理" class="headerlink" title="(用来从业务逻辑层面记录系统中的操作信息，每次操作生成一条记录，可能需要有合并几次操作为一次的，在统计层面处理。其中所有涉及财务的可能都需要单独拎出来特殊处理)"></a>(用来从业务逻辑层面记录系统中的操作信息，每次操作生成一条记录，可能需要有合并几次操作为一次的，在统计层面处理。其中所有涉及财务的可能都需要单独拎出来特殊处理)</h1><h1 id="7-统计表，"><a href="#7-统计表，" class="headerlink" title="7. 统计表，"></a>7. 统计表，</h1><h1 id="由不同的统计维度构成，定时统计，将大的统计目标拆分成小的单元，分散统计压力，或是建立主从，在特定时间专门跑出一个整体的统计"><a href="#由不同的统计维度构成，定时统计，将大的统计目标拆分成小的单元，分散统计压力，或是建立主从，在特定时间专门跑出一个整体的统计" class="headerlink" title="(由不同的统计维度构成，定时统计，将大的统计目标拆分成小的单元，分散统计压力，或是建立主从，在特定时间专门跑出一个整体的统计)"></a>(由不同的统计维度构成，定时统计，将大的统计目标拆分成小的单元，分散统计压力，或是建立主从，在特定时间专门跑出一个整体的统计)</h1><h2 id="每个主实体都有一张主表，上面该实体的id为主键，然后就是该实体的基础信息-根信息-地址虽然是对象，但是不算是实体，只能依附于一个实体存在"><a href="#每个主实体都有一张主表，上面该实体的id为主键，然后就是该实体的基础信息-根信息-地址虽然是对象，但是不算是实体，只能依附于一个实体存在" class="headerlink" title="每个主实体都有一张主表，上面该实体的id为主键，然后就是该实体的基础信息(根信息), // 地址虽然是对象，但是不算是实体，只能依附于一个实体存在"></a>每个主实体都有一张主表，上面该实体的id为主键，然后就是该实体的基础信息(根信息), // 地址虽然是对象，但是不算是实体，只能依附于一个实体存在</h2><h1 id="在主表生成记录之前会有一张前置表-生成信息、创建信息表-，用于记录申请-id-或-单号-，保证数据唯一性，"><a href="#在主表生成记录之前会有一张前置表-生成信息、创建信息表-，用于记录申请-id-或-单号-，保证数据唯一性，" class="headerlink" title="在主表生成记录之前会有一张前置表(生成信息、创建信息表)，用于记录申请 id (或 单号)，保证数据唯一性，"></a>在主表生成记录之前会有一张前置表(生成信息、创建信息表)，用于记录申请 id (或 单号)，保证数据唯一性，</h1><h1 id="其中会记录一些申请时的信息，算是将创建信息都集中在一起，"><a href="#其中会记录一些申请时的信息，算是将创建信息都集中在一起，" class="headerlink" title="其中会记录一些申请时的信息，算是将创建信息都集中在一起，()"></a>其中会记录一些申请时的信息，算是将创建信息都集中在一起，()</h1><h1 id=""><a href="#" class="headerlink" title=" "></a> </h1><h2 id="表名，"><a href="#表名，" class="headerlink" title="表名，"></a>表名，</h2><h1 id="实体表表名优先是对应英文全拼，冲突先考虑换词，一般实体对象英文不会发生冲突"><a href="#实体表表名优先是对应英文全拼，冲突先考虑换词，一般实体对象英文不会发生冲突" class="headerlink" title="实体表表名优先是对应英文全拼，冲突先考虑换词，一般实体对象英文不会发生冲突"></a>实体表表名优先是对应英文全拼，冲突先考虑换词，一般实体对象英文不会发生冲突</h1><h1 id="关系表，仅仅限制于两个实体对象的关系，按照从属、父子或大小关系，主要对象在前，关联对象在后-，以下划线连接为名"><a href="#关系表，仅仅限制于两个实体对象的关系，按照从属、父子或大小关系，主要对象在前，关联对象在后-，以下划线连接为名" class="headerlink" title="关系表，仅仅限制于两个实体对象的关系，按照从属、父子或大小关系，主要对象在前，关联对象在后 ，以下划线连接为名"></a>关系表，仅仅限制于两个实体对象的关系，按照从属、父子或大小关系，主要对象在前，关联对象在后 ，以下划线连接为名</h1><h1 id="关系表只支持两个对象关联，以上的都不支持，也不应该支持-只有一种情况可能涉及多个对象，那就是有部分是一一对应关系，最后整体看依旧是两个对象"><a href="#关系表只支持两个对象关联，以上的都不支持，也不应该支持-只有一种情况可能涉及多个对象，那就是有部分是一一对应关系，最后整体看依旧是两个对象" class="headerlink" title="关系表只支持两个对象关联，以上的都不支持，也不应该支持(只有一种情况可能涉及多个对象，那就是有部分是一一对应关系，最后整体看依旧是两个对象)"></a>关系表只支持两个对象关联，以上的都不支持，也不应该支持(只有一种情况可能涉及多个对象，那就是有部分是一一对应关系，最后整体看依旧是两个对象)</h1><p>CREATE TABLE <code>address</code> (</p>
<h2 id="每张表都必须有主键，用以区分标识每条记录"><a href="#每张表都必须有主键，用以区分标识每条记录" class="headerlink" title="每张表都必须有主键，用以区分标识每条记录,"></a>每张表都必须有主键，用以区分标识每条记录,</h2><h1 id="实体对象尽量使英文首字母-id-冲突情况下换词或者全拼-关联表为-关联英文首字母-id"><a href="#实体对象尽量使英文首字母-id-冲突情况下换词或者全拼-关联表为-关联英文首字母-id" class="headerlink" title="实体对象尽量使英文首字母+id,冲突情况下换词或者全拼, 关联表为 关联英文首字母+id"></a>实体对象尽量使英文首字母+id,冲突情况下换词或者全拼, 关联表为 关联英文首字母+id</h1><h1 id="目前-实体对象表的主键有-uid-用户id-lid-物流id-aid-地址id"><a href="#目前-实体对象表的主键有-uid-用户id-lid-物流id-aid-地址id" class="headerlink" title="目前 实体对象表的主键有: uid - 用户id , lid - 物流id , aid - 地址id"></a>目前 实体对象表的主键有: uid - 用户id , lid - 物流id , aid - 地址id</h1><p>  <code>aid</code> int(11) NOT NULL COMMENT ‘index - 主键约束 - 唯一标识’,</p>
<h2 id="内容-直接显示对应英文，尽量没有前缀或者程序补充按规则的统一前缀，能简写的优先简写"><a href="#内容-直接显示对应英文，尽量没有前缀或者程序补充按规则的统一前缀，能简写的优先简写" class="headerlink" title="内容 直接显示对应英文，尽量没有前缀或者程序补充按规则的统一前缀，能简写的优先简写"></a>内容 直接显示对应英文，尽量没有前缀或者程序补充按规则的统一前缀，能简写的优先简写</h2><h1 id="如果是关系表的话，相对应的内容是一堆标识字段，标识各种状态，"><a href="#如果是关系表的话，相对应的内容是一堆标识字段，标识各种状态，" class="headerlink" title="如果是关系表的话，相对应的内容是一堆标识字段，标识各种状态，"></a>如果是关系表的话，相对应的内容是一堆标识字段，标识各种状态，</h1><p>  <code>bind_id</code> int(11) unsigned NOT NULL COMMENT ‘地址绑定实体对象 id ‘,<br>  <code>formatted_address</code> varchar(255) NOT NULL COMMENT ‘地址结构化描述’,<br>  <code>country</code> varchar(255) NOT NULL DEFAULT ‘中国’ COMMENT ‘国家’,<br>  <code>province</code> varchar(255) NOT NULL COMMENT ‘省’,<br>  <code>city</code> varchar(255) NOT NULL COMMENT ‘城市’,<br>  <code>district</code> varchar(255) NOT NULL COMMENT ‘区、县’,<br>  <code>street</code> varchar(255) DEFAULT NULL COMMENT ‘街道’,<br>  <code>street_number</code> varchar(255) DEFAULT NULL COMMENT ‘街道门牌号’,<br>  <code>note</code> varchar(255) DEFAULT NULL COMMENT ‘备注’,<br>  <code>admin_area_code</code> int(10) unsigned DEFAULT NULL COMMENT ‘行政区划代码’,<br>  <code>country_code</code> int(10) unsigned NOT NULL COMMENT ‘国家代码’,<br>  <code>city_code</code> int(10) unsigned NOT NULL COMMENT ‘城市代码’,<br>  <code>lat</code> double(10,6) NOT NULL COMMENT ‘纬度’,<br>  <code>lng</code> double(10,6) NOT NULL COMMENT ‘经度’,</p>
<h2 id="表设计-设计表的公共部分，仅仅是为了结构的统一，并且通常都具有一定的实际意义，可以细化操作信息"><a href="#表设计-设计表的公共部分，仅仅是为了结构的统一，并且通常都具有一定的实际意义，可以细化操作信息" class="headerlink" title="表设计 设计表的公共部分，仅仅是为了结构的统一，并且通常都具有一定的实际意义，可以细化操作信息"></a>表设计 设计表的公共部分，仅仅是为了结构的统一，并且通常都具有一定的实际意义，可以细化操作信息</h2><h1 id="串号-用数字综合多个信息组成串号，可以从串号中读取到很多有用的信息，与流水号相似，需要制定串号规则。"><a href="#串号-用数字综合多个信息组成串号，可以从串号中读取到很多有用的信息，与流水号相似，需要制定串号规则。" class="headerlink" title="串号 - 用数字综合多个信息组成串号，可以从串号中读取到很多有用的信息，与流水号相似，需要制定串号规则。"></a>串号 - 用数字综合多个信息组成串号，可以从串号中读取到很多有用的信息，与流水号相似，需要制定串号规则。</h1><h1 id="如果是关系表的串号，可以将所有的状态码进行拼接，需要注意位数对应，不足的需要补0"><a href="#如果是关系表的串号，可以将所有的状态码进行拼接，需要注意位数对应，不足的需要补0" class="headerlink" title="如果是关系表的串号，可以将所有的状态码进行拼接，需要注意位数对应，不足的需要补0"></a>如果是关系表的串号，可以将所有的状态码进行拼接，需要注意位数对应，不足的需要补0</h1><p>  <code>serial</code> char(16) NOT NULL COMMENT ‘串号-R(city_code-4+time10+valid-1+isdel-1)’,</p>
<h1 id="扩展信息-用-json-格式的字符串记录-一些临时相关联的信息，主要用于业务临时实现，在梳理完业务后需要给对应的表结构进行适当调整，不排除有部分信息可以长期使用该字段"><a href="#扩展信息-用-json-格式的字符串记录-一些临时相关联的信息，主要用于业务临时实现，在梳理完业务后需要给对应的表结构进行适当调整，不排除有部分信息可以长期使用该字段" class="headerlink" title="扩展信息 - 用 json 格式的字符串记录 一些临时相关联的信息，主要用于业务临时实现，在梳理完业务后需要给对应的表结构进行适当调整，不排除有部分信息可以长期使用该字段"></a>扩展信息 - 用 json 格式的字符串记录 一些临时相关联的信息，主要用于业务临时实现，在梳理完业务后需要给对应的表结构进行适当调整，不排除有部分信息可以长期使用该字段</h1><p>  <code>einfo</code> varchar(255) DEFAULT NULL COMMENT ‘以 json 格式存储的 扩展信息，可以是两个关联表的部分字段值，也可以是临时新增的值’,</p>
<h1 id="生效或禁用标识-只有-0、1-两个值，表示该条记录的生效情况"><a href="#生效或禁用标识-只有-0、1-两个值，表示该条记录的生效情况" class="headerlink" title="生效或禁用标识 - 只有 0、1 两个值，表示该条记录的生效情况"></a>生效或禁用标识 - 只有 0、1 两个值，表示该条记录的生效情况</h1><p>  <code>valid</code> int(1) unsigned NOT NULL DEFAULT ‘0’ COMMENT ‘有效标识，禁用标识，’,</p>
<h1 id="逻辑删除标识-并不是每张表都需要逻辑删除，但是为了数据的统一性先统一添加逻辑删除标识"><a href="#逻辑删除标识-并不是每张表都需要逻辑删除，但是为了数据的统一性先统一添加逻辑删除标识" class="headerlink" title="逻辑删除标识 - 并不是每张表都需要逻辑删除，但是为了数据的统一性先统一添加逻辑删除标识"></a>逻辑删除标识 - 并不是每张表都需要逻辑删除，但是为了数据的统一性先统一添加逻辑删除标识</h1><p>  <code>isdel</code> int(1) unsigned NOT NULL DEFAULT ‘0’ COMMENT ‘是否被逻辑删除’,</p>
<h1 id="记录的创建时间-每条记录的创建时间是一个固定值，在程序中不应该支持对这个时间的修改！"><a href="#记录的创建时间-每条记录的创建时间是一个固定值，在程序中不应该支持对这个时间的修改！" class="headerlink" title="记录的创建时间 - 每条记录的创建时间是一个固定值，在程序中不应该支持对这个时间的修改！"></a>记录的创建时间 - 每条记录的创建时间是一个固定值，在程序中不应该支持对这个时间的修改！</h1><p>  <code>rctm</code> timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT ‘record create time - 记录创建时间’,</p>
<h1 id="记录的更新时间-每条记录的最近一次的更新时间，-由数据库自动更新，程序中不应该支持操作这个值"><a href="#记录的更新时间-每条记录的最近一次的更新时间，-由数据库自动更新，程序中不应该支持操作这个值" class="headerlink" title="记录的更新时间 - 每条记录的最近一次的更新时间， 由数据库自动更新，程序中不应该支持操作这个值"></a>记录的更新时间 - 每条记录的最近一次的更新时间， 由数据库自动更新，程序中不应该支持操作这个值</h1><p>  <code>rutm</code> timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT ‘record update time - 记录更新时间’,<br>  PRIMARY KEY (<code>aid</code>)</p>
<h1 id="采用支持事务的-InnoDB-数据库引擎，-编码统一为-utf8"><a href="#采用支持事务的-InnoDB-数据库引擎，-编码统一为-utf8" class="headerlink" title="采用支持事务的 InnoDB 数据库引擎， 编码统一为 utf8"></a>采用支持事务的 InnoDB 数据库引擎， 编码统一为 utf8</h1><p>) ENGINE=InnoDB DEFAULT CHARSET=utf8;</p>
<h2 id="从整体来看项目"><a href="#从整体来看项目" class="headerlink" title="从整体来看项目"></a>从整体来看项目</h2><h1 id="想将项目平滑过渡到一个完善的结构，并且不违背原有的逻辑，"><a href="#想将项目平滑过渡到一个完善的结构，并且不违背原有的逻辑，" class="headerlink" title="想将项目平滑过渡到一个完善的结构，并且不违背原有的逻辑，"></a>想将项目平滑过渡到一个完善的结构，并且不违背原有的逻辑，</h1><h1 id="那么最佳的做法便是尽量兼容原本的文件结构，在原结构基础上进行架构搭建，然后逐渐改善代码结构。"><a href="#那么最佳的做法便是尽量兼容原本的文件结构，在原结构基础上进行架构搭建，然后逐渐改善代码结构。" class="headerlink" title="那么最佳的做法便是尽量兼容原本的文件结构，在原结构基础上进行架构搭建，然后逐渐改善代码结构。"></a>那么最佳的做法便是尽量兼容原本的文件结构，在原结构基础上进行架构搭建，然后逐渐改善代码结构。</h1><h1 id="这么做的话需要一个前提，就是说必须从整体上分析好原项目，编写大量接洽的程序代码"><a href="#这么做的话需要一个前提，就是说必须从整体上分析好原项目，编写大量接洽的程序代码" class="headerlink" title="这么做的话需要一个前提，就是说必须从整体上分析好原项目，编写大量接洽的程序代码"></a>这么做的话需要一个前提，就是说必须从整体上分析好原项目，编写大量接洽的程序代码</h1><h1 id="在此之前，可能还需要写不少的冗余代码，不删减，只添加，直到现有结构能够独立支撑项目运行，"><a href="#在此之前，可能还需要写不少的冗余代码，不删减，只添加，直到现有结构能够独立支撑项目运行，" class="headerlink" title="在此之前，可能还需要写不少的冗余代码，不删减，只添加，直到现有结构能够独立支撑项目运行，"></a>在此之前，可能还需要写不少的冗余代码，不删减，只添加，直到现有结构能够独立支撑项目运行，</h1><h1 id="再对原本不佳的实现进行重构"><a href="#再对原本不佳的实现进行重构" class="headerlink" title="再对原本不佳的实现进行重构"></a>再对原本不佳的实现进行重构</h1><h1 id="项目需要什么补充什么，原本的东西不动，不动。直到最后结构足够清晰，再去动那些不好的地方"><a href="#项目需要什么补充什么，原本的东西不动，不动。直到最后结构足够清晰，再去动那些不好的地方" class="headerlink" title="项目需要什么补充什么，原本的东西不动，不动。直到最后结构足够清晰，再去动那些不好的地方"></a>项目需要什么补充什么，原本的东西不动，不动。直到最后结构足够清晰，再去动那些不好的地方</h1><h1 id="在改变原文件结构的时候最常见的就是更改后带来的一系列的数据结构不一致问题，"><a href="#在改变原文件结构的时候最常见的就是更改后带来的一系列的数据结构不一致问题，" class="headerlink" title="在改变原文件结构的时候最常见的就是更改后带来的一系列的数据结构不一致问题，"></a>在改变原文件结构的时候最常见的就是更改后带来的一系列的数据结构不一致问题，</h1><h1 id="这时候需要有中间层对数据进行转化，原结构已经是一个逻辑闭环相对完整的结构，在此之上进行叠加，"><a href="#这时候需要有中间层对数据进行转化，原结构已经是一个逻辑闭环相对完整的结构，在此之上进行叠加，" class="headerlink" title="这时候需要有中间层对数据进行转化，原结构已经是一个逻辑闭环相对完整的结构，在此之上进行叠加，"></a>这时候需要有中间层对数据进行转化，原结构已经是一个逻辑闭环相对完整的结构，在此之上进行叠加，</h1><h1 id="数据需要逐步导入到新的数据表，但是原表中数据也不能缺少。"><a href="#数据需要逐步导入到新的数据表，但是原表中数据也不能缺少。" class="headerlink" title="数据需要逐步导入到新的数据表，但是原表中数据也不能缺少。"></a>数据需要逐步导入到新的数据表，但是原表中数据也不能缺少。</h1><h1 id="如何处理原本的数据，是个比较麻烦的问题"><a href="#如何处理原本的数据，是个比较麻烦的问题" class="headerlink" title="如何处理原本的数据，是个比较麻烦的问题"></a>如何处理原本的数据，是个比较麻烦的问题</h1><h1 id="如果有必要，可以编写数据完整性校验代码，逐条比对数据的有效性"><a href="#如果有必要，可以编写数据完整性校验代码，逐条比对数据的有效性" class="headerlink" title="如果有必要，可以编写数据完整性校验代码，逐条比对数据的有效性"></a>如果有必要，可以编写数据完整性校验代码，逐条比对数据的有效性</h1><h2 id="PHP-Install"><a href="#PHP-Install" class="headerlink" title="PHP Install"></a>PHP Install</h2><pre><code>./configure --prefix=/usr/local/php/ --with-config-file-path=/usr/local/php/etc --with-openssl --with-iconv --without-pear --enable-fpm --with-fpm-user=www --with-fpm-group=www --with-mysql=/usr/local/mysql/ --with-mysqli=/usr/local/mysql/bin/mysql_config --with-pdo-mysql=/usr/local/mysql --enable-soap --enable-mbstring=all --enable-sockets --with-libxml-dir=/usr/local/libxml2/ --with-freetype-dir=/usr/local/freetype/ --with-mcrypt=/usr/local/libmcrypt/

--with-jpeg-dir=/usr/local/jpeg6/ --with-png-dir=/usr/local/libpng/

yum install libmcrypt libmcrypt-devel mcrypt mhash

ln -s /usr/lib64/libjpeg.so.62 /usr/lib/libjpeg.so

Deprecated: mysql_connect(): The mysql extension is deprecated and will be removed in the future: use mysqli or PDO instead in /www/index.php on line 3 resource(2) of type (mysql link)

* *********************

在Linux下安装PHP过程中，编译时出现configure: error: libjpeg.(a|so) not found 错误的解决办法

检查之后发现已经安装了libjpeg
[root@localhost php-5.2.14]# yum list installed|grep libpng
libpng.x86_64           2:1.2.49-1.el6_2
或者：
[root@localhost php-5.2.14]# rpm -qa|grep libjpeg
libjpeg-turbo-1.2.1-3.el6_5.x86_64
安装libjpeg-devel
yum -y install libjpeg-devel
[root@localhost php-5.2.14]# yum list installed|grep libjpeg
libjpeg-turbo.x86_64    1.2.1-3.el6_5   @base
libjpeg-turbo-devel.x86_64
[root@localhost php-5.2.14]# rpm -ql libjpeg-turbo-devel.x86_64
/usr/include/jconfig.h
/usr/include/jerror.h
/usr/include/jmorecfg.h
/usr/include/jpeglib.h
/usr/lib64/libjpeg.so
/usr/share/doc/libjpeg-turbo-devel-1.2.1
/usr/share/doc/libjpeg-turbo-devel-1.2.1/coderules.txt
/usr/share/doc/libjpeg-turbo-devel-1.2.1/example.c
/usr/share/doc/libjpeg-turbo-devel-1.2.1/jconfig.txt
/usr/share/doc/libjpeg-turbo-devel-1.2.1/libjpeg.txt
/usr/share/doc/libjpeg-turbo-devel-1.2.1/structure.txt
但是在/usr/lib目录下没有libjpeg.so这个文件，在/usr/lib64下是有的，虽然使用–with-jpeg-dir=/usr/lib64 依然无效，最后用

[root@ www.linuxidc.com ~]#ln -s /usr/lib64/libjpeg.so.62 /usr/lib/libjpeg.so

问题解决， libpng 报的错误解决方法一样
本篇文章来源于 Linux公社网站(www.linuxidc.com)  原文链接：http://www.linuxidc.com/Linux/2012-08/68896.htm
--------------------------------------------------------------------------------
configure: error: png.h not found.错误的解决方法
转自：http://51yanyu.net/wangluo/20140704_9729.html
今天安装PHP的时候提示这个错误 configure: error: png.h not found.，这个是选择安装GD模块才会出现的错误，详细错误信息如下
If configure fails try --with-vpx-dir=&lt;DIR&gt;
If configure fails try --with-jpeg-dir=&lt;DIR&gt;
configure: error: png.h not found.
我找了下资料说是libpng没有安装，于是我执行命令
$&gt;yum install libpng
但是并没有解决，想了下是不是还有什么devel包没安装吧，试了下面这个命令
$&gt; yum install libpng-devel
终于解决了，呵呵。记录下来，方便大家和自己下次查看。
声明: 本文由( 烟雨网 )原创编译，转载请保留链接: configure: error: png.h not found.错误的解决方法
--------------------------------------------------------------------------------------------------
转自：http://blog.csdn.net/zhangxh1013/article/details/7829470
configure: error: Cannot find ldap.h

[root@localhost php-5.2.14]# yum list installed|grep ldap
apr-util-ldap.x86_64    1.3.9-3.el6_0.1 @anaconda-CentOS-201303020151.x86_64/6.4
openldap.x86_64         2.4.39-8.el6    @base
list
 yum list openldap
 yum list openldap-devel
 安装 ：
 yum install openldap-devel

 * *********************

环境：LNMP in centOS 6.4。

linux下PHP的扩展可以用phpize的方法，比较简单地进行启用。

以下以PHP-GD2 库安装为例子。

复制代码
sudo yum install php-gd2  png jpeg freetype   //YUM安装扩展
cd /app/php-5.4.13/ext/gd  //这里的php-5.4.13/文件夹是我当初解压PHP安装包得到的。
phpize
./configure --with-png-dir --with-freetype-dir --with-jpeg-dir --with-gd
sudo make
make install

sudo vi /app/php5/etc/php.ini  //修改PHP配置文件
extension=gd.so  //添加这一行，重启PHP服务
复制代码

* ***************************

本篇排错的前提是只想用yum安装，不想使用源码包编译安装。
php依赖一下包：

#yum install libmcrypt libmcrypt-devel mcrypt mhash

Setting up Install Process

No package php-mcrypt available.

Error: Nothing to do

我们会看到centos yum从仓库中根本找不到这几个包。但我不想使用源码编译就想使用yum安装，怎么办？



yum  install epel-release  //扩展包更新包

  yum  update //更新yum源

安装完epel-release ，yum  update 可能会报错如下：

Error: Cannot retrieve metalink for repository: epel. Please verify its path and try again

解决办法如下：

在网上查了查，解决办法是编辑/etc/yum.repos.d/epel.repo，把基础的恢复，镜像的地址注释掉

#baseurl
mirrorlist

改成

baseurl
#mirrorlist

只改下面这一项就ok了。

[epel]
name=Extra Packages for Enterprise Linux 6 - $basearch
baseurl=http://download.fedoraproject.org/pub/epel/6/$basearch
#mirrorlist=https://mirrors.fedoraproject.org/metalink?repo=epel-6&amp;arch=$basearc
h
failovermethod=priority
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6


 yum install libmcrypt libmcrypt-devel mcrypt mhash  就ok了



有人可能想着我换个yum源，不使用官方的，使用阿里云、163，说不定问题就可以解决，这个没用的，我试过了。

* *******************************

在Centos系统安装完成之后，在配置环境的过程中往往需要gd库的运行，特别是用来处理图片的API，或是使用GD库来生成图片、处理图片等等，都是需要gd库的支持的！

GD库的作用：

GD库可以用来生成缩略图、针对图片加水印、用汉字来生成验证码，或是对网站数据生成报表等。

GD库的安装：

我们可以直接使用yum命令来安装，自动解决依赖关系及安装GD库相关的包。

[root@localhost ~]# yum install php-gd*
Loaded plugins: fastestmirror, refresh-packagekit, security
Loading mirror speeds from cached hostfile
 * base: mirrors.yun-idc.com
 * extras: centos.ustc.edu.cn
 * updates: mirrors.yun-idc.com
adobe-linux-x86_64                                                    |  951 B     00:00
adobe-linux-x86_64/primary                                            | 1.2 kB     00:00
adobe-linux-x86_64                                                                       2/2
base                                                                  | 3.7 kB     00:00
extras                                                                | 3.4 kB     00:00
extras/primary_db                                                     |  29 kB     00:00
updates                                                               | 3.4 kB     00:00
Setting up Install Process
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package php-gd.x86_64 0:5.3.3-27.el6_5 will be updated
---&gt; Package php-gd.x86_64 0:5.3.3-40.el6_6 will be an update
--&gt; Processing Dependency: php-common(x86-64) = 5.3.3-40.el6_6 for package: php-gd-5.3.3-40.el6_6.x86_64
--&gt; Running transaction check
---&gt; Package php-common.x86_64 0:5.3.3-27.el6_5 will be updated
---&gt; Package php-common.x86_64 0:5.3.3-40.el6_6 will be an update
--&gt; Finished Dependency Resolution

Dependencies Resolved

=============================================================================================
 Package               Arch              Version                    Repository          Size
=============================================================================================
Updating:
 php-gd                x86_64            5.3.3-40.el6_6             updates            109 k
Updating for dependencies:
 php-common            x86_64            5.3.3-40.el6_6             updates            527 k

Transaction Summary
=============================================================================================
Upgrade       2 Package(s)

Total download size: 636 k
Is this ok [y/N]: y
Downloading Packages:
(1/2): php-common-5.3.3-40.el6_6.x86_64.rpm                           | 527 kB     00:00
(2/2): php-gd-5.3.3-40.el6_6.x86_64.rpm                               | 109 kB     00:00
---------------------------------------------------------------------------------------------
Total                                                        1.3 MB/s | 636 kB     00:00
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
  Updating   : php-common-5.3.3-40.el6_6.x86_64                                          1/4
  Updating   : php-gd-5.3.3-40.el6_6.x86_64                                              2/4
  Cleanup    : php-gd-5.3.3-27.el6_5.x86_64                                              3/4
  Cleanup    : php-common-5.3.3-27.el6_5.x86_64                                          4/4
  Verifying  : php-gd-5.3.3-40.el6_6.x86_64                                              1/4
  Verifying  : php-common-5.3.3-40.el6_6.x86_64                                          2/4
  Verifying  : php-gd-5.3.3-27.el6_5.x86_64                                              3/4
  Verifying  : php-common-5.3.3-27.el6_5.x86_64                                          4/4

Updated:
  php-gd.x86_64 0:5.3.3-40.el6_6

Dependency Updated:
  php-common.x86_64 0:5.3.3-40.el6_6

Complete!

安装完成之后，gd库就已经安装到你的Centos系统中啦！

* *****************************************

最近帮人搭建了一个b2b网站，（Lamp安装教程），网站测试图片不能上传，经检查图片其实已经上传成功，只是因为php没有开启php gd库(上传图片后php对图片进行处理，加logo等)，好吧，我就来搭建gd库了：

运行：  yum -y install php-gd

失败，显示如下：

yum.jpg这是因为没有第三方yum源支持的原因，于是我安装了：

wget http://www.atomicorp.com/installers/atomic

再次运行了命令，安装成功，测试 phpinfo();  还是没有成功，半天也没找到gd库！

我找到gd库的安装路径：/etc/php.d/gd.ini  发现内容为空，难怪，打开文件，加上这句：

extension=gd.so

重启服务器  service  httpd restart  终于看到亲爱的gd库了。

题外话：不用把全部东西都写在php.ini这个文件里,只是需要把*.ini文件写在/etc/php.d/文件夹就可以了,系统会自动把这个目录下的*.ini读入php.ini ； gd库的文件存放在：/usr/lib/php/modules/gd.so
</code></pre><h2 id="PHP-Doc"><a href="#PHP-Doc" class="headerlink" title="PHP Doc"></a>PHP Doc</h2><pre><code>PHPDocument 代码注释规范总结
12 February 2010 20:21 Fridayby 小屋
PHPDocument 代码注释规范

1. 安装phpDocumentor（不推荐命令行安装）
在http://manual.phpdoc.org/下载最新版本的PhpDoc
放在web服务器目录下使得通过浏览器可以访问到
点击files按钮，选择要处理的php文件或文件夹
还可以通过该指定该界面下的Files to ignore来忽略对某些文件的处理。
然后点击output按钮来选择生成文档的存放路径和格式.
最后点击create，phpdocumentor就会自动开始生成文档了。

2．如何写PHP规范注释

所有的文档标记都是在每一行的 * 后面以@开头。如果在一段话的中间出来@的标记，这个标记将会被当做普通内容而被忽略掉。
@access        该标记用于指明关键字的存取权限：private、public或proteced 使用范围：class,function,var,define,module
@author        指明作者
@copyright    指明版权信息
@const        使用范围：define 用来指明php中define的常量
@final            使用范围：class,function,var 指明关键字是一个最终的类、方法、属性，禁止派生、修改。
@global        指明在此函数中引用的全局变量
@name            为关键字指定一个别名。
@package    用于逻辑上将一个或几个关键字分到一组。
@abstrcut    说明当前类是一个抽象类
@param        指明一个函数的参数
@return        指明一个方法或函数的返回值
@static            指明关建字是静态的。
@var            指明变量类型
@version        指明版本信息
@todo            指明应该改进或没有实现的地方
@link            可以通过link指到文档中的任何一个关键字
@ingore        用于在文档中忽略指定的关键字

一些注释规范
a.注释必须是
/**
* XXXXXXX
*/
的形式
b.对于引用了全局变量的函数，必须使用glboal标记。
c.对于变量，必须用var标记其类型（int,string,bool...）
d.函数必须通过param和return标记指明其参数和返回值
e.对于出现两次或两次以上的关键字，要通过ingore忽略掉多余的，只保留一个即可
f.调用了其他函数或类的地方，要使用link或其他标记链接到相应的部分，便于文档的阅读。
g.必要的地方使用非文档性注释（PHPDOC无法识别的关键字前的注释），提高代码易读性。
h.描述性内容尽量简明扼要，尽可能使用短语而非句子。
i.全局变量，静态变量和常量必须用相应标记说明

能够被phpdoc识别的关键字：
Include
Require
include_once
require_once
define
function
global
class

3. 规范注释的php代码 :

&lt;?php
/**
* 文件名(sample2.php)
*
* 功能描述（略）
*
* @author steve &lt;liuzhiqun@facedoing.com&gt;
* @version 1.0
* @package sample2
*/

/**
* 包含文件
*/
include_once &apos;sample3.php&apos;;

/**
* 声明全局变量
* @global integer $GLOBALS[&apos;_myvar&apos;]
* @name $_myvar
*/
$GLOBALS[&apos;_myvar&apos;] = 6;

/**
* 声明全局常量
*/
define(&apos;NUM&apos;, 6);

/**
* 类名
*
* 类功能描述
*
* @package sample2
* @subpackage classes(如果是父类 就添加)
*/
class myclass {

/**
* 声明普通变量
*
* @accessprivate
* @var integer|string
*/
var $firstvar = 6;

/**
* 创建构造函数 {@link $firstvar}
*/
function myclass() {
$this-&gt;firstvar = 7;
}

/**
* 定义函数
*
* 函数功能描述
*
* @global string $_myvar
* @staticvar integer $staticvar
* @param string $param1
* @param string $param2
* @return integer|string
*/
function firstFunc($param1, $param2 = &apos;optional&apos;) {
static $staticvar = 7;
global $_myvar;
return $staticvar;
}
}
</code></pre><h2 id="PHP-YII"><a href="#PHP-YII" class="headerlink" title="PHP YII"></a>PHP YII</h2><pre><code>yii AR模型内置验证类说明
required: 必填字段验证， 来自 CRequiredValidator类的别名
array(‘字段名列表用逗号隔开’, ‘required’),    就这样的一个小小的写法，可以让字段前面加个 * 星号显示出来，表示必填字段
filter: 过滤验证， 来自 CFilterValidator 类的别名
match: 使用正则表达式，来自CRegularExpressionValidator的别名，　用于 验证属性是否匹配一个正则表达式
email: 验证邮箱，来自CEmailValidator类的别名
url: 验证网址， 来自CUrlValidator的别名
unique: 验证唯一性， 来自CUniqueValidator的别名
compare: 多字段对比验证，来自CCompareValidator的别名
length: 验证字符串的长度验证，来自CStringValidator的别名
in: 验证属性值是否在一个预订的值列表里面，来自CRangeValidator的别名
numerical: 验证字符串是否为整数，来自CNumberValidator的别名
captcha: 验证码啦，来自CCaptchaValidator的别名
type: 验证字符串类型，来自 CTypeValidator的别名
file: 文件验证，来自CFileValidator的别名
default: 默认值验证， 来自CDefaultValueValidator的别名
exist: 验证数据是否存在， 来自CExistValidator的别名
boolean: 验证真假值， 来自CBooleanValidator的别名
date: 验证日期时间， 来自CDateValidator的别名
safe:验证数据是否安全，来自 CSafeValidator的别名
unsafe: 不验证，来自CUnsafeValidator的别名
</code></pre><h2 id="xdebug"><a href="#xdebug" class="headerlink" title="xdebug"></a>xdebug</h2><pre><code>;是否开启自动跟踪
xdebug.auto_trace = On
;是否开启异常跟踪
xdebug.show_exception_trace = On
;是否开启远程调试自动启动
xdebug.remote_autostart = On
;是否开启远程调试
xdebug.remote_enable = On
;允许调试的客户端IP
xdebug.remote_host=192.168.1.187
;远程调试的端口（默认9000）
xdebug.remote_port=9000
;调试插件dbgp
xdebug.remote_handler=dbgp
;是否收集变量
xdebug.collect_vars = On
;是否收集返回值
xdebug.collect_return = On
;是否收集参数
xdebug.collect_params = On
;跟踪输出路径
xdebug.trace_output_dir=&quot;D:/wamp/tmp&quot;
;是否开启调试内容
xdebug.profiler_enable=On
;调试输出路径
;xdebug.profiler_output_dir=&quot;D:/wamp/tmp&quot;
</code></pre><p>1.尽量静态化：<br>如果一个方法能被静态，那就声明它为静态的，速度可提高1/4，甚至我测试的时候，这个提高了近三倍。<br>当然了，这个测试方法需要在十万级以上次执行，效果才明显。</p>
<p>其实静态方法和非静态方法的效率主要区别在内存：静态方法在程序开始时生成内存,实例方法在程序运行中生成内存，所以静态方法可以直接调用,实例方法要先成生实例,通过实例调用方法，静态速度很快，但是多了会占内存。</p>
<p>任何语言都是对内存和磁盘的操作,至于是否面向对象,只是软件层的问题,底层都是一样的,只是实现方法不同。静态内存是连续的,因为是在程序开始时就生成了,而实例申请的是离散的空间,所以当然没有静态方法快。<br>静态方法始终调用同一块内存，其缺点就是不能自动进行销毁，而是实例化可以销毁。<br>2.echo的效率高于print,因为echo没有返回值，print返回一个整型;<br>测试：<br>Echo<br>0.000929 - 0.001255 s (平均 0.001092 seconds)<br>Print<br>0.000980 - 0.001396 seconds (平均 0.001188 seconds)<br>相差8%左右，总体上echo是比较快的。<br>注意，echo大字符串的时候，如果没有做调整就严重影响性能。使用打开apached的mod_deflate进行压缩或者打开ob_start先将内容放进缓冲区。<br>3.在循环之前设置循环的最大次数，而非在在循环中;<br>傻子都明白的道理。<br>4.销毁变量去释放内存，特别是大的数组;<br>数组和对象在php特别占内存的，这个由于php的底层的zend引擎引起的，<br>一般来说，PHP数组的内存利用率只有 1/10, 也就是说，一个在C语言里面100M 内存的数组，在PHP里面就要1G。<br>特别是在PHP作为后台服务器的系统中，经常会出现内存耗费太大的问题。<br>5.避免使用像<strong>get, </strong>set, <strong>autoload等魔术方法;<br>对于</strong>开头的函数就命名为魔术函数，此类函数都在特定的条件下初访的。总得来说，有下面几个魔术函数<br><strong>construct()，</strong>destruct()，<strong>get()，</strong>set()，<strong>unset()，</strong>call()，<strong>callStatic()，</strong>sleep()，<strong>wakeup()，</strong>toString()，<strong>set_state()，</strong>clone()，<strong>autoload()<br>其实，如果</strong>autoload不能高效的将类名与实际的磁盘文件(注意，这里指实际的磁盘文件，而不仅仅是文件名)对应起来，系统将不得不做大量的文件是 否存在(需要在每个include path中包含的路径中去寻找)的判断，而判断文件是否存在需要做磁盘I/O操作，众所周知磁盘I/O操作的效率很低，因此这才是使得autoload机制效率降低的原因。<br>因此，我们在系统设计时，需要定义一套清晰的将类名与实际磁盘文件映射的机制。这个规则越简单越明确，autoload机制的效率就越高。<br>结论：autoload机制并不是天然的效率低下，只有滥用autoload，设计不好的自动装载函数才会导致其效率的降低.<br>所以说尽量避免使用__autoload魔术方法，有待商榷。<br>6.requiere_once()比较耗资源;<br>这是因为requiere_once需要判断该文件是否被引用过),所以能不用尽量不用。常用require/include方法避免。<br>7.在includes和requires中使用绝对路径。<br>如果包含相对路径，PHP会在include_path里面遍历查找文件。<br>用绝对路径就会避免此类问题，因此解析操作系统路径所需的时间会更少。<br>8.如果你需要得到脚本执行时的时间，$_SERVER[‘REQUSET_TIME’]优于time();<br>可以想象。一个是现成就可以直接用，一个还需要函数得出的结果。<br>9.能用PHP内部字符串操作函数的情况下，尽量用他们，不要用正则表达式； 因为其效率高于正则;<br>没得说，正则最耗性能。<br>有没有你漏掉的好用的函数？例如：strpbrk()strncasecmp()strpos()/strrpos()/stripos()/strripos()加速 strtr如果需要转换的全是单个字符的时候，<br>用字符串而不是数组来做 strtr：<br>&lt;?php<br>$addr = strtr($addr, “abcd”, “efgh”); // good<br>$addr = strtr($addr, array(‘a’ =&gt; ‘e’, )); // bad<br>?&gt;<br>效率提升：10 倍。<br>10.str_replace字符替换比正则替换preg_replace快，但strtr比str_replace又快1/4;<br>另外不要做无谓的替换即使没有替换，str_replace 也会为其参数分配内存。很慢！解决办法：<br>用 strpos 先查找(非常快)，看是否需要替换，如果需要，再替换效率：- 如果需要替换：效率几乎相等，差别在 0.1% 左右。<br>如果不需要替换：用 strpos 快 200%。<br>11.参数为字符串<br>如果一个函数既能接受数组又能接受简单字符做为参数，例如字符替换函数，并且参数列表不是太长，可以考虑额外写一段替换代码，使得每次传递参数都是一 个字符，而不是接受数组做为查找和替换参数。大事化小，1+1&gt;2;<br>12.最好不用@，用@掩盖错误会降低脚本运行速度;<br>用@实际上后台有很多操作。用@比起不用@，效率差距：3 倍。特别不要在循环中使用@，在 5 次循环的测试中，即使是先用 error<em>reporting(0) 关掉错误，在循环完成后再打开，都比用@快。<br>13.$row[‘id’]比$row[id]速度快7倍<br>建议养成数组键加引号的习惯;<br>14.在循环里别用函数<br>例如For($x=0; $x &lt; count($array); $x), count()函数在外面先计算;原因你懂的。<br>16.在类的方法里建立局部变量速度最快，几乎和在方法里调用局部变量一样快;<br>17.建立一个全局变量要比局部变量要慢2倍;<br>由于局部变量是存在栈中的，当一个函数占用的栈空间不是很大的时候，这部分内存很有可能全部命中cache，这时候CPU访问的效率是很高的。<br>相反，如果一个函数里既使用了全局变量又使用了局部变量，那么当这两段地址相差较大时，cpu cache需要来回切换，那么效率会下降。<br>(我理解啊)<br>18.建立一个对象属性(类里面的变量)例如($this-&gt;prop++)比局部变量要慢3倍;<br>19.建立一个未声明的局部变量要比一个已经定义过的局部变量慢9-10倍<br>20.声明一个未被任何一个函数使用过的全局变量也会使性能降低(和声明相同数量的局部变量一样)。<br>PHP可能去检查这个全局变量是否存在;<br>21.方法的性能和在一个类里面定义的方法的数目没有关系<br>因为我添加10个或多个方法到测试的类里面(这些方法在测试方法的前后)后性能没什么差异;<br>22.在子类里方法的性能优于在基类中;<br>23.只调用一个参数并且函数体为空的函数运行花费的时间等于7-8次$localvar++运算，而一个类似的方法(类里的函数)运行等于大约15次$localvar++运算;<br>24 用单引号代替双引号来包含字符串，这样做会更快一些。<br>因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。<br>PHP 引擎允许使用单引号和双引号来封装字符串变量，但是这个是有很大的差别的！使用双引号的字符串告诉 PHP 引擎首先去读取字符串内容，查找其中的变 量，并改为变量对应的值。一般来说字符串是没有变量的，所以使用双引号会导致性能不佳。最好是使用字<br>符串连接而不是双引号字符串。<br>BAD:<br>$output = “This is a plain string”;<br>GOOD:<br>$output = ‘This is a plain string’;<br>BAD:<br>$type = “mixed”;<br>$output = “This is a $type string”;<br>GOOD:<br>$type = ‘mixed’;<br>$output = ‘This is a ‘ . $type .’ string’;<br>25.当echo字符串时用逗号代替点连接符更快些。<br>echo一种可以把多个字符串当作参数的“函数”（译注：PHP手册中说echo是语言结构，不是真正的函数，故把函数加上了双引号）。<br>例如echo $str1,$str2。<br>26.Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。<br>尽量多用静态HTML页面，少用脚本。<br>28.尽量使用缓存，建议用memcached。<br>高性能的分布式内存对象缓存系统，提高动态网络应用程序性能，减轻数据库的负担;<br>也对运算码 (OP code)的缓存很有用，使得脚本不必为每个请求做重新编译。<br>29.使用ip2long()和long2ip()函数把IP地址转成整型存放进数据库而非字符型。<br>这几乎能降低1/4的存储空间。同时可以很容易对地址进行排序和快速查找;<br>30.使用checkdnsrr()通过域名存在性来确认部分email地址的有效性<br>这个内置函数能保证每一个的域名对应一个IP地址;<br>31.使用mysql</em><em>的改良函数mysqli_</em>;<br>32.试着喜欢使用三元运算符(?：);<br>33.是否需要PEAR<br>在你想在彻底重做你的项目前，看看PEAR有没有你需要的。PEAR是个巨大的资源库，很多php开发者都知道;<br>35.使用error_reporting(0)函数来预防潜在的敏感信息显示给用户。<br>理想的错误报告应该被完全禁用在php.ini文件里。可是如果你在用一个共享的虚拟主机，php.ini你不能修改，那么你最好添加error_reporting(0)函数，放在每个脚本文件的第一行(或用<br>require_once()来加载)这能有效的保护敏感的SQL查询和路径在出错时不被显示;<br>36.使用 gzcompress() 和gzuncompress()对容量大的字符串进行压缩(解压)在存进(取出)数据库时。<br>这种内置的函数使用gzip算法能压缩到90%;<br>37.通过参数变量地址得引用来使一个函数有多个返回值。<br>你可以在变量前加个“&amp;”来表示按地址传递而非按值传递;</p>
<ol>
<li>完全理解魔术引用和SQL注入的危险。<br>Fully understand “magic quotes” and the dangers of SQL injection. I’m hoping that most developers reading this are already familiar with SQL injection. However, I list it here because it’s absolutely critical to understand. If you’ve never heard the term before, spend the entire rest of the day googling and reading.<br>39.某些地方使用isset代替strlen<br>当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen()函数。此函数执行起来相当快，因为它不做任何计算，只返回在zval 结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。但是，由于strlen()是函数，多多少少会有些慢，因为函数调用会经过诸多步骤，如字母小写化（译注：指函数名小写化，PHP不区分函数名大小写）、哈希查找，会跟随被调用的函数一起执行。在某些情况下，你可以使用isset() 技巧加速执行你的代码。<br>（举例如下）<br>if (strlen($foo) &lt; 5) { echo “Foo is too short”$$ }<br>（与下面的技巧做比较）<br>if (!isset($foo{5})) { echo “Foo is too short”$$ }<br>调用isset()恰巧比strlen()快，因为与后者不同的是，isset()作为一种语言结构，意味着它的执行不需要函数查找和字母小写化。也就是说，实际上在检验字符串长度的顶层代码中你没有花太多开销。<br>40.使用++$i递增<br>When incrementing or decrementing the value of the variable $i++ happens to be a tad slower then ++$i. This is something PHP specific and does not apply to other languages, so don’t go modifying your C or Java code thinking it’ll suddenly become faster, it won’t. ++$i happens to be faster in PHP because instead of 4 opcodes used for $i++ you only need 3. Post incrementation actually causes in the creation of a temporary var that is then incremented. While preincrementation increases the original value directly. This is one of the optimization that opcode optimized like Zend’s PHP optimizer. It is a still a good idea to keep in mind since not all opcode optimizers perform this optimization and there are plenty of ISPs and servers running without an opcode optimizer.<br>当执行变量$i的递增或递减时，$i++会比++$i慢一些。这种差异是PHP特有的，并不适用于其他语言，所以请不要修改你的C或Java代码并指望它们能立即变快，没用的。++$i更快是因为它只需要3条指令(opcodes)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。这是最优化处理的一种，正如Zend的PHP优化器所作的那样。牢记这个优化处理不失为一个好主意，因为并不是所有的指令优化器都会做同样的优化处理，并且存在大量没有装配指令优化器的互联网服务<br>提供商（ISPs）和服务器。</li>
<li>不要随便就复制变量<br>有时候为了使 PHP 代码更加整洁，一些 PHP 新手（包括我）会把预定义好的变量复制到一个名字更简短的变量中，其实这样做的结果是增加了一倍的内存消耗，只会使程序更加慢。试想一下，在下面的例子中，如果用户恶意插入 512KB 字节的文字到文本输入框中，这样就会导致 1MB 的内存被消耗！<br>BAD:<br>$description = $_POST[‘description’];<br>echo $description;<br>GOOD:<br>echo $_POST[‘description’];<br>41 使用选择分支语句<br>switch case好于使用多个if，else if语句,并且代码更加容易阅读和维护。<br>42.在可以用file_get_contents替代file、fopen、feof、fgets<br>在可以用file_get_contents替代file、fopen、feof、fgets等系列方法的情况下，尽量用file_get_contents，因为他的效率高得多！但是要注意file_get_contents在打开一个URL文件时候的PHP版本问题；<br>43.尽量的少进行文件操作，虽然PHP的文件操作效率也不低的；<br>44.优化Select SQL语句，在可能的情况下尽量少的进行Insert、Update操作(在update上，我被恶批过)；<br>45.尽可能的使用PHP内部函数<br>46.循环内部不要声明变量，尤其是大变量：对象<br>(这好像不只是PHP里面要注意的问题吧？)；<br>47.多维数组尽量不要循环嵌套赋值；<br>48.foreach效率更高，尽量用foreach代替while和for循环；<br>49.“用i+=1代替i=i+1。符合c/c++的习惯，效率还高”；<br>50.对global变量，应该用完就unset()掉；<br>51 并不是事必面向对象(OOP)，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。<br>52 不要把方法细分得过多，仔细想想你真正打算重用的是哪些代码？<br>53 如果在代码中存在大量耗时的函数，你可以考虑用C扩展的方式实现它们。<br>54、打开apache的mod_deflate模块，可以提高网页的浏览速度。<br>（提到过echo 大变量的问题）<br>55、数据库连接当使用完毕时应关掉，不要用长连接。<br>56、split比exploade快<br>split()<br>0.001813 - 0.002271 seconds (avg 0.002042 seconds)<br>explode()<br>0.001678 - 0.003626 seconds (avg 0.002652 seconds)<br>Split can take regular expressions as delimiters, and runs faster too. ~23% on average.</li>
</ol>
<h2 id="php-设置时区"><a href="#php-设置时区" class="headerlink" title="php 设置时区"></a>php 设置时区</h2><pre><code>找到原因后，在网上搜索到了一些关于PHP的时区设置方法： 

1、修改php.ini，在php.ini中找到data.timezone =去掉它前面的;号，然后设置data.timezone = “Asia/Shanghai”;即可。 

2、在程序PHP 5以上版本的程序代码中使用函数ini_set(&apos;date.timezone&apos;,&apos;Asia/Shanghai&apos;);或者date_default_timezone_set(‘Asia/Shanghai&apos;); 

一些常用的时区标识符说明： 

Asia/Shanghai – 上海 
Asia/Chongqing – 重庆 
Asia/Urumqi – 乌鲁木齐 
Asia/Hong_Kong – 香港 
Asia/Macao – 澳门 
Asia/Taipei – 台北 
Asia/Singapore – 新加坡 


函数设置时区方法： 
复制代码 代码如下:

&lt;?php 
function_exists(date_default_timezone_set);//在这他总是返回1,这函数是判断这里面的字符是不是一个定义了的函数名 
date_default_timezone_set(&quot;Etc/GMT&quot;);//这是格林威治标准时间,得到的时间和默认时区是一样的 
date_default_timezone_set(&quot;Etc/GMT+8&quot;);//这里比林威治标准时间慢8小时 
date_default_timezone_set(&quot;Etc/GMT-8&quot;);//这里比林威治标准时间快8小时 
date_default_timezone_set(&apos;PRC&apos;); //设置中国时区 
?&gt; 


函数ini_set()设置时区： 
可以在文件开头加入 ini_set(&apos;date.timezone&apos;,&apos;Asia/Shanghai&apos;); // &apos;Asia/Shanghai&apos; 为上海时区 

手动修改php.ini设置 
打开php找到date.timezone = &quot;PRC&quot; 如有去掉前面的分号,没有的话手动添加！ 

以下是一些资料补充：

装上PHP5后你会发现这样的问题 

$atime=date(&quot;Y-m-d H:i:s&quot;); 
echo $atime; 
?&gt; 
输出:2006-05-16 06:36:06 
现在几点了?/我的是14:36 
这是为什么捏？ 
原因是假如你不在程序或配置文件中设置你的服务器当地时区的话 
PHP所取的时间是格林威治标准时间，所以和你当地的时间会有出入 
格林威治标准时间和北京时间大概差8个小时左右 那么我们如何避免时间误差呢？ 
我们一起来看看解决方法: 
在页头使用date_default_timezone_set()设置我的默认时区为北京时间 
复制代码 代码如下:

&lt;? 
date_default_timezone_set(&apos;PRC&apos;); 
echo date(&apos;Y-m-d H:i:s&apos;); 
?&gt; 

时间和服务器当前时间一样了! 
另外附date_default_timezone_set用法如下: 
------------------------------------------------------------------------------------ 
date_default_timezone_set 
(PHP 5 &gt;= 5.1.0RC1) 
date_default_timezone_set -- 设定用于一个脚本中所有日期时间函数的默认时区 
说明 
bool date_default_timezone_set ( string timezone_identifier ) 
date_default_timezone_set() 设定用于所有日期时间函数的默认时区。 
注: 自 PHP 5.1.0 起（此版本日期时间函数被重写了），如果时区不合法则每个对日期时间函数的调用都会产生一条 E_NOTICE 级别的错误信息。 
参数 
timezone_identifier 
时区标识符，例如 UTC 或 Europe/Lisbon 
返回值 
本函数永远返回 TRUE（即使 timezone_identifier 参数不合法）。 
------------------------------------------------------------------------------------- 
或者修改 php.ini 中 date.timezone 值 
date.timezone = PRC 

装上PHP5后你会发现这样的问题 
$atime=date(&quot;Y-m-d H:i:s&quot;); 
echo $atime; 
?&gt; 
输出:2006-05-16 06:36:06 
现在几点了?/我的是14:36 
这是为什么捏？ 
原因是假如你不在程序或配置文件中设置你的服务器当地时区的话 
PHP所取的时间是格林威治标准时间，所以和你当地的时间会有出入 
格林威治标准时间和北京时间大概差8个小时左右 那么我们如何避免时间误差呢？ 
我们一起来看看解决方法: 
在页头使用date_default_timezone_set()设置我的默认时区为北京时间 
复制代码 代码如下:

&lt;? 
date_default_timezone_set(&apos;PRC&apos;); 
echo date(&apos;Y-m-d H:i:s&apos;); 
?&gt; 

时间和服务器当前时间一样了! 
另外附date_default_timezone_set用法如下: 
------------------------------------------------------------------------------------ 
date_default_timezone_set 
(PHP 5 &gt;= 5.1.0RC1) 
date_default_timezone_set -- 设定用于一个脚本中所有日期时间函数的默认时区 
说明 
bool date_default_timezone_set ( string timezone_identifier ) 
date_default_timezone_set() 设定用于所有日期时间函数的默认时区。 
注: 自 PHP 5.1.0 起（此版本日期时间函数被重写了），如果时区不合法则每个对日期时间函数的调用都会产生一条 E_NOTICE 级别的错误信息。 
参数 
timezone_identifier 
时区标识符，例如 UTC 或 Europe/Lisbon 
返回值 
本函数永远返回 TRUE（即使 timezone_identifier 参数不合法）。 
------------------------------------------------------------------------------------- 
或者修改 php.ini 中 date.timezone 值 
date.timezone = PRC
</code></pre><p>　Session的声明与使用<br>　　Session的设置不同于Cookie，必须先启动，在PHP中必须调用session_start()。session_start()函数的语法格式如下：<br>　　Bool session_start(void) //创建Session，开始一个会话，进行Session初始化<br>　　注意：session_start()函数之前不能有任何输出<br>　　当第一次访问网站时，Seesion_start()函数就会创建一个唯一的Session ID，并自动通过HTTP的响应头，将这个Session ID保存到客户端Cookie中。同时，也在服务器端创建一个以Session ID命名的文件，用于保存这个用户的会话信息。当同一个用户再次访问这个网站时，也会自动通过HTTP的请求头将Cookie中保存的Seesion ID再携带过来，这时Session_start()函数就不会再去分配一个新的Session ID，而是在服务器的硬盘中去寻找和这个Session ID同名的Session文件，将这之前为这个用户保存的会话信息读出，在当前脚本中应用，达到跟踪这个用户的目的。 Session以数组的形式使用，如：$_SESSION[‘session名’]<br>　　注册一个会话变量和读取Session<br>　　在PHP中使用Session变量，除了要启动之外，还要经过注册的过程。注册和读取Session变量，都要通过访问$_SESSION数组完成。在$_SESSION关联数组中的键名具有和PHP中普通变量相同的命名规则。注册Session变量的代码如下所示：<br> 代码如下     </p>
<p>&lt;?php<br>//启动session的初始化<br>session_start();<br>//注册session变量，赋值为一个用户的名称<br>$_SESSION[“username”]=”skygao”;<br>//注册session变量，赋值为一个用户的ID<br>$_SESSION[“uid”]=1;<br>?&gt;<br>　　执行该脚本后，两个Session变量就会被保存在服务器端的某个文件中，该文件的位置是通过php.ini文件，在session.save_path属性指定的目录下。<br>　　注销变量与销毁Session<br>　　当使用完一个Session变量后，可以将其删除，当完成一个会话后，也可以将其销毁。如果用户退出Web系统，就需要为他提供一个注销的功能，把他的所有信息在服务器中销毁。销毁和当前Session有关的所有的资料，可以调用session_destroy()函数结束当前的会话，并清空会话中的所有资源。该函数的语法格式如下所示：<br>　　bool session_destroy(void) //销毁和当前Session有关的所有资料<br>　　该函数并不会释放和当前Session相关的变量，也不会删除保存在客户端Cookie中的Session<br>　　ID。因为$_SESSION数组和自定义的数组在使用上是相同的，所以我们可以使用unset()函数来释放在Session中注册的单个变量。如下所示：<br>　　unset($_SESSION[‘键名’]);<br>　　一定要注意，不要使用unset($_SESSION)删除整个$_SESSION数组，这样将不能再通过$_SESSION超全局数组注册变量了。但如果想把某个用户在Session中注册的所有变量都删除，可以直接将数组变量$_SESSION赋上一个空数组。如下所示：<br>　　$_SESSION=array()<br>　　PHP默认的Session是基于Cookie的，Session<br>　　ID被服务器存储在客户端的Cookie中，所以在注销Session时也需要清除Cookie中保存的SessionID，而这就必须借助setCookie()函数完成。在PHP脚本中，可以通过调用session_name()函数获取Session名称。删除保存在客户端Cookie中的Session<br>　　ID，代码如下所示：<br> 代码如下<br>&lt;?php<br>//判断Cookie中是否存在session ID<br>if(isset($_COOKIE[session_name()])){<br>    //删除包含Session ID的cookie，注意第四个参数一定要和php.ini设置的路径相同<br>    setcookie(session_name(),’’,time()-3600,’/‘);<br>}<br>?&gt;<br>　　通过前面的介绍可以总结出，Session的注销过程共需要4个步骤。在下例中，提供完整的四个步骤代码，运行该脚本就可以关闭Session，并销毁与本次会话有关的所有资源。代码如下所示：<br> 代码如下<br>&lt;?php<br>//第一步：开启Session并初始化<br>session_start();</p>
<p>//第二部：删除所有Session的变量，也可以用unset($_SESSION[XXX])逐个删除<br>$_SESSION = array();</p>
<p>//第三部：如果使用基于Cookie的session，使用setCookkie()删除包含Session ID的cookie<br>if(isset($_COOKIE[session_name()])) {<br>    setCookie(session_name(), “”, time()-42000, “/“);<br>}</p>
<p>//第四部：最后彻底销毁session<br>session_destroy();</p>
<p>?&gt;<br>　　session的phpini配置选项<br>　　php.ini文件和Session有关的几个常用配置选项：<br>　　session.auto_start = 0 ; 在请求启动时初始化session<br>　　session.cache_expire = 180 ; 设置缓存中的会话文档在 n 分钟后过时<br>　　session.cookie_lifetime = 0 ; 设置按秒记的cookie的保存时间，相当于设置Session的过期时间，为0时表示直到浏览器被重启<br>　　session.auto_start=1，这样就无需每次使用session之前都要调用session_start()不建议使用.但启用该选项也有一些限制，如果确实启用了 session.auto_start，则不能将对象放入会话中，因为类定义必须在启动会话之前加载以在会话中重建对象。<br>　　session.cookie_path = / ; cookie的有效路径<br>　　session.cookie_domain = ; cookie的有效域<br>　　session.name = PHPSESSID; 用在cookie里的session的名字<br>　　session.save_handler = files ; 用于保存/取回数据的控制方式<br>　　session.save_path = /tmp ; 在 save_handler 设为文件时传给控制器的参数， 这是数据文件将保存的路径.<br>　　session.use_cookies = 1 ; 是否使用cookies<br>　　Session的垃圾自动回收机制<br>　　可以通过session_destroy()函数在页面中提供一个“退出”按钮，通过单击销毁本次会话。但如果用户没有单击退出按钮，而是直接关闭浏览器，或断网等情况，在服务器端保存的Session文件是不会删除的。虽然关闭浏览器，下次需要重新分配一个新的Session ID重新登录，但这只是因为在php.ini中的设置seesion.cookie_lifetime=0，来设定Session ID在客户端Cookie中的有效限期，以秒为单位指定了发送到浏览器的Cookie的生命周期。当系统赋予Session有效期限后不管浏览器是否开启，Session ID都会自动消失。而客户端Session ID消失服务器端保存的Session文件并没有被删除。所以没有被Sessoin ID引用的服务器端Session文件，就成为了“垃圾”。<br>　　服务器保存的Session文件就是一个普通文本文件，所以都会有文件修改时间。“垃圾回收程序”启动后就是根据Session文件的修改时间，将所有过期的Session文件全部删除。通过在php.ini中设置session.gc_maxlifetime选项来指定一个时间(单位：秒)，例如设置该选项值为1440(24分钟)。“垃圾回收程序”就会在所有Session文件中排查，如果有修改时间距离当前系统时间大于1440秒的就将其删除。<br>　　“session垃圾回收程序”是怎样的启动机制呢?“垃圾回收程序”是在调用session_start()函数时启动的。而一个网站有多个脚本，没有脚本又都要使用session_start()函数开启会话，又会有很多个用户同时访问，这就很可能session_start()函数在1秒内被调用N次，而如果每次都会启动“session垃圾回收程序”，这样是很不合理的。可以通过php.ini文件中修改“session.gc_probability和session.gc_divisor”两个选项，设置启动垃圾回收程序的概率。会根据“session.gc_probability/session.gc_divisor”公示计算概率，例如选项session.gc_probability=1，而选项session.gc_divisor=100，这样的概率就是“1/100”，即session_start()函数被调用100次才会有一次可能启动“垃圾回收程序”。<br>　　php.ini中相关的配置<br>　　session.cookie_lifetime=0; 关闭浏览器相应的cookie文件即被删除<br>　　session.gc_maxlifetime; 设置过期session时间，默认1440秒(24分钟)<br>　　session.gc_probability/session.gc_divisor; 启动垃圾回收机制的概率(建议值为1/1000——5000)<br>　　cookie禁用时通过URL传递session的ID<br>　　使用Session跟踪一个用户，是通过在各个页面之间传递唯一的Session ID，并通过Session ID提取这个用户在服务器中保存的Session变量。常见的Session ID传送方法有以下两种。<br>　　第一种方法是基于cookie的方式传递session ID，这种方式更优，但不总是可用， 因为用户在客户端可以屏蔽cokie;<br>　　第二种方法是通过url参数进行传递，直接将session ID嵌入到URL中去。<br>　　在Session的实现中通常都是采用Cookie的方式，客户端保存的Session ID就是一个Cookie。当客户禁用Cookie时，Session ID就不能在Cookie中保存，也就不能在页面之间传递，此时Session失效。不过PHP5在Linux平台可以自动检查Cookie状态，如果客户端禁用它，则系统自动把Session ID附加到URL上传送。而使用Windows系统作为Web服务器则无此功能。<br>　　在PHP中提出了跟踪Session的另一种机制，如果客户浏览器不支持Cookie，则PHP可以重写客户请求的URL，把Session ID添加到URL信息中。可以手动地在每个超链接的URL中都加上一个Session ID，但工作量比较大，不建议使用这种方法。如下所示：<br> 代码如下<br>&lt;?php<br>//开启session<br>session_start();</p>
<p>//在每个URL后面附加上参数，变量名为session_name()获取名称，值通过session_id()获取<br>echo ‘<a href="demo.php?'.session_name().'='.session_id().'">连接演示</a>‘;<br>?&gt;<br>在使用Linux系统做服务器时，则在编辑PHP时如果使用了–enable-trans-sid配置选项，和运行时选项session.use_trans_sid都被激活，在客户端禁用Cookie时，相对URL将被自动修改为包含会话ID。如果没有这么配置，或者使用Windows系统作为服务器时，可以使用常量SID。该常量在会话启动时被定义，如果客户端没有发送适当的会话Cookie，则SID的格式为session_name=session_id,否则就为一个空字符串。因此可以无条件地将其嵌入到URL中去。在下例中使用两个脚本程序，演示了Session ID的传送方法。<br>&lt;?php<br>session_start();</p>
<p>$_SESSION[“username”]=”admin”;</p>
<p>echo “session ID:”.session_id().”<br>“;</p>
<p>?&gt;</p>
<p>　　通过URL传递Session ID<br>　　在脚本test2.php中，输出test1.php脚本在Session变量中保存的另一个用户名。又在该页面中输出一次Session ID，通过对比判断两个脚本是否使用同一个Session ID。另外，在开启或关闭Cookie时，注意浏览器地址栏中URL的变化。代码如下所示：<br> 代码如下<br>&lt;?php<br>session_start();</p>
<p>echo $_SESSION[“username”].”&lt; br&gt;”;<br>echo “session ID:”.session_id().”<br>“;</p>
<p>?&gt;</p>
<h2 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h2><pre><code>修改 wamp mysql 数据库密码
通过wamp的mysql console 进入 mysql 控制台，然后使用如下命令进行密码修改

use mysql;
update user set password=PASSWORD(&apos;hooray&apos;) where user=&apos;root&apos;;
flush privileges;
quit
</code></pre><h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><pre><code>一、总结一下：

1.linux下启动mysql的命令：
   mysqladmin start
/ect/init.d/mysql start (前面为mysql的安装路径)

2.linux下重启mysql的命令：
   mysqladmin restart
/ect/init.d/mysql restart (前面为mysql的安装路径)

3.linux下关闭mysql的命令：
   mysqladmin shutdown
   /ect/init.d/mysql   shutdown (前面为mysql的安装路径)

4.连接本机上的mysql：
进入目录mysql/bin，再键入命令mysql -uroot -p， 回车后提示输入密码。
退出mysql命令：exit（回车）

5.修改mysql密码：
mysqladmin -u用户名 -p旧密码 password 新密码
或进入mysql命令行SET PASSWORD FOR root=PASSWORD(&quot;root&quot;);

6.增加新用户。（注意：mysql环境中的命令后面都带一个分号作为命令结束符）
grant select on 数据库.* to 用户名@登录主机 identified by &quot;密码&quot;
如增加一个用户test密码为123，让他可以在任何主机上登录， 并对所有数据库有查询、插入、修改、删除的权限。首先用以root用户连入mysql，然后键入以下命令：
grant select,insert,update,delete on *.* to &quot; Identified by &quot;123&quot;;

二、有关mysql数据库方面的操作
      必须首先登录到mysql中，有关操作都是在mysql的提示符下进行，而且每个命令以分号结束

1、显示数据库列表。
     show databases;
2、显示库中的数据表：
      use mysql； ／／打开库
      show tables;
3、显示数据表的结构：
    describe 表名;
4、建库：
    create database 库名;
5、建表：
    use 库名；
    create table 表名(字段设定列表)；
6、删库和删表:
     drop database 库名;
      drop table 表名；
7、将表中记录清空：
     delete from 表名;
8、显示表中的记录：
    select * from 表名;

9、编码的修改
如果要改变整个mysql的编码格式：
启动mysql的时候，mysqld_safe命令行加入
--default-character-set=gbk

如果要改变某个库的编码格式：在mysql提示符后输入命令
alter database db_name default character set gbk;

三、数据的导入导出

1、文本数据转到数据库中
    文本数据应符合的格式：字段数据之间用tab键隔开，null值用来代替。例：
    1 name duty 2006-11-23
    数据传入命令 load data local infile &quot;文件名&quot; into table 表名;

2、导出数据库和表
    mysqldump --opt news &gt; news.sql（将数据库news中的所有表备份到news.sql文件，news.sql是一个文本文件，文件名任取。）
    mysqldump --opt news author article &gt; author.article.sql（将数据库news中的author表和article表备份到author.article.sql文件， author.article.sql是一个文本文件，文件名任取。）
    mysqldump --databases db1 db2 &gt; news.sql（将数据库dbl和db2备份到news.sql文件，news.sql是一个文本文件，文件名任取。）
     mysqldump -h host -u user -p pass --databases dbname &gt; file.dump
就是把host上的以名字user，口令pass的数据库dbname导入到文件file.dump中
    mysqldump --all-databases &gt; all-databases.sql（将所有数据库备份到all-databases.sql文件，all-databases.sql是一个文本文件，文件名任取。）

3、导入数据
    mysql &lt; all-databases.sql（导入数据库）
    mysql&gt;source news.sql;（在mysql命令下执行，可导入表）



一、连接MySQL
        格式： mysql -h主机地址 -u用户名 －p用户密码

        1、例1：连接到本机上的MYSQL。

        首先在打开DOS窗口，然后进入目录 mysqlbin，再键入命令mysql -uroot -p，回车后提示你输密码，如果刚安装好MYSQL，超级用户root是没有密码的，故直接回车即可进入到MYSQL中了，MYSQL的提示符是： mysql&gt;。

        2、例2：连接到远程主机上的MYSQL。假设远程主机的IP为：110.110.110.110，用户名为root,密码为abcd123。则键入以下命令：

        mysql -h110.110.110.110 -uroot -pabcd123

        （注:u与root可以不用加空格，其它也一样）

        3、退出MYSQL命令： exit （回车）。

        二、修改密码

        格式：mysqladmin -u用户名 -p旧密码 password 新密码

        1、例1：给root加个密码ab12。首先在DOS下进入目录mysqlbin，然后键入以下命令：
* ********************

Linux启动/停止/重启Mysql数据库的方法

1、查看mysql版本
方法一：status;
方法二：select version();

2、Mysql启动、停止、重启常用命令
a、启动方式
1、使用 service 启动：
[root@localhost /]# service mysqld start (5.0版本是mysqld)
[root@szxdb etc]# service mysql start (5.5.7版本是mysql)

2、使用 mysqld 脚本启动：
/etc/inint.d/mysqld start

3、使用 safe_mysqld 启动：
safe_mysqld&amp;

b、停止
1、使用 service 启动：
service mysqld stop

2、使用 mysqld 脚本启动：
/etc/inint.d/mysqld stop

3、mysqladmin shutdown

c、重启
1、使用 service 启动：
service mysqld restart
service mysql restart (5.5.7版本命令)

2、使用 mysqld 脚本启动：
/etc/init.d/mysqld restart

* ****************************
On Debian, if you get the error:
/usr/local/mysql/bin/mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: No such file or directory
type the following
1
apt-get install libaio1 libaio-dev
On Redhat/Fedora/CentOS:
1
yum install libaio


* *************************************

/usr/local/mysql/bin/mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: No such file or directory   Last Modified: May 13, 2011, 12:54 am
On Debian, if you get the error:
/usr/local/mysql/bin/mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: No such file or directory

type the following
apt-get install libaio1 libaio-dev

On Redhat/Fedora/CentOS:
yum install libaio
</code></pre><h2 id="slow-log-慢查询-开启"><a href="#slow-log-慢查询-开启" class="headerlink" title="slow_log 慢查询 开启"></a>slow_log 慢查询 开启</h2><pre><code>1. 查看mysql系统参数

mysql&gt; show variables like &quot;%slow%&quot;;
+---------------------------+-------------------------------+
| Variable_name             | Value                         |
+---------------------------+-------------------------------+
| log_slow_admin_statements | OFF                           |
| log_slow_slave_statements | OFF                           |
| slow_launch_time          | 2                             |
| slow_query_log            | OFF                           |
| slow_query_log_file       | /mysql/data/nagiosdb-slow.log |
+---------------------------+-------------------------------+
5 rows in set (0.00 sec)

slow_query_log： off关闭状态  on开启状态
slow_launch_time   默认超过2s为慢查询
slow_query_log_file  慢查询日志存放地点

这三个参数，在不同的mysql版本中，不太一样，不过都可以通过 show variables like &quot;%slow%&quot; 查看出来

2. 运行如下命令即可运行慢查询日志

mysql&gt; set global slow_query_log=ON;
Query OK, 0 rows affected (0.03 sec)

mysql&gt; set global slow_launch_time=5;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; show variables like &quot;%slow%&quot;;
+---------------------------+-------------------------------+
| Variable_name             | Value                         |
+---------------------------+-------------------------------+
| log_slow_admin_statements | OFF                           |
| log_slow_slave_statements | OFF                           |
| slow_launch_time          | 5                             |
| slow_query_log            | ON                            |
| slow_query_log_file       | /mysql/data/nagiosdb-slow.log |
+---------------------------+-------------------------------+
5 rows in set (0.00 sec)

mysql 5.1.6版本起，slow_query_log 和 slow_launch_time 支持写文件或写数据库表两种方式，并且日志的开启，输出方式的修改，都可以在global级别动态修改。
只需简单通过set global slow_query_log=ON;即可开启慢查询，而不需要重启数据库！

3. 可以直接写到配置文件中  my.cnf

slow_query_log_file=/mysql/log/nagiosdb-slow.log
slow_launch_time=5

可以完成配置！！
</code></pre><h2 id="onsubmit"><a href="#onsubmit" class="headerlink" title="onsubmit"></a>onsubmit</h2><pre><code>* 在表单提交前执行
* 必须在执行的方法前写上 return 用以向 onsubmit 本身返回其中 执行的方法的 返回值
* 若 onsubmit 接收的返回值为 false 则阻止表单提交
</code></pre><h1 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h1><p>您好<br>需要修改两处文件即可：<br>1．编辑文件/etc/hosts<br>/etc/hosts 的内容一般有如下类似内容：<br>127.0.0.1 localhost.localdomain localhost<br>192.168.1.195 debian.localdomain debian<br>将和本机地址对应的名字修改为自己想要的名字（localhost.localdomain=yourname），保存退出。<br>2．编辑文件/etc/sysconfig/network<br>可以直接修改配置文件/etc/sysconfig/network<br>这里有一个HOSTNAME=yourname<br>直接修改。</p>
<p>   现在使用linux的朋友越来越多了，在linux下做开发首先就是需要配置环境变量，下面以配置java环境变量为例介绍三种配置环境变量的方法。<br> 1.修改/etc/profile文件<br>如果你的计算机仅仅作为开发使用时推荐使用这种方法，因为所有用户的shell都有权使用这些环境变量，可能会给系统带来安全性问题。</p>
<p>(1)用文本编辑器打开/etc/profile</p>
<p>(2)在profile文件末尾加入：<br>JAVA_HOME=/usr/share/jdk1.5.0_05<br>PATH=$JAVA_HOME/bin:$PATH<br>CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar<br>export JAVA_HOME<br>export PATH<br>export CLASSPATH</p>
<p>(3)重新登录</p>
<p>注解：<br>a. 你要将 /usr/share/jdk1.5.0_05jdk 改为你的jdk安装目录</p>
<p>b. linux下用冒号“:”来分隔路径</p>
<p>c. $PATH / $CLASSPATH / $JAVA_HOME 是用来引用原来的环境变量的值,在设置环境变量时特别要注意不能把原来的值给覆盖掉了，这是一种常见的错误。</p>
<p>d. CLASSPATH中当前目录“.”不能丢,把当前目录丢掉也是常见的错误。</p>
<p>e. export是把这三个变量导出为全局变量。</p>
<p>f. 大小写必须严格区分。</p>
<ol>
<li>修改.bashrc文件　　<br>这种方法更为安全，它可以把使用这些环境变量的权限控制到用户级别，如果你需要给某个用户权限使用这些环境变量，你只需要修改其个人用户主目录下的.bashrc文件就可以了。</li>
</ol>
<p>(1)用文本编辑器打开用户目录下的.bashrc文件</p>
<p>(2)在.bashrc文件末尾加入：　　<br>set JAVA_HOME=/usr/share/jdk1.5.0_05<br>export JAVA_HOME<br>set PATH=$JAVA_HOME/bin:$PATH<br>export PATH<br>set CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar<br>export CLASSPATH</p>
<p>(3)重新登录</p>
<ol>
<li>直接在shell下设置变量<br>不赞成使用这种方法，因为换个shell，你的设置就无效了，因此这种方法仅仅是临时使用，以后要使用的时候又要重新设置，比较麻烦。</li>
</ol>
<p>只需在shell终端执行下列命令：<br>export JAVA_HOME=/usr/share/jdk1.5.0_05<br>export PATH=$JAVA_HOME/bin:$PATH<br>export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</p>
<hr>
<p>Linux开机启动程序详解</p>
<p>我们假设大家已经熟悉其它操作系统的引导过程，了解硬件的自检引导步骤，就只从Linux操作系统的引导加载程序(对个人电脑而言通常是LILO)开始，介绍Linux开机引导的步骤。</p>
<p>加载内核<br>LILO启动之后，如果你选择了Linux作为准备引导的操作系统，第一个被加载的东西就是内核。请记住此时的计算机内存中还不存在任何操作系统，PC(因为它们天然的设计缺陷)也还没有办法存取机器上全部的内存。因此，内核就必须完整地加载到可用RAM的第一个兆字节之内。为了实现这个目的，内核是被压缩了的。这个文件的头部包含着必要的代码，先设置CPU进入安全模式(以此解除内存限制)，再对内核的剩余部分进行解压缩。</p>
<p>执行内核<br>内核在内存中解压缩之后，就可以开始运行了。此时的内核只知道它本身内建的各种功能，也就是说被编译为模块的内核部分还不能使用。最基本的是，内核必须有足够的代码设置自己的虚拟内存子系统和根文件系统(通常就是ext2文件系统)。一旦内核启动运行，对硬件的检测就会决定需要对哪些设备驱动程序进行初始化。从这里开始，内核就能够挂装根文件系统(这个过程类似于Windows识别并存取C盘的过程)。内核挂装了根文件系统之后，将启动并运行一个叫做init的程序。</p>
<p>注意：在这里我们故意略去了Linux内核启动的许多细节，这些细节只有内核开发人员才感兴趣。如果你好奇的话，可以访问http：//www.redhat.com：8080地址处的”Kernel Hackers Guide”。<br>init进程<br>init进程是非内核进程中第一个被启动运行的，因此它的进程编号PID的值总是1。init读它的配置文件/etc/inittab，决定需要启动的运行级别(Runlevel)。从根本上说，运行级别规定了整个系统的行为，每个级别(分别由0到6的整数表示)满足特定的目的。如果定义了initdefault级别，这个值就直接被选中，否则需要由用户输入一个代表运行级别的数值。<br>输入代表运行级别的数字之后，init根据/etc/inittab文件中的定义执行一个命令脚本程序。缺省的运行级别取决于安装阶段对登录程序的选择：是使用基于文本的，还是使用基于X-Window的登录程序。<br>rc命令脚本程序我们已经知道，当运行级别发生改变时，将由/etc/inittab文件定义需要运行哪一个命令脚本程序。这些命令脚本程序负责启动或者停止该运行级别特定的各种服务。由于需要管理的服务数量很多，因此需要使用rc命令脚本程序。其中，最主要的一个是/etc/rc.d/rc，它负责为每一个运行级别按照正确的顺序调用相应的命令脚本程序。我们可以想象，这样一个命令脚本程序很容易变得难以控制！为了防止这类事件的发生，需要使用精心设计的方案。</p>
<p>对每一个运行级别来说，在/etc/rc.d子目录中都有一个对应的下级目录。这些运行级别的下级子目录的命名方法是rcX.d，其中的X就是代表运行级别的数字。比如说，运行级别3的全部命令脚本程序都保存在/etc/rc.d/rc3.d子目录中。在各个运行级别的子目录中，都建立有到/etc/rc.d/init.d子目录中命令脚本程序的符号链接，但是，这些符号链接并不使用命令脚本程序在/etc/rc.d/init.d子目录中原来的名字。如果命令脚本程序是用来启动一个服务的，其符号链接的名字就以字母S打头；如果命令脚本程序是用来关闭一个服务的，其符号链接的名字就以字母K打头。<br>许多情况下，这些命令脚本程序的执行顺序都很重要。如果没有先配置网络接口，就没有办法使用DNS服务解析主机名！为了安排它们的执行顺序，在字母S或者K的后面紧跟着一个两位数字，数值小的在数值大的前面执行。比如：/etc/rc.d/rc3.d/S50inet就会在/etc/rc.d/rc3.d/S55named之前执行(S50inet配置网络设置，55named启动DNS服务器)。存放在/etc/rc.d/init.d子目录中的、被符号链接上的命令脚本程序是真正的实干家，是它们完成了启动或者停止各种服务的操作过程。当/etc/rc.d/rc运行通过每个特定的运行级别子目录的时候，它会根据数字的顺序依次调用各个命令脚本程序执行。它先运行以字母K打头的命令脚本程序，然后再运行以字母S打头的命令脚本程序。对以字母K打头的命令脚本程序来说，会传递Stop参数；类似地对以字母S打头的命令脚本程序来说，会传递Start参数。编写自己的rc命令脚本在维护Linux系统运转的日子里，肯定会遇到需要系统管理员对开机或者关机命令脚<br>本进行修改的情况。</p>
<p>有两种方法可以用来实现修改的目的：<br>●如果所做的修改只在引导开机的时候起作用，并且改动不大的话，可以考虑简单地编辑一下/etc/rc.d/rc.local脚本。这个命令脚本程序是在引导过程的最后一步被执行的。<br>●如果所做的修改比较细致，或者还要求关闭进程使之明确地停止运行，则需要在/etc/rc.d/init.d子目录中添加一个命令脚本程序。这个命令脚本程序必须可以接受Start和Stop参数并完成相应的操作。<br>第一种方法，编辑/etc/rc.d/rc.local脚本，当然是两种方法中比较简单的。如果想在这个命令脚本程序中添加内容，只需要使用喜欢的编辑器程序打开它，再把打算执行的命令附加到文件的末尾就可以了。这对一两行的修改来说的确很便利。</p>
<p>如果确实需要使用一个命令脚本程序，这时必须选择第二个方法。编写一个rc命令脚本程序的过程并不像想象中那么困难。我们下面就给出一个例子，看看它是怎样实现的(顺便说一句，你可以把我们的例子当作范本，按照自己的需要进行修改和添加)。<br>假设你打算每隔60分钟调用一个特殊的程序来弹出一条消息，提醒自己需要从键盘前面离开休息一会儿，命令脚本程序将包括下面几个部分：<br>●关于这个命令脚本程序功能的说明(这样就不会在一年之后忘记它)；<br>●在试图运行它之前验证这个命令脚本程序确实存在；<br>●接受start和stop参数并执行要求的动作。</p>
<p>参数给定后，我们就可以编写命令的脚本程序。这个程序很简单，大家可以自己编写一下，我在这里就不给出了。<br>编写好新的命令脚本程序之后，再从相关的运行级别子目录中加上必要的符号链接，来控制这个命令脚本程序的启动或者停止。在我的印象中，只想让它在运行级别3或者运行级别5中启动，原因是我认为只有这两个运行级别才是日常工作的地方。最后，希望这个命令脚本程序在进入运行级别6(重启动)的时候被关闭。</p>
<p>激活或者禁止服务项目有的时候会发现，在引导的时候并不需要某个特定的服务被启动。如果你正在考虑使用Linux替换Windows NT的文件和打印服务器，就更是如此。我们已经知道，在特定的运行级别子目录中给符号链接改个名称，就可以让该服务不被启动，如把其名称的第一个字母由S改为K。一旦熟练掌握了命令行和符号链接，就会发现这是激活或者禁止服务的最快办法。</p>
<p>在学习这个改名方法的时候，可能会觉得图形化的操作界面ksysv比较容易掌握。虽然它原来是设计使用在KDE环境里的，但在Red HatLinux 7.2下缺省安装的GNOME环境里也运行得很好。如果想启动它，只需简单地打开一个xterm窗口，并输入ksysv命令就可以了。屏幕上会出现一个窗口，其中列出了能够修改的全部参数，需要时还包括在线帮助。警告：如果是在一个现实中的系统上学习本文的知识，要多多运用常识。当试着对启动脚本程序进行修改的时候，要记住所做的修改可能会造成你的系统不能正常工作，而且无法采用重启动的方法恢复。不要在正常运转的系统上实验新的设置，对你准备修改的文件要全部进行备份。最重要的是，在手边要准备一张引导盘以防不测。</p>
<p><a href="http://blog.csdn.net/xitong2012/article/details/7260956" target="_blank" rel="noopener">http://blog.csdn.net/xitong2012/article/details/7260956</a></p>
<p>在Linux系统如何让程序开机时自动启动</p>
<p>　     核心提示：系统的服务在开机时一般都可以自动启动，那在linux系统下如果想要程序在开机时自动启动怎么办?我们知道在 windows系统“开始”–&gt;“所有程序”–&gt;“启动”里面放个快捷方式就行，那Linux系统下呢？…系统的服务在开机时一般都可以自动启动，那在linux系统下如果想要程序在开机时自动启动怎么办?我们知道在 windows系统“开始”–&gt;“所有程序”–&gt;“启动”里面放个快捷方式就行，那Linux系统下呢？</p>
<p>这也是一个比较简单的问题，有不少的方法可以解决，这里介绍三种方法。因为是简单介绍，所以具体细节不是很详细，可以通过man看看相关手册。</p>
<p>一、/etc/rc.local<br>这是一个最简单的方法，编辑“/etc/rc.local”，把启动程序的shell命令输入进去即可（要输入命令的全路径），类似于windows下的“启动”。</p>
<p>使用命令 vi  /etc/rc.local</p>
<p>然后在文件最后一行添加要执行程序的全路径。</p>
<p>例如，每次开机时要执行一个haha.sh，这个脚本放在/opt下面，那就可以在“/etc/rc.local”中加一行“/opt/./haha.sh”，或者两行“cd /opt”和“./haha.sh”。</p>
<p>二、crontab（类似于windows的任务计划服务）<br>通过crontab可以设定程序的执行时间表，例如让程序在每天的8点，或者每个星期一的10点执行一次。<br>crontab -l 列出时间表；<br>crontab -e编辑时间表；<br>crontab -d删除时间表；</p>
<p>“-l”没什么可说的，就是一个查看而已；<br>“-e”是编辑，和vi没什么差别（其实就是用vi编辑一个特定文件）；<br>“-d”基本不用，因为它把该用户所有的时间表都删除了，一般都是用“-e”编辑把不要了的时间表逐行删除；</p>
<p>那到底该如何编辑呢？</p>
<p>crontab文件的格式是：M H D m d CMD。<br>一个6个字段，其中最后一个CMD就是所要执行的程序，如haha.sh。<br>M：分钟（0-59）<br>H：小时（0-23）<br>D：日期（1-31）<br>m：月份（1-12）<br>d：一个星期中的某天（0-6，0代表周日）</p>
<p>这5个时间字段用空格隔开，其值可以是一个数字，也可以用逗号隔开的多个数字（或其他） ，如果不需设置，则默认为“*”。</p>
<p>例如，每天的8点5分执行haha.sh，就是“5 8 <em> </em> * /opt/./haha.sh”。</p>
<p>好像和“开机程序自动启动”扯远了，现在回归正题。其实上面介绍的crontab的功能已经具备了开机自动启动的能力，可以写一个监测脚本，每5分钟执行一次（<em>/5 </em> <em> </em> * ./haha.sh），如果程序不在了就重新启动一次。</p>
<p>三、注册系统服务<br>操作系统自带的服务，如ssh，ftp等等，开机都是自动启动的，我们也可以通过这种方式让自己开发的程序提高“身价”。</p>
<p>比如我想把某个已经安装了的服务添加为系统服务，可以执行以下命令：</p>
<p>chkconfig –add 服务名称          (首先，添加为系统服务,注意add前面有两个横杠)</p>
<p>chkconfig -leve 启动级别 服务名 on</p>
<p>（说明，3级别代表在命令行模式启动，5级别代表在图形界面启动，on表示开启）</p>
<p>chkconfig -leve 启动级别 服务名 off</p>
<p>（说明，off表示关闭自启动）</p>
<p>例如：chkconfig -level 3 mysql on                     (说明：让mysql服务在命令行模式，随系统启动)</p>
<p>也可以使用   chkconfig –add 服务名称    来删除系统服务</p>
<hr>
<p>如果要查看哪些服务被添加为系统服务可以使用命令 ：</p>
<p>   ntsysv  或者chkconfig –list</p>
<p>如果要查看哪些程序被添加为自启动，可以使用命令  ：</p>
<p>cat   /etc/rc.local    （查看这个文件中添加了哪些程序路径）</p>
<hr>
<p> 下面举例说说，如何把一个shell脚本添加为系统服务，并跟随系统启动：</p>
<p>可以看到“/etc/rc.d/init.d”下有很多的文件，每个文件都是可以看到内容的，其实都是一些shell脚本。<br>系统服务的启动就是通过“/etc/rc.d/init.d”中的脚本文件实现的。我们也可以写一个自己的脚本放在这里。<br>脚本文件的内容也很简单，类似于这个样子（例如起个名字叫做“hahad”）：<br>. /etc/init.d/functions<br>start() {<br>        echo “Starting my process “<br>        cd /opt<br>        ./haha.sh<br>}<br>stop() {<br>        killall haha.sh<br>        echo “Stoped”<br>}<br>写了脚本文件之后事情还没有完，继续完成以下几个步骤：<br>chmod +x hahad                    #增加执行权限<br>chkconfig –add hahad             #把hahad添加到系统服务列表<br>chkconfig hahad on                 #设定hahad的开关（on/off）<br>chkconfig –list hahad               #就可以看到已经注册了hahad的服务</p>
<p>这时候才完成了全部工作。</p>
<hr>
<p>　企业软件热点文章<br>　Linux TCP/IP协议的使用和建立   　Windows批处理切换IP地址使用方法<br>　　1. 显示环境变量HOME</p>
<p>　　$ echo $HOME</p>
<p>　　/home/redbooks</p>
<p>　　2. 设置一个新的环境变量hello</p>
<p>　　$ export HELLO=”Hello!”</p>
<p>　　$ echo $HELLO</p>
<p>　　Hello!</p>
<p>　　3. 使用env命令显示所有的环境变量</p>
<p>　　$ env</p>
<p>　　HOSTNAME=redbooks.safe.org</p>
<p>　　PVM_RSH=/usr/bin/rsh</p>
<p>　　Shell=/bin/bash</p>
<p>　　TERM=xterm</p>
<p>　　HISTSIZE=1000</p>
<p>　　…</p>
<p>　　4. 使用set命令显示所有本地定义的Shell变量</p>
<p>　　$ set</p>
<p>　　BASH=/bin/bash</p>
<p>　　BASH_VERSINFO=([0]=”2”[1]=”05b”[2]=”0”[3]=”1”[4]=”release”[5]=”i386-redhat-linux-gnu”)</p>
<p>　　BASH_VERSION=’2.05b.0(1)-release’</p>
<p>　　COLORS=/etc/DIR_COLORS.xterm</p>
<p>　　COLUMNS=80</p>
<p>　　DIRSTACK=()</p>
<p>　　DISPLAY=:0.0</p>
<p>　　…</p>
<p>　　5. 使用unset命令来清除环境变量</p>
<p>　　set可以设置某个环境变量的值。清除环境变量的值用unset命令。如果未指定值，则该变量值将被设为NULL。示例如下：</p>
<p>　　$ export TEST=”Test…” #增加一个环境变量TEST</p>
<p>　　$ env|grep TEST #此命令有输入，证明环境变量TEST已经存在了</p>
<p>　　TEST=Test…</p>
<p>　　$ unset $TEST #删除环境变量TEST</p>
<p>　　$ env|grep TEST #此命令没有输出，证明环境变量TEST已经存在了</p>
<p>　　6. 使用readonly命令设置只读变量</p>
<p>　　如果使用了readonly命令的话，变量就不可以被修改或清除了。示例如下：</p>
<p>　　$ export TEST=”Test…” #增加一个环境变量TEST</p>
<p>　　$ readonly TEST #将环境变量TEST设为只读</p>
<p>　　$ unset TEST #会发现此变量不能被删除</p>
<p>　　-bash: unset: TEST: cannot unset: readonly variable</p>
<p>　　$ TEST=”New” #会发现此也变量不能被修改</p>
<p>　　-bash: TEST: readonly variable</p>
<p>　　环境变量的设置位于/etc/profile文件</p>
<p>　　如果需要增加新的环境变量可以添加下属行</p>
<p>　　export path=$path:/path1:/path2:/pahtN</p>
<p>　　———————————————————————————————————————–</p>
<p>　　1.Linux的变量种类</p>
<p>　　按变量的生存周期来划分，Linux变量可分为两类：</p>
<p>　　1.1 永久的：需要修改配置文件，变量永久生效。</p>
<p>　　1.2 临时的：使用export命令声明即可，变量在关闭shell时失效。</p>
<p>　　2.设置变量的三种方法</p>
<p>　　2.1 在/etc/profile文件中添加变量【对所有用户生效(永久的)】</p>
<p>　　用VI在文件/etc/profile文件中增加变量，该变量将会对Linux下所有用户有效，并且是“永久的”。</p>
<p>　　例如：编辑/etc/profile文件，添加CLASSPATH变量</p>
<p>　　# vi /etc/profile</p>
<p>　　export CLASSPATH=./JAVA_HOME/lib;$JAVA_HOME/jre/lib</p>
<p>　　注：修改文件后要想马上生效还要运行# source /etc/profile不然只能在下次重进此用户时生效。</p>
<p>　　2.2 在用户目录下的.bash_profile文件中增加变量【对单一用户生效(永久的)】</p>
<p>　　用VI在用户目录下的.bash_profile文件中增加变量，改变量仅会对当前用户有效，并且是“永久的”。</p>
<p>　　例如：编辑guok用户目录(/home/guok)下的.bash_profile</p>
<p>　　$ vi /home/guok/.bash.profile</p>
<p>　　添加如下内容：</p>
<p>　　export CLASSPATH=./JAVA_HOME/lib;$JAVA_HOME/jre/lib</p>
<p>　　注：修改文件后要想马上生效还要运行$ source /home/guok/.bash_profile不然只能在下次重进此用户时生效。</p>
<p>　　2.3 直接运行export命令定义变量【只对当前shell(BASH)有效(临时的)】</p>
<p>　　在shell的命令行下直接使用[export 变量名=变量值] 定义变量，该变量只在当前的shell(BASH)或其子shell(BASH)下是有效的，shell关闭了，变量也就失效了，再打开新shell时就没有这个变量，需要使用的话还需要重新定义。</p>
<p>　　3.环境变量的查看</p>
<p>　　3.1 使用echo命令查看单个环境变量。例如：</p>
<p>　　echo $PATH</p>
<p>　　3.2 使用env查看所有环境变量。例如：</p>
<p>　　env</p>
<p>　　3.3 使用set查看所有本地定义的环境变量。</p>
<p>　　unset可以删除指定的环境变量。</p>
<p>　　4.常用的环境变量</p>
<p>　　PATH 决定了shell将到哪些目录中寻找命令或程序</p>
<p>　　HOME 当前用户主目录</p>
<p>　　HISTSIZE　历史记录数</p>
<p>　　LOGNAME 当前用户的登录名</p>
<p>　　HOSTNAME　指主机的名称</p>
<p>　　SHELL 　　当前用户Shell类型</p>
<p>　　LANGUGE 　语言相关的环境变量，多语言可以修改此环境变量</p>
<p>　　MAIL　　　当前用户的邮件存放目录</p>
<p>　　PS1　　　基本提示符，对于root用户是#，对于普通用户是$返回比特网首页&gt;&gt;</p>
<hr>
<p>[root@mysqlserver8 mysql]# scripts/mysql_install_db –user=mysql –basedir=/usr/local/mysql/ –datadir=/data/mysql/mysql_data  –explicit_defaults_for_timestamp<br>WARNING: The host ‘localhost’ could not be looked up with /usr/local/mysql//bin/resolveip.<br>This probably means that your libc libraries are not 100 % compatible<br>with this binary MySQL version. The MySQL daemon, mysqld, should work<br>normally with the exception that host name resolving will not work.<br>This means that you should use IP addresses instead of hostnames<br>when specifying MySQL privileges !<br>原因：不能解析本机主机名<br>解决办法：<br>在/etc/hosts添加<br>192.168.1.100 localhost</p>
<hr>
<p>mysql-5.6.30-linux-glibc2.5-x86_64.tar.gz下载地址：<br>点击打开链接<br>系统版本：</p>
<p>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>[mysql@localhost scripts]$ uname -a<br>Linux localhost.localdomain 2.6.32-358.el6.x86_64 #1 SMP Fri Feb 22 00:31:26 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux<br>解压：<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>[root@localhost mysql]# tar -zxf mysql-5.6.30-linux-glibc2.5-x86_64.tar.gz -C /usr/local/<br>创建mysql用户：<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>[root@localhost mysql]# useradd mysql</p>
<p>设置mysql用户密码：<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>[root@localhost mysql]# echo ‘123456’|passwd –stdin mysql<br>设置权限：<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>[root@localhost mysql]# cd /usr/local<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>[root@localhost local]# chown -R mysql:mysql mysql/<br>切换到mysql用户<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>[root@localhost local]# su - mysql<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>[mysql@localhost ~]$ cd /usr/local/mysql/scripts/<br>安装：<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>[mysql@localhost scripts]$ ./mysql_install_db –user=mysql –basedir=/usr/local/mysql –datadir=/usr/local/mysql/data</p>
<p>输出信息：<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>[mysql@localhost scripts]$ ./mysql_install_db –user=mysql –basedir=/usr/local/mysql –datadir=/usr/local/mysql/data<br>Installing MySQL system tables…2016-04-17 07:41:40 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use –explicit_defaults_for_timestamp server option (see documentation for more details).<br>2016-04-17 07:41:40 0 [Note] /usr/local/mysql/bin/mysqld (mysqld 5.6.30) starting as process 3394 …<br>2016-04-17 07:41:40 3394 [Warning] Buffered warning: Changed limits: max_open_files: 1024 (requested 5000)</p>
<p>2016-04-17 07:41:40 3394 [Warning] Buffered warning: Changed limits: table_open_cache: 431 (requested 2000)</p>
<p>2016-04-17 07:41:40 3394 [Note] InnoDB: Using atomics to ref count buffer pool pages<br>2016-04-17 07:41:40 3394 [Note] InnoDB: The InnoDB memory heap is disabled<br>2016-04-17 07:41:40 3394 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins<br>2016-04-17 07:41:40 3394 [Note] InnoDB: Memory barrier is not used<br>2016-04-17 07:41:40 3394 [Note] InnoDB: Compressed tables use zlib 1.2.3<br>2016-04-17 07:41:40 3394 [Note] InnoDB: Using Linux native AIO<br>2016-04-17 07:41:40 3394 [Note] InnoDB: Using CPU crc32 instructions<br>2016-04-17 07:41:40 3394 [Note] InnoDB: Initializing buffer pool, size = 128.0M<br>2016-04-17 07:41:40 3394 [Note] InnoDB: Completed initialization of buffer pool<br>2016-04-17 07:41:41 3394 [Note] InnoDB: The first specified data file ./ibdata1 did not exist: a new database to be created!<br>2016-04-17 07:41:41 3394 [Note] InnoDB: Setting file ./ibdata1 size to 12 MB<br>2016-04-17 07:41:41 3394 [Note] InnoDB: Database physically writes the file full: wait…<br>2016-04-17 07:41:41 3394 [Note] InnoDB: Setting log file ./ib_logfile101 size to 48 MB<br>2016-04-17 07:41:42 3394 [Note] InnoDB: Setting log file ./ib_logfile1 size to 48 MB<br>2016-04-17 07:41:44 3394 [Note] InnoDB: Renaming log file ./ib_logfile101 to ./ib_logfile0<br>2016-04-17 07:41:44 3394 [Warning] InnoDB: New log files created, LSN=45781<br>2016-04-17 07:41:44 3394 [Note] InnoDB: Doublewrite buffer not found: creating new<br>2016-04-17 07:41:44 3394 [Note] InnoDB: Doublewrite buffer created<br>2016-04-17 07:41:44 3394 [Note] InnoDB: 128 rollback segment(s) are active.<br>2016-04-17 07:41:44 3394 [Warning] InnoDB: Creating foreign key constraint system tables.<br>2016-04-17 07:41:44 3394 [Note] InnoDB: Foreign key constraint system tables created<br>2016-04-17 07:41:44 3394 [Note] InnoDB: Creating tablespace and datafile system tables.<br>2016-04-17 07:41:44 3394 [Note] InnoDB: Tablespace and datafile system tables created.<br>2016-04-17 07:41:44 3394 [Note] InnoDB: Waiting for purge to start<br>2016-04-17 07:41:44 3394 [Note] InnoDB: 5.6.30 started; log sequence number 0<br>2016-04-17 07:41:45 3394 [Note] Binlog end<br>2016-04-17 07:41:45 3394 [Note] InnoDB: FTS optimize thread exiting.<br>2016-04-17 07:41:45 3394 [Note] InnoDB: Starting shutdown…<br>2016-04-17 07:41:46 3394 [Note] InnoDB: Shutdown completed; log sequence number 1625977<br>OK</p>
<p>Filling help tables…2016-04-17 07:41:46 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use –explicit_defaults_for_timestamp server option (see documentation for more details).<br>2016-04-17 07:41:46 0 [Note] /usr/local/mysql/bin/mysqld (mysqld 5.6.30) starting as process 3417 …<br>2016-04-17 07:41:46 3417 [Warning] Buffered warning: Changed limits: max_open_files: 1024 (requested 5000)</p>
<p>2016-04-17 07:41:46 3417 [Warning] Buffered warning: Changed limits: table_open_cache: 431 (requested 2000)</p>
<p>2016-04-17 07:41:46 3417 [Note] InnoDB: Using atomics to ref count buffer pool pages<br>2016-04-17 07:41:46 3417 [Note] InnoDB: The InnoDB memory heap is disabled<br>2016-04-17 07:41:46 3417 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins<br>2016-04-17 07:41:46 3417 [Note] InnoDB: Memory barrier is not used<br>2016-04-17 07:41:46 3417 [Note] InnoDB: Compressed tables use zlib 1.2.3<br>2016-04-17 07:41:46 3417 [Note] InnoDB: Using Linux native AIO<br>2016-04-17 07:41:46 3417 [Note] InnoDB: Using CPU crc32 instructions<br>2016-04-17 07:41:46 3417 [Note] InnoDB: Initializing buffer pool, size = 128.0M<br>2016-04-17 07:41:46 3417 [Note] InnoDB: Completed initialization of buffer pool<br>2016-04-17 07:41:46 3417 [Note] InnoDB: Highest supported file format is Barracuda.<br>2016-04-17 07:41:46 3417 [Note] InnoDB: 128 rollback segment(s) are active.<br>2016-04-17 07:41:46 3417 [Note] InnoDB: Waiting for purge to start<br>2016-04-17 07:41:46 3417 [Note] InnoDB: 5.6.30 started; log sequence number 1625977<br>2016-04-17 07:41:46 3417 [Note] Binlog end<br>2016-04-17 07:41:46 3417 [Note] InnoDB: FTS optimize thread exiting.<br>2016-04-17 07:41:46 3417 [Note] InnoDB: Starting shutdown…<br>2016-04-17 07:41:48 3417 [Note] InnoDB: Shutdown completed; log sequence number 1625987<br>OK</p>
<p>To start mysqld at boot time you have to copy<br>support-files/mysql.server to the right place for your system</p>
<p>PLEASE REMEMBER TO SET A PASSWORD FOR THE MySQL root USER !<br>To do so, start the server, then issue the following commands:</p>
<p>  /usr/local/mysql/bin/mysqladmin -u root password ‘new-password’<br>  /usr/local/mysql/bin/mysqladmin -u root -h localhost.localdomain password ‘new-password’</p>
<p>Alternatively you can run:</p>
<p>  /usr/local/mysql/bin/mysql_secure_installation</p>
<p>which will also give you the option of removing the test<br>databases and anonymous user created by default.  This is<br>strongly recommended for production servers.</p>
<p>See the manual for more instructions.</p>
<p>You can start the MySQL daemon with:</p>
<p>  cd . ; /usr/local/mysql/bin/mysqld_safe &amp;</p>
<p>You can test the MySQL daemon with mysql-test-run.pl</p>
<p>  cd mysql-test ; perl mysql-test-run.pl</p>
<p>Please report any problems at <a href="http://bugs.mysql.com/" target="_blank" rel="noopener">http://bugs.mysql.com/</a></p>
<p>The latest information about MySQL is available on the web at</p>
<p>  <a href="http://www.mysql.com" target="_blank" rel="noopener">http://www.mysql.com</a></p>
<p>Support MySQL by buying support/licenses at <a href="http://shop.mysql.com" target="_blank" rel="noopener">http://shop.mysql.com</a></p>
<p>New default config file was created as /usr/local/mysql/my.cnf and<br>will be used by default by the server when you start it.<br>You may edit this file to change server settings</p>
<p>WARNING: Default config file /etc/my.cnf exists on the system<br>This file will be read by default by the MySQL server<br>If you do not want to use this, either remove it, or use the<br>–defaults-file argument to mysqld_safe when starting the server</p>
<p>这里可能会报错：scripts/mysql_install_db: /usr/bin/perl: bad interpreter: No such file or directory。<br>需要安装perl以及perl-devel.执行命令：yum –y install perl perl-devel</p>
<p>配置文件<br>cd /software/mysql-5.6.21/support-files<br>cp my-default.cnf /etc/my.cnf<br>cp mysql.server /etc/init.d/mysql<br>vim /etc/init.d/mysql          #若mysql的安装目录是/usr/local/mysql,则可省略此步<br>修改文件中的两个变更值<br>basedir=/usr/local/mysql<br>datadir=/usr/local/mysql/data</p>
<p>配置环境变量<br>vi /etc/profile<br>export MYSQL_HOME=/usr/local/mysql<br>export PATH=$MYSQL_HOME/bin:$PATH<br>保存退出<br>source /etc/profile</p>
<p>启动<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>[root@localhost mysql]# chkconfig –add mysql<br>[root@localhost mysql]# chkconfig mysql on<br>[root@localhost mysql]# service mysql start<br>Starting MySQL.. SUCCESS!<br>设置root登录密码：<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>/usr/local/mysql/bin/mysqladmin -u root password ‘new-password’<br>登录：<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>[mysql@localhost ~]$ mysql -uroot -p<br>Enter password:<br>Welcome to the MySQL monitor.  Commands end with ; or \g.<br>Your MySQL connection id is 6<br>Server version: 5.6.30 MySQL Community Server (GPL)</p>
<p>Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.</p>
<p>Oracle is a registered trademark of Oracle Corporation and/or its<br>affiliates. Other names may be trademarks of their respective<br>owners.</p>
<p>Type ‘help;’ or ‘\h’ for help. Type ‘\c’ to clear the current input statement.</p>
<p>mysql&gt;<br>设置登录权限：<br>[vb] view plain copy print?在CODE上查看代码片派生到我的代码片<br>mysql&gt; GRANT ALL PRIVILEGES ON <em>.</em> TO ‘root’@’%’ IDENTIFIED BY ‘123456’ WITH GRANT OPTION;<br>Query OK, 0 rows affected (0.06 sec)</p>
<p>mysql&gt; FLUSH PRIVILEGES;<br>Query OK, 0 rows affected (0.04 sec)</p>
<p>mysql&gt;</p>
<hr>
<p>由于现在要用mysql，以前一直用oracle ，现在下个mysql都要翻墙下载，官方网站都下不了，选择之后都是windows版本。</p>
<p>最后找了个外国网站：<a href="http://fossies.org/linux/misc/mysql-5.6.25-linux-glibc2.5-x86_64.tar.gz/" target="_blank" rel="noopener">http://fossies.org/linux/misc/mysql-5.6.25-linux-glibc2.5-x86_64.tar.gz/</a>　下载了最新版本的：mysql-5.6.25-linux-glibc2.5-x86_64.tar.gz</p>
<p>查看当前centos版本和内核，位数。</p>
<p>[root@localhost ~]#  cat /etc/redhat-release　－－/etc/redhat-release配置文件用一行内容来声明 Red Hat 的名称和版本号。 由 rc.local 使用.<br>CentOS release 6.5 (Final)　　－－　发现我的是6.5版本。<br>[root@localhost ~]# cat /proc/version　　　－－64位系统<br>Linux version 2.6.32-431.el6.x86_64 (mockbuild@c6b8.bsys.dev.centos.org) (gcc version 4.4.7 20120313 (Red Hat 4.4.7-4) (GCC) ) #1 SMP Fri Nov 22 03:15:09 UTC 2013<br>[root@localhost ~]# uname -a<br>Linux localhost.localdomain 2.6.32-431.el6.x86_64 #1 SMP Fri Nov 22 03:15:09 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux</p>
<p>一、把mysql压缩包上传到/usr/mysql　目录下面。安装目录选择/usr/local/mysql。</p>
<p>然后在网上找一篇安装mysql的文章，最后参考了<a href="http://blog.csdn.net/zhanngle/article/details/41042631" target="_blank" rel="noopener">http://blog.csdn.net/zhanngle/article/details/41042631</a></p>
<p>－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－</p>
<p>1.解压tar包<br>cd /software<br>tar -xzvf mysql-5.6.21-linux-glibc2.5-x86_64.tar.gz　　－－　更改对应的包名mysql-5.6.25-linux-glibc2.5-x86_64.tar.gz<br>mv mysql-5.6.21-linux-glibc2.5-x86_64 mysql-5.6.21　　－－更改对应的安装目录/usr/local/mysql</p>
<p>2.添加用户与组<br>groupadd mysql<br>useradd -r -g mysql mysql<br>chown -R mysql:mysql mysql-5.6.21</p>
<p>3.安装数据库<br>su mysql<br>cd mysql-5.6.21/scripts<br>./mysql_install_db –user=mysql –basedir=/software/mysql-5.6.21 –datadir=/software/mysql-5.6.21/data<br>(新的：./mysql_install_db –user=mysql –basedir=/usr/local/mysql –datadir=/usr/local/mysql/data)<br>exit</p>
<p>这里可能会报错：scripts/mysql_install_db: /usr/bin/perl: bad interpreter: No such file or directory。<br>需要安装perl以及perl-devel.执行命令：yum –y install perl perl-devel<br>4.配置文件<br>cd /software/mysql-5.6.21/support-files<br>cp my-default.cnf /etc/my.cnf<br>cp mysql.server /etc/init.d/mysql<br>vim /etc/init.d/mysql          #若mysql的安装目录是/usr/local/mysql,则可省略此步<br>修改文件中的两个变更值<br>basedir=/software/mysql-5.6.21<br>datadir=/software/mysql-5.6.21/data</p>
<p>5.配置环境变量<br>vim /etc/profile<br>export MYSQL_HOME=”/software/mysql-5.6.21”<br>export PATH=”$PATH:$MYSQL_HOME/bin”<br>保存退出<br>. /etc/profile</p>
<p>6.添加自启动服务<br>chkconfig –add mysql<br>chkconfig mysql on</p>
<p>7.启动mysql<br>service mysql start</p>
<p>8.登录mysql及改密码与配置远程访问<br>mysqladmin -u root password ‘your_password’     #修改root用户密码，如果有问题mysqladmin: connect to server at ‘localhost’ failed – <a href="http://blog.csdn.net/zl17/article/details/8589454" target="_blank" rel="noopener">http://blog.csdn.net/zl17/article/details/8589454</a><br>mysql -u root -p     #登录mysql,需要输入密码<br>mysql&gt;GRANT ALL PRIVILEGES ON <em>.</em> TO ‘root’@’%’ IDENTIFIED BY ‘your_password’ WITH GRANT OPTION;     #允许root用户远程访问<br>mysql&gt;FLUSH PRIVILEGES;     #刷新权限<br>mysql&gt;exit</p>
<p>—————————2014/11/25 添加<br>又装了一次此版本的mysql，发现root用户不能登录，提示没权限。使用mysqld_safe 登进去，发现user表居然是空的，没有一个用户，郁闷。<br>于是从其它地方导出了一份user表的sql语句，手动插入了一个用户，再登录就可以了。<br>附：<br>忘记root密码后，如何找回密码<br>cd $MYSQL_HOME<br>./bin/mysqld_safe –basedir=/data/mysql-5.6.21 –datadir=/data/mysql-5.6.21/data –skip-grant-tables &amp;<br>mysql -u root mysql<br>UPDATE user SET password=PASSWORD(“new_password”) WHERE user=’root’;<br>FLUSH PRIVILEGES;</p>
<p>二、按上面的文章安装完之后</p>
<p>1、查询当前安装的mysql版本</p>
<p>[root@localhost ~]# mysql -V<br>mysql  Ver 14.14 Distrib 5.6.25, for linux-glibc2.5 (x86_64) using  EditLine wrapper<br>进入mysql、查看mysql版本<br>方法一：status;<br>方法二：select version();</p>
<p>2、Mysql启动、停止、重启常用命令<br>a、启动方式<br>1、使用 service 启动：<br>[root@localhost /]# service mysqld start (5.0版本是mysqld)<br>[root@szxdb etc]# service mysql start (5.5.7版本是mysql)</p>
<p>2、使用 mysqld 脚本启动：<br>/etc/inint.d/mysqld start</p>
<p>3、使用 safe_mysqld 启动：<br>safe_mysqld&amp;</p>
<p>b、停止<br>1、使用 service 启动：<br>service mysqld stop</p>
<p>2、使用 mysqld 脚本启动：<br>/etc/inint.d/mysqld stop</p>
<p>3、mysqladmin shutdown</p>
<p>c、重启<br>1、使用 service 启动：<br>service mysqld restart<br>service mysql restart (5.5.7版本命令)</p>
<p>2、使用 mysqld 脚本启动：<br>/etc/init.d/mysqld restart</p>
<p>三、赋予权限</p>
<p>(1)、创建用户：</p>
<p>create user ‘myuser’@’localhost’ IDENTIFIED by ‘123456’;</p>
<p>flush privileges;</p>
<p>(2)、创建数据库：</p>
<p>create database mydb;</p>
<p>flush privileges;</p>
<p>(3)、给用户授权数据库相关权限</p>
<p>grant all privileges on mydb.* to myuser@localhost identified by ‘123456’;</p>
<p>flush privileges;</p>
<p>我用到的权限命令，简单说明，mydb为数据库实例名，myuser为用户名，后面对某个ip作对应的权限控制。<br>grant 为赋予权限，revoke为撤销权限，赋予权限完之后要用flush privileges;　来刷新生效。</p>
<p>1、grant all on mydb.<em> to ‘myuser’@’192.168.1.6’identified by ‘123456’;<br>2、grant select on mydb.</em> to ‘myuser’@’192.168.1.%’ identified by ‘123456’;<br>3、revoke all on mydb.* from ‘myuser’@’192.168.1.6’ ;</p>
<p>grant all on mydb.* to ‘myuser’@’localhost’ identified by ‘123456’;</p>
<p>授权之后，启动应用。今天恢复数据库之后发现一个问题，系统一直报错：</p>
<p>java.sql.SQLException: Access denied for user ‘myuser’@’127.0.0.1’ (using password: YES)</p>
<p>还要配置一个127.0.0.1的。</p>
<p>grant all on mydb.* to ‘myuser’@’127.0.0.1’ identified by ‘123456’;</p>
<p>查看用户权限<br>show grants for 你的用户<br>比如：<br>show grants for root@’localhost’;</p>
<p>show grants for  ‘myuser’@’192.168.1.1’;</p>
<p>mysql&gt; use mysql;<br>Database changed<br>mysql&gt; select user,host from user;</p>
<p>　　　　　具体参考：<a href="http://www.cnblogs.com/llsun/archive/2013/08/06/3240963.html" target="_blank" rel="noopener">http://www.cnblogs.com/llsun/archive/2013/08/06/3240963.html</a></p>
<p>四、导入数据问题解决</p>
<p>ERROR 2006 (HY000): MySQL server has gone away<br>No connection. Trying to reconnect…</p>
<p>1.执行批量的MYSQL语句，例如备份恢复的时候，时间过长； 或者SQL语句过大或者语句中含有BLOB类似字段－－我的是BLOB字段存放文件导致过大引起<br>对应：修改my.cnf中的wait_timeout和interactive_timeout变量<br>在一些不便修改的情形下，如租用的空间，可以采取sql语句修改，如何做呢？</p>
<p>(1)、如果是租用空间，无法修改数据库参数，那么临时mysql语句设置，不过下次重新导入必须再设置：</p>
<p>#对当前交互链接有效；<br>mysql&gt;set wait_timeout = someIntValue;</p>
<p>#对后续起的交互链接有效；<br>mysql&gt;set interactive_timeout = someIntValue;<br>mysql&gt;set global max_allowed_packet=1000000000;　　－－　设置针对BLOB字段过大导入引起的问题</p>
<p>(2)、如果是自己的服务器，那么找到my.ini（windows下my.ini）文件，linux发现是/usr/local/mysql下的my.cnf文件。</p>
<p>添加一句max_allowed_packet=16M，如果不行将16M再加大<br>加大wait_timeout也可起一定作用<br>eg:<br>wait_timeout=2880000<br>interactive_timeout = 2880000<br>max_allowed_packet = 100M</p>
<p>应用时记住重启数据库哦～～<br>除此之外，可能还有一些别的buffer_size的变量会影响到，也值得注意<br>例如<br>read_buffer_size<br>read_rnd_buffer_size<br>重启后查询</p>
<p>mysql&gt; show variables like ‘%timeout’;<br>+—————————–+———-+<br>| Variable_name               | Value    |<br>+—————————–+———-+<br>| connect_timeout             | 10       |<br>| delayed_insert_timeout      | 300      |<br>| innodb_flush_log_at_timeout | 1        |<br>| innodb_lock_wait_timeout    | 50       |<br>| innodb_rollback_on_timeout  | OFF      |<br>| interactive_timeout         | 2880000  |<br>| lock_wait_timeout           | 31536000 |<br>| net_read_timeout            | 30       |<br>| net_write_timeout           | 60       |<br>| rpl_stop_slave_timeout      | 31536000 |<br>| slave_net_timeout           | 3600     |<br>| wait_timeout                | 2880000  |<br>+—————————–+———-+<br>12 rows in set (0.00 sec)</p>
<p>mysql&gt; show VARIABLES like ‘%max_allowed_packet%’;<br>+————————–+————+<br>| Variable_name            | Value      |<br>+————————–+————+<br>| max_allowed_packet       | 104857600  |<br>| slave_max_allowed_packet | 1073741824 |<br>+————————–+————+<br>2 rows in set (0.00 sec)</p>
<p>五、安装完之后访问参考</p>
<p><a href="http://blog.csdn.net/cuker919/article/details/44997923" target="_blank" rel="noopener">http://blog.csdn.net/cuker919/article/details/44997923</a></p>
<p>六、启动应用</p>
<p>启动应用访问发现应用日志连接池报：java.sql.SQLException: Access denied for user ‘myuser’@’localhost’ (using password: YES)</p>
<p>同时切换到linux，用该用户试试：</p>
<p>[root@localhost ]# mysql -u myuser-p<br>Enter password:<br>ERROR 1045 (28000): Access denied for user ‘myuser’@’localhost’ (using password:</p>
<p>但发现mysql workbench用该用户访问一切正常，因为我是用mysql workbench创建的用户，但到linux又登录不了。</p>
<p>下面是试错的过程，但既然后面可以登录了</p>
<p>(1)、修改密码</p>
<p>[root@localhost ]# mysql -u root -p<br>Enter password:<br>Welcome to the MySQL monitor.  Commands end with ; or \g.<br>Your MySQL connection id is 614<br>Server version: 5.6.25 MySQL Community Server (GPL)<br>Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.<br>Oracle is a registered trademark of Oracle Corporation and/or its<br>affiliates. Other names may be trademarks of their respective<br>owners.<br>Type ‘help;’ or ‘\h’ for help. Type ‘\c’ to clear the current input statement.</p>
<p>mysql&gt; use mysql　　－－切换数据库<br>Reading table information for completion of table and column names<br>You can turn off this feature to get a quicker startup with -A</p>
<p>Database changed　　<br>mysql&gt; update user set password=password(“123456”) where user=”root”;　　－－更改root用户密码<br>Query OK, 3 rows affected (0.00 sec)<br>Rows matched: 5  Changed: 3  Warnings: 0</p>
<p>mysql&gt; update user set password=password(“123456”) where user=”myuser”;　－－更改myuser用户密码<br>Query OK, 4 rows affected (0.00 sec)<br>Rows matched: 5  Changed: 4  Warnings: 0</p>
<p>发现用这个命令修改密码提示：ERROR 1146 (42S02): Table ‘mydb.user’ doesn’t exist</p>
<p>参考：<a href="http://www.cnblogs.com/fly1988happy/archive/2011/12/15/2288554.html" target="_blank" rel="noopener">http://www.cnblogs.com/fly1988happy/archive/2011/12/15/2288554.html</a></p>
<p>update mysql.user set password=password(‘新密码’) where User=”test” and Host=”localhost”;  – 最后这样更改才ok</p>
<p>mysql&gt; exit  –退出<br>(2)、再登录，还是报错</p>
<p>[root@localhost logs]# mysql -u myuser-p<br>Enter password:<br>ERROR 1045 (28000): Access denied for user ‘myuser’@’localhost’ (using password:</p>
<p>(3)、再试错。</p>
<p>[root@localhost ]# /etc/init.d/mysql stop　　－－停止服务<br>Shutting down MySQL….. SUCCESS!<br>[root@localhost ]# /usr/bin/mysqld_safe –skip-grant-tables<br>-bash: /usr/bin/mysqld_safe: No such file or directory<br>[root@localhost ]# mysqld_safe –user=mysql –skip-grant-tables –skip-networking &amp;<br>[1] 1791<br>[root@localhost ]# 150613 11:20:01 mysqld_safe Logging to ‘/usr/local/mysql/                                                                                                                               data/localhost.localdomain.err’.<br>150613 11:20:02 mysqld_safe Starting mysqld daemon with databases from /usr/loca                                                                                                                               l/mysql/data<br>^C　　－－按ctrl + c　退出<br>[root@localhost ]# mysqld_safe –user=mysql –skip-grant-tables –skip-networking<br>150613 11:21:27 mysqld_safe Logging to ‘/usr/local/mysql/data/localhost.localdom                                                                                                                               ain.err’.<br>150613 11:21:27 mysqld_safe A mysqld process already exists<br>[root@localhost ]# /etc/rc.d/init.d/mysql restart　　－－启动服务<br>[root@localhost ]# mysql -u myuser-p　　－－　再登录，既然可以了，然后应用也可以登录<br>(4)、总结</p>
<p>先登录 mysql</p>
<h1 id="mysql-u-root-p"><a href="#mysql-u-root-p" class="headerlink" title="mysql -u root -p"></a>mysql -u root -p</h1><p>mysql&gt; use mysql   –切换</p>
<p>mysql&gt; select host,user,Password from user;　　－－查看用户和密码情况，其实从这里就可以发现问题，不行就往下</p>
<h1 id="etc-init-d-mysql-stop"><a href="#etc-init-d-mysql-stop" class="headerlink" title="/etc/init.d/mysql stop"></a>/etc/init.d/mysql stop</h1><h1 id="mysqld-safe-–user-mysql-–skip-grant-tables-–skip-networking-amp"><a href="#mysqld-safe-–user-mysql-–skip-grant-tables-–skip-networking-amp" class="headerlink" title="mysqld_safe –user=mysql –skip-grant-tables –skip-networking &amp;"></a>mysqld_safe –user=mysql –skip-grant-tables –skip-networking &amp;</h1><h1 id="mysql-u-root-p-1"><a href="#mysql-u-root-p-1" class="headerlink" title="mysql -u root -p"></a>mysql -u root -p</h1><p>mysql&gt; UPDATE user SET Password=PASSWORD(‘newpassword’) where USER=’root’;<br>mysql&gt; FLUSH PRIVILEGES;<br>mysql&gt; quit</p>
<h1 id="etc-init-d-mysqld-restart"><a href="#etc-init-d-mysqld-restart" class="headerlink" title="/etc/init.d/mysqld restart"></a>/etc/init.d/mysqld restart</h1><h1 id="mysql-u-myuser-p"><a href="#mysql-u-myuser-p" class="headerlink" title="mysql -u myuser -p"></a>mysql -u myuser -p</h1><p>参考：<a href="http://www.bxl.me/zh-cn/2567.html" target="_blank" rel="noopener">http://www.bxl.me/zh-cn/2567.html</a>　　<br><a href="http://blog.csdn.net/lyflower/article/details/6137021" target="_blank" rel="noopener">http://blog.csdn.net/lyflower/article/details/6137021</a>　<br><a href="http://blog.csdn.net/vurtne_ye/article/details/26514499" target="_blank" rel="noopener">http://blog.csdn.net/vurtne_ye/article/details/26514499</a></p>
<hr>
<p>1.准备安装包，放到 /usr/local/<br>百度云盘分享：mysql-5.6.12-linux-glibc2.5-x86_64.tar.gz 链接：<a href="http://pan.baidu.com/s/1i3pWxKx" target="_blank" rel="noopener">http://pan.baidu.com/s/1i3pWxKx</a> 密码：t51u<br>[root@cnpc02 ~]# cd/usr/local/<br>1.1解压安装包<br>[root@cnpc02 local]#tar zxvf mysql-5.6.12-linux-glibc2.5-x86_64.tar.gz</p>
<p>重命名<br>[root@cnpc02 local]#mv mysql-5.6.12-linux-glibc2.5-x86_64 mysql<br>1.2 安装 辅助软件  yum -y install perl perl-devel</p>
<p>2.添加用户<br>[root@cnpc02 local]#groupadd mysql<br>[root@cnpc02 local]#useradd -r -g mysql mysql<br>3.修改目录权限<br>[root@cnpc02 local]#chown -R mysql.mysql /usr/local/mysql<br>4.初始化数据库<br>[root@cnpc02scripts]# /usr/local/mysql/scripts/mysql_install_db –user=mysql–basedir=/usr/local/mysql –datadir=/usr/local/mysql/data<br>5.注册服务<br>[root@cnpc02scripts]# cp /usr/local/mysql//support-files/mysql.server/etc/rc.d/init.d/mysql<br>[root@cnpc02scripts]# cp /usr/local/mysql/support-files/my-default.cnf /etc/my.cnf<br>cp: overwrite `/etc/my.cnf’? Y  （最好配置为默认配置）<br>[root@cnpc02scripts]# chkconfig –add mysql<br>[root@cnpc02scripts]# chkconfig mysql on<br>6.启动服务<br>[root@cnpc02scripts]# service mysql start<br>Starting MySQL. SUCCESS!（初次启动完成）<br>7.添加环境变量,可以略过。当然这样做会更方便报告mysql相关命令，也可以不添加，但每次执行命令要切换到/usr/local/mysql/bin目录或者加上绝对路径执行命令，个人觉得比较费事……<br>[root@cnpc02 mysql]#vi /etc/profile<br>exportMYSQL_HOME=/usr/local/mysql<br>exportPATH=$PATH:$MYSQL_HOME/bin<br>[root@cnpc02 mysql]#source /etc/profile<br>8.修改管理员密码，默认为空，所以最好修改，格式如下<br>[root@cnpc02 bin]#mysqladmin -u root password ‘new-password’<br>[root@cnpc02 bin]#/usr/local/mysql/bin/mysqladmin -u root password ‘new-password’（没有添加环境变量使用）<br>9.默认安装完成，如果考虑到安全问题，需要安全安装执行命令/usr/local/mysql/bin/mysql_secure_installation，按照提示一步步往下走，关键位置我都做了注释。</p>
<p>[root@cnpc02 bin]#/usr/local/mysql/bin/mysql_secure_installation</p>
<p>NOTE: RUNNING ALLPARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MySQL<br>      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!</p>
<p>In order to log intoMySQL to secure it, we’ll need the current<br>password for theroot user.  If you’ve just installedMySQL, and<br>you haven’t set theroot password yet, the password will be blank,<br>so you should justpress enter here.</p>
<p>Enter currentpassword for root (enter for none):<br>ERROR 1045 (28000):Access denied for user ‘root’@’localhost’ (using password: YES)<br>Enter currentpassword for root (enter for none):<br>OK, successfullyused password, moving on…</p>
<p>Setting the rootpassword ensures that nobody can log into the MySQL<br>root user withoutthe proper authorisation.</p>
<p>You already have a root passwordset, so you can safely answer ‘n’.</p>
<p>Change the root password?[Y/n] n（如果你已经修改了root密码就输入n）<br> … skipping.</p>
<p>By default, a MySQLinstallation has an anonymous user, allowing anyone<br>to log into MySQLwithout having to have a user account created for<br>them.  This is intended only for testing, and tomake the installation<br>go a bitsmoother.  You should remove them beforemoving into a<br>productionenvironment.</p>
<p>Remove anonymous users?[Y/n] y(移除其它匿名用户，最好移除)<br> … Success!</p>
<p>Normally, rootshould only be allowed to connect from ‘localhost’.  This<br>ensures that someonecannot guess at the root password from the network.</p>
<p>Disallow root login remotely? [Y/n] y（是否允许远程连接，根据需要选择）<br> … Success!</p>
<p>By default, MySQLcomes with a database named ‘test’ that anyone can<br>access.  This is also intended only for testing, andshould be removed<br>before moving into aproduction environment.</p>
<p>Remove test database andaccess to it? [Y/n] n（是否需要移除mysql自带的test库，随意。。）<br> … skipping.</p>
<p>Reloading theprivilege tables will ensure that all changes made so far<br>will take effectimmediately.</p>
<p>Reload privilege tables now?[Y/n] y（上面已做了修改是否重新加载权限表，当然y)<br> … Success!</p>
<p>All done!  If you’ve completed all of the above steps,your MySQL<br>installation shouldnow be secure.</p>
<p>Thanks for using MySQL!(OK初步完成，打开试试吧！)</p>
<p>Cleaning up…</p>
<p>10.连接mysql<br>[root@cnpc02 bin]#mysql -u root -p<br>Enter password:<br>Welcome to the MySQLmonitor.  Commands end with ; or \g.<br>Your MySQLconnection id is 10<br>Server version:5.6.12 MySQL Community Server (GPL)</p>
<p>Copyright (c) 2000,2013, Oracle and/or its affiliates. All rights reserved.</p>
<p>Oracle is aregistered trademark of Oracle Corporation and/or its<br>affiliates. Othernames may be trademarks of their respective<br>owners.</p>
<p>Type ‘help;’ or ‘\h’for help. Type ‘\c’ to clear the current input statement.</p>
<p>mysql&gt; show databases;(查看所有数据库)<br>+——————–+<br>| Database           |<br>+——————–+<br>| information_schema|<br>| mysql              |<br>| performance_schema|<br>| test               |<br>+——————–+<br>4 rows in set (0.05sec)</p>
<p>mysql&gt;<br>到此大功告成！</p>
<hr>
<p>Vmware虚拟网络详解(太详细了，讲的很浅显易懂。。。。。。。。。。)</p>
<p>作者: snlying 发布时间:2015-07-06 18:05:13<br>网络基础</p>
<p>Vmware 提供了几种你可以为虚拟机配置虚拟网络的方法。</p>
<p>虚拟网络组件</p>
<p>1、虚拟交换机</p>
<p>就像真实的物理交换机一样，一台虚拟交换机让你将其它的网络组件连接到一起。虚拟交换机可以根据需要创建，总共可以创建9台，你可以在虚拟交换机上连接多台虚拟机。</p>
<p>默认情况下，一些虚拟交换机和网络用于特定的配置：</p>
<p>桥接网络使用VMnet0</p>
<p>仅主机连接网络使用VMnet1</p>
<p>NAT网络使用VMnet8</p>
<p>其它可以使用的网络简单的命名为VMnet2、VMnet3、VMnet4等等。将虚拟机连接到一个虚拟交换机：在虚拟机的设置编辑器中，选择要连接的虚拟网卡，配置网卡希望连接的虚拟网络即可。</p>
<p>2、桥</p>
<p>桥让你通过你的主机把虚拟机连接到LAN上。它让你的虚拟网卡连接到你主机上的物理网卡上。在vmware的安装过程中桥会被安装上（在Linux操作系统的主机上，你必须选择虚拟机上可以使用桥网络）。当你创建一个新的使用桥网络的虚拟机时，桥会自动的创建。</p>
<p>如果需要连接多块主机上的物理网卡，你可以在自定义配置中安装另外的虚拟桥。</p>
<p>3、主机虚拟网卡</p>
<p>主机虚拟网卡是一块虚拟的以太网卡，如果是Windows主机它显示成虚拟以太网卡，如果是linux主机，它显示成linux上的接口。主机虚拟网卡让你的主机和虚拟机之间可以通信。主机虚拟网卡在仅主机和NAT配置中被使用。</p>
<p>主机虚拟网卡不和任何外部网络连接，除非你在主机上安装特殊的软件—代理服务器软件，比如要将仅主机网卡与物理网卡相连。</p>
<p>当你安装vmware时，软件将会创建虚拟网卡。你也可以根据自己的需要建立网卡。</p>
<p>4、NAT设备</p>
<p>NAT(网络地址翻译)设备让你在物理网络中只有一个IP地址时将虚拟机连接到外部网络中，而虚拟机使用的IP是主机的IP地址。比如，如果你的主机是拨号上网，采用这种方式你的虚拟机也可以共享上网，同样可以通过主机的物理网卡或者无线网卡。NAT同样可以使用在以太网以外的连接方式，比如令牌环网或者ATM。</p>
<p>NAT设备在vmware安装时自动安装了（在linux主机上，你必须选择你的虚拟机上NAT有效。）</p>
<p>5、DHCP Server</p>
<p>DHCP(动态主机配置协议)服务器为虚拟主机提供IP地址。</p>
<p>通用网络配置</p>
<p>一、桥连接网络使用主机的以太网卡将虚拟机与一个网络连接起来。如果在新建虚拟机向导中你选择了使用桥连接网络或者你选择了典型安装，那么桥连接网络会自动被安装起来。在linux主机上则只有你选择了允许桥连接网络的选项这个功能才能使用。</p>
<p>如果你的主机在一个以太网络中，则这种方式是让你虚拟机连接网络最简单的方式。Linux和windows主机能够使用桥连接网络连接有线和无线的网络。</p>
<p>如果你使用桥连接网络，你的虚拟机需要在网络中有它自己的地址。比如在TCP/IP网络中，虚拟机需要有它自己的IP地址。</p>
<p>如果你使用桥连接网络，虚拟机就是网络中的一部分，它可以访问网络上的其它的其它设备。</p>
<p>你要知道，如果你在vmware安装了多个操作系统，而你可能同时运行它们中的两个以上，你必须为每台虚拟机分配不同的IP地址，如果你分配了相同的IP地址，同时运行时会引起冲突。</p>
<p>如果你的主机上连接有多块物理网卡，而各物理网卡又连接在不同的网络中，你的虚拟机希望连接那个物理网络就在绑定选项中选择相应的网卡</p>
<p>二、 如果你希望使用主机的拨号网络或者其他的TCP/IP网络，而你的虚拟机又不能分配到外网的IP地址，NAT是最方便的方法。虚拟机可以通过vmware的虚拟DHCP服务器分配到IP地址。DHCP服务的配置，可以在相应设置中完成。虚拟机可以访问外部的web,ftp服务器，但在外部的机器不能访问到虚拟机。</p>
<p>三、仅主机连接提供了在虚拟机和主机之间的连接，使用的虚拟网卡在主机的操作系统中能够看到，如果你需要建立一个独立的虚拟网络可以使用这种方式。</p>
<p>如果你使用了仅主机的网络，你的虚拟机和主机的虚拟网卡连接到一个私有的以太网络中，网络中的地址由vmware分配。</p>
<p>路由和共享连接：如果你在主机中安装适合的路由和代理服务器软件，可以让你的虚拟主机共享上网。</p>
<p>以上三种通用网络配置，新学习者可能会混淆，我归纳了如下几点：</p>
<p>1、桥接网络，虚拟机的虚拟网卡是直接连到物理网卡上了，而第三种仅主机网络方式，虚拟机上的虚拟网卡是和主机的虚拟网卡相连。</p>
<p>2、对于外部网络，第一种桥接网络的虚拟主机，外部网络是直接可以访问的。而后面NAT和仅主机方式，外部网络是不能够直接访问的。</p>
<p>3、而在仅主机方式和NAT中，主机上都能看到虚拟网卡VMnet1,VMnet8。而桥接方式中主机上没有虚拟网卡。</p>
<p>4、我觉得NAT方式不过是在仅主机方式上多了一个NAT功能。</p>
<p>5、如果在局域网中利用vmware来架设服务器，给其他客户机提供访问服务，使用桥接网络；如果虚拟机通过主机共享上网，使用NAT方式；如果建立虚拟机只为同主机之间通信调试则使用仅主机方式。</p>
<p>6、虚拟机同主机之间的网络连接可以通过虚拟机的设置来添加和修改。</p>
<p>使用、禁止、删除和增加主机上的虚拟网卡</p>
<p>安装vmware时，会默认安装虚拟网卡，如果你不使用一块虚拟网卡，你也许想删除它，在windows主机上你可以选择禁用一块虚拟网卡。</p>
<p>虚拟网卡会消耗系统资源，因为会产生广播包，在windows中广播会让你的网络比平时慢，而有时不正确的配置会给你带来意外的麻烦。如下图可以进行相应的操作。</p>
<p>#Net</p>
<h4 id="翻墙"><a href="#翻墙" class="headerlink" title="翻墙"></a>翻墙</h4><pre><code>翻墙上网最为直截简单的就是修改hosts文件
* Win 中 hosts
* Mac 中 hosts 文件在 /etc/下
</code></pre><h2 id="wamp-Apache-下配置虚拟主机的部分"><a href="#wamp-Apache-下配置虚拟主机的部分" class="headerlink" title="wamp Apache 下配置虚拟主机的部分"></a>wamp Apache 下配置虚拟主机的部分</h2><pre><code>&lt;VirtualHost *:80&gt;
    DocumentRoot D:\wamp\www\virtualhost\yii2\basic\web
    ServerName z.yii2.basic.com
    &lt;Directory &quot;D:\wamp\www\virtualhost\yii2\basic\web&quot;&gt;
        Options Indexes FollowSymLinks
        AllowOverride All
        Order allow,deny
        Allow from all
    &lt;/Directory&gt;
    ErrorLog &quot;logs/VirtualHost.yii2-basic.com-error.log&quot;
    CustomLog &quot;logs/VirtualHost.yii2-basic.com-access.log&quot; common
&lt;/VirtualHost&gt;
</code></pre><p>#Software</p>
<h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><pre><code>想把PHP卸载干净，直接用yum的remove命令是不行的，需要查看有多少rpm包，然后按照依赖顺序逐一卸载。 
1.首先查看机器上安装的所有php相关的rpm包
[root@localhost nginx]# rpm -qa | grep php
php-cli-5.3.3-22.el6.x86_64
php-pdo-5.3.3-22.el6.x86_64
php-gd-5.3.3-22.el6.x86_64
php-fpm-5.3.3-22.el6.x86_64
php-common-5.3.3-22.el6.x86_64
php-5.3.3-22.el6.x86_64
php-xml-5.3.3-22.el6.x86_64
php-pear-1.9.4-4.el6.noarch
2.按依赖顺序进行删除
rpm -e php-fpm-5.3.3-22.el6.x86_64
rpm-e php-pdo-5.3.3-22.el6.x86_64
rpm -e php-pear-1.9.4-4.el6.noarch
rpm-e php-cli-5.3.3-22.el6.x86_64
rpm -e php-5.3.3-22.el6.x86_64
rpm-e php-xml-5.3.3-22.el6.x86_64
rpm -e php-gd-5.3.3-22.el6.x86_64
rpm-e php-common-5.3.3-22.el6.x86_64
</code></pre><h2 id="win-10"><a href="#win-10" class="headerlink" title="win 10"></a>win 10</h2><pre><code>切换窗口：Alt + Tab(不是新的，但任务切换界面改进)
任务视图：Win + Tab(松开键盘界面不会消失)
创建新的虚拟桌面：Win + Ctrl + D
关闭当前虚拟桌面：Win + Ctrl + F4
切换虚拟桌面：Win + Ctrl +左/
</code></pre><h2 id="忘记登陆密码"><a href="#忘记登陆密码" class="headerlink" title="忘记登陆密码"></a>忘记登陆密码</h2><pre><code>一、电脑已经登录到系统，但是忘记了密
1对于这种情况是最简单的，其实只需要将密码取消就可以了右键单击桌面上我的电脑，
选择管理即可进入计算机管理界面
2依次展开系统工具--本地用户和组--用户，在右侧选择要修改密码的用户，右键单击设置密码，
点击继续后密码为空保存即可

二、电脑开机密码忘记了，还未登录到系统
1 方法一、Administrator密码为空情况要是我们开机后界面上没有出现Administrator这个用户名的话，
那么我们就在这个界面状态下按住“Ctrl”+“Alt”键，然后再连续按两次“Delete”键这是会出现一个
Windows的经典登录界面，用户名就是Administrator，密码为空，确定登录到系统中修改忘记密码的账户密码

2方法二:安全模式下破解开机密码如果是管理员Administrator的密码忘记的话，重新启动电脑，开机后
连续按F8键直到高级选项画面出现后，再松开手，选择“命令提示符的安全模式”回车。

3进入命令提示符安全模式后，系统会列出系统超级用户administrator和本地用户*****的选择菜单，鼠标
单击administrator”进入命令行模式

4 键入命令：“net user ***** 123456 /add”，强制将“*****”用户的口令更改为“123456”。若想在
此添加一新用户(如：用户名为abcdef，口令为123456)的话，请键入“net user abcdef 123456 /add”，
添加后可用“net localgroup administrators abcdef /add”命令将用户提升为系统管理组“administrators”
的用户，并使其具有超级权限。

5 重新启动计算机，选择正常模式下运行，就可以用更改后的口令“123456”登录“*****”用户了

三:利用U盘破解电脑开机密码
下载U盘启动盘制作工具，制作个U盘启动盘
进入PE界面，选择【10】运行登录密码破解
选择【02】直接进入电脑系统，然后再取消密码，或者可选择【01】直接破解密码，忘记密码，无法登录系统。
这种情况处理起来比较麻烦，可以通过以上方法来解决电脑开机密码忘记的问题。
现在也不必为电脑开机密码忘记而烦恼了，破解密码是那么简单赶紧去试试吧！！
</code></pre><p>mysql.server startmysql.server stop</p>
<p>YunFile.com<br>尊敬的 qq_F5979C6BE0：您好！ 您已成功使用qq登录YunFile.com网盘，您的账号是：qq_F5979C6BE0，密码是：d465f4。 请妥善保管您的账号和密码，便于以后直接登录YunFile.com网盘。</p>
<p>创建了仓库<br>在本地克隆了仓库<br>开了source 分支</p>
<p>npm install hexo-deployer-git –save</p>
<p>git commit –amend</p>
<p>rm -rf themes/landscape/<br>rm -rf themes/even/.git</p>
<p>npm install install hexo-renderer-scss –save<br>$ git clone <a href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="noopener">https://github.com/ahonn/hexo-theme-even</a> themes/even</p>
<h1 id="chrome-浏览器插件记录："><a href="#chrome-浏览器插件记录：" class="headerlink" title="chrome 浏览器插件记录："></a>chrome 浏览器插件记录：</h1><pre><code>WEB前端助手 FeHelper
Vue.js devtools
Video DownloadHelper
Video Downloader professional
Simple WebSocket Client
Proxy SwitchyOmega
Postman
Live HTTP Headers
Google翻译
</code></pre><p>git init</p>
<p>git remote add origin git@git.coding.net:zxtian/blog.git</p>
<p>git push –set-upstream origin master</p>
<p>其实sublime自身就有格式化命令，就不再安装插件，位置在[Edit]-&gt;[Line]-&gt;[Reindent]<br>但这个默认的命令没有快捷键，就重新定义了一下，想用习惯了的eclipse快捷键：Ctrl+Shift+F但是和“在文件中查找”冲突了。改用Alt+Shift+F吧，和netbeans保持一致。<br>[Preferences]-&gt;[Key Bindings]-&gt;[User]中，添加如下：<br> { “keys”: [“alt+shift+f”], “command”: “reindent” }</p>
<p>Include require include_once require_once 的区别.<br>PHP/Mysql中几个版本的进化史，比如mysql4.0到4.1，PHP 4.x到5.1的重大改进等等。<br>Php代码  收藏代码<br>MySQL：  </p>
<p>一、从 4.0 到 4.1 的主要变化  </p>
<p>如果在4.1.0到4.1.3版本的MySQL中创建了包含 TIMESTAMP 字段的 InnoDB表。则在升级到4.1.4及更高时需要重建表，因为存储格式发生变化了。  </p>
<p>字符串根据标准SQL来比较：比较之前不删除末尾的空格，以前用末尾空格扩展了比较短的字符串。现在的结果是  </p>
<p>‘a’ &gt; ‘a\t’，以前则不这样。可以用 mysqlcheck 来检查一下数据表。  </p>
<p>TIMESTAMP 返回 ‘YYYY-MM-DD HH:MM:SS’ 格式的字符串。在MySQL 4.0中，可以增加选项 –new 来获得ySQL 4.1中这方面的特性。  </p>
<p>在MySQL4.1.1前，语句解析器不是那么严格，它在处理字符串转时间转换时会忽略第一个数字前的其他字符。在4.1.1之后，就比较严格了，返回结果是 DATE, DATETIME, 或 TIME 类型的函数的结果会被转换成时间型  </p>
<p>二、再看从 4.1 到 5.0 的主要变化  </p>
<p>◆InnoDB 和 MyISAM 表中空格结尾的 TEXT 字段索引顺序改变了。因此需要运行”CHECK TABLE” 语句修复数据表，如果出现错误，就运行 “OPTIMIZE TABLE” 或 “REPAIR TABLE” 语句修复，甚至重新转储(用mysqldump)。  </p>
<p>◆MySQL 5.0.15开始，如何处理 BINARY 字段中填充的值已经改变了。填充的值现在是0x00 而非空格了，并且在取值的时候不会去除末尾的空格。  </p>
<p>◆从MySQL 5.0.3开始，DECIMAL 的实现方式已经改变了，5.0对 DECIMAL的格式限制严格多了。在MySQL 5.0.3到5.0.5之间版本的 MyISAM 和 InnoDB 表中创建的 DECIMAL字段升级到5.0.6之后会发生崩溃。从5.0.3开始，DECIMAL 用更有效的格式来存储。5.0.3开始，在计算 DECIMAL 值和舍入精确值的时候采用精确数学。  </p>
<p>◆在以前，等待超时的锁会导致 InnoDB回滚当前全部事务，从5.0.13开始，就只回滚最近的SQL语句了。  </p>
<p>◆在4.1.13/5.0.8以前，DATETIME 的加0后就转换成 YYYYMMDDHHMMSS 格式，现在变为YYYYMMDDHHMMSS.000000 格式了  </p>
<p>◆4.1中，FLOAT 或 DOUBLE 之间的比较碰巧没问题，但在5.0中可能就不行了  </p>
<p>◆从5.0.3开始，VARCHAR 和 VARBINARY 字段中末尾的空格不再删除  </p>
<p>◆增加了一个新的启动选项 innodb_table_locks，它导致 LOCK TABLE 时也可以请求InnoDB 表锁。这个选项默认打开，不过可能在 AUTOCOMMIT=1 和 LOCK TABLES应用中会导致死锁。看来，我只需主要关注 时间(TIMESTAMP, DATETIME&lt; DATE, TIME) 和数值型(FLOAD, DOUBLE, DECIMAL) 这两种类型的变化;另外，我升级过程中暂时还不需要涉及到字符集问题，因此相对轻松一些。  </p>
<p>升级步骤如下：  </p>
<p>执行  </p>
<p>FLUSH TABLES WITH READ LOCK;  </p>
<p>直接拷贝 MyISAM 表文件  </p>
<p>用 mysqldump 导出 Innodb 类型的表  </p>
<p>整个过程都很顺利，新系统启动之后，发现如下2个问题：  </p>
<p>新增了关键字 INOUT，因此需要检查表结构中还有其他什么字段使用关键字了  </p>
<p>DATE_FORMAT 函数要求严谨多了，  </p>
<p>DATE_FORMAT(‘2006/11/24 09:14:00’, ‘%Y-%m-%d %T’)<br>和DATE_FORMAT(‘2006/11/2409:14:00’, ‘%Y-%m-%d %T’)  </p>
<p>的结果完全不一样，在 4.0 中，能兼容这两种格式，而在 5.0 中，只能正确的使用前者了，后者则会有问题。这也应该是上面提到的时间类型发生的变化所致。<br> PHP：<br>Php代码  收藏代码<br>PHP5以下几个改进值得关注：<br>1、极大地提高了面向对象能力；<br>2、支持try/catch异常处理；<br>3、改进了字符串地处理；<br>4、改经了xml和web服务支持；<br>5、对SQlite内置支持。  </p>
<p>HEREDOC介绍<br>Php代码  收藏代码<br>Heredoc技术，在正规的PHP文档中和技术书籍中一般没有详细讲述，只是提到了这是一种Perl风格的字符串输出技术。但是现在的一些论坛程序，和部分文章系统，都巧妙的使用heredoc技术，来部分的实现了界面与代码的准分离，phpwind模板就是一个典型的例子。  </p>
<p>1.以&lt;&lt;&lt;End开始标记开始，以End结束标记结束，结束标记必须顶头写，不能有缩进和空格，且在结束标记末尾要有分号 。开始标记和开始标记相同，比如常用大写的EOT、EOD、EOF来表示，但是不只限于那几个，只要保证开始标记和结束标记不在正文中出现即可。  </p>
<p>2.位于开始标记和结束标记之间的变量可以被正常解析，但是函数则不可以。在heredoc中，变量不需要用连接符.或,来拼接，如下：  </p>
<p>$v=2;<br>$a= &lt;&lt;&lt;EOF<br>“abc”$v<br>“123”<br>EOF;<br>echo $a; //结果连同双引号一起输出：”abc”2 “123”  </p>
<p>3.heredoc常用在输出包含大量HTML语法d文档的时候。比如：函数outputhtml()要输出HTML的主页。可以有两种写法。很明显第二种写法比较简单和易于阅读。  </p>
<p>function outputhtml(){<br>echo “<html>“;<br>echo “<head><title>主页</title></head>“;<br>echo “<body>主页内容</body>“;<br>echo “</html>;<br>}  </p>
<p>function outputhtml()<br>{<br>echo &lt;&lt;<eot <html=""><br>   <head><title>主页</title></head><br>   <body>主页内容</body><br>   <br>EOT;<br>}  </eot></p>
<p>outputhtml();  </p>
<p>在heredoc中会自动替换其中的$变量，将命令和输入放在一块，方便  </p>
<p>写出一些php魔幻方法;<br>Php代码  收藏代码<br>php规定以两个下划线（<strong>）开头的方法都保留为魔术方法，所以建议大家函数名最好不用</strong>开头，除非是为了重载已有的魔术方法。<br>PHP中的魔术方法有 :<strong>construct, </strong>destruct , <strong>call, </strong>callStatic,<strong>get, </strong>set, <strong>isset, </strong>unset , <strong>sleep, </strong>wakeup, <strong>toString, </strong>set_state, <strong>clone, </strong>autoload<br>1、<strong>get、</strong>set<br>这两个方法是为在类和他们的父类中没有声明的属性而设计的<br><strong>get( $property ) 当调用一个未定义的属性时，此方法会被触发，传递的参数是被访问的属性名  
</strong>set( $property, $value ) 给一个未定义的属性赋值时，此方法会被触发，传递的参数是被设置的属性名和值<br>这里的没有声明包括当使用对象调用时，访问控制为proteced,private的属性（即没有权限访问的属性）。<br>2、<strong>isset、</strong>unset<br><strong>isset( $property ) 当在一个未定义的属性上调用isset()函数时调用此方法  
</strong>unset( $property ) 当在一个未定义的属性上调用unset()函数时调用此方法<br>与<strong>get方法和</strong>set方法相同，这里的没有声明包括当使用对象调用时，访问控制为proteced,private的属性（即没有权限访问的属性）<br>3、<strong>call  
</strong>call( $method, $arg_array ) 当调用一个未定义的方法是调用此方法<br>这里的未定义的方法包括没有权限访问的方法；如果方法不存在就去父类中找这个方法，如果父类中也不存在就去调用本类的<strong>call()方​法，如果本类中不存在</strong>call()方法就去找父类中的__call()方法  </p>
<p>4、<strong>autoload  
</strong>autoload 函数，它会在试图使用尚未被定义的类时自动调用。通过调用此函数，脚本引擎在 PHP 出错失败前有了最后一个机会加载所需的类。<br>如果要定义一个全局的自动加载类，则必须用spl_autoload_register()方法将处理类注册到PHP标准库：<br>view plaincopy to clipboardprint?<br>&lt;?php<br>class Loader<br>{<br>static function autoload_class($class_name)<br>{<br>//寻找正确的$class_name类，并引入，没有则抛出异常<br>}<br>}    </p>
<p>/** </p>
<ul>
<li>设置对象的自动载入 </li>
<li>spl_autoload_register — Register given function as __autoload() implementation<br>*/<br>spl_autoload_register(array(‘Loader’, ‘autoload_class’));    </li>
</ul>
<p>$a = new Test();//Test没用require就实例化，实现自动加载，很多框架就用这种方法自动加载类    </p>
<p>?&gt;<br>注意: 在 <strong>autoload 函数中抛出的异常不能被 catch 语句块捕获并导致致命错误，所以应该在函数本身做捕获。<br>5、</strong>construct、<strong>destruct  
</strong>construct 构造方法，当一个对象创建时调用此方法，相对于PHP4使用此方法的好处是：可以使构造方法有一个独一无二的名称,无论它所在的类的名称是什么.这样你在改变类的名称时,就不需要改变构造方法的名称<br><strong>destruct 析构方法，PHP将在对象被销毁前（即从内存中清除前）调用这个方法。默认情况下,PHP仅仅释放对象属性所占用的内存并销毁对象相关的资源，析构函数允许你在使用一个对象之后执行任意代码来清除内存。当PHP决定你的脚本不再与对象相关时,析构函数将被调用。<br>在一个函数的命名空间内，这会发生在函数return的时候。<br>对于全局变量,这发生于脚本结束的时候。<br>如果你想明确地销毁一个对象,你可以给指向该对象的变量分配任何其它值.通常将变量赋值勤为NULL或者调用unset.<br>6、</strong>clone<br>PHP5中的对象赋值是使用的引用赋值，如果想复制一个对象则需要使用clone方法，在调用此方法是对象会自动调用<strong>clone魔术方法，如果在对象复制需要执行某些初始化操作，可以在</strong>clone方法实现。<br>7、<strong>toString  
</strong>toString方法在将一个对象转化成字符串时自动调用，比如使用echo打印对象时。<br>如果类没有实现此方法，则无法通过echo打印对象，否则会显示：Catchable fatal error: Object of class test could not be converted to string in<br>此方法必须返回一个字符串。<br>在PHP 5.2.0之前，<strong>toString方法只有结合使用echo() 或 print()时 才能生效。PHP 5.2.0之后，则可以在任何字符串环境生效（例如通过printf()，使用%s修饰符），但 不能用于非字符串环境（如使用%d修饰符）。从PHP 5.2.0，如果将一个未定义</strong>toString方法的对象 转换为字符串，会报出一个E_RECOVERABLE_ERROR错误。<br>8、<strong>sleep、</strong>wakeup<br><strong>sleep 串行化的时候用  
</strong>wakeup 反串行化的时候调用<br>serialize() 检查类中是否有魔术名称 <strong>sleep 的函数。如果这样，该函数将在任何序列化之前运行。它可以清除对象并应该返回一个包含有该对象中应被序列化的所有变量名的数组。<br>使用 </strong>sleep 的目的是关闭对象可能具有的任何数据库连接，提交等待中的数据或进行类似的清除任务。此外，如果有非常大的对象而并不需要完全储存下来时此函数也很有用。<br>相反地，unserialize() 检查具有魔术名称 <strong>wakeup 的函数的存在。如果存在，此函数可以重建对象可能具有的任何资源。<br>使用 </strong>wakeup 的目的是重建在序列化中可能丢失的任何数据库连接以及处理其它重新初始化的任务。<br>9、<strong>set_state<br>当调用var_export()时，这个静态 方法会被调用（自PHP 5.1.0起有效）。<br>本方法的唯一参数是一个数组，其中包含按array(’property’ =&gt; value, …)格式排列的类属性。<br>10、</strong>invoke<br>当尝试以调用函数的方式调用一个对象时，<strong>invoke 方法会被自动调用。<br>PHP5.3.0以上版本有效<br>11、</strong>callStatic<br>它的工作方式类似于 <strong>call() 魔术方法，</strong>callStatic() 是为了处理静态方法调用，<br>PHP5.3.0以上版本有效<br>PHP 确实加强了对 <strong>callStatic() 方法的定义；它必须是公共的，并且必须被声明为静态的。同样，</strong>call() 魔术方法必须被定义为公共的，所有其他魔术方法都必须如此  </p>
<p>一些编译php时的configure 参数<br>Php代码  收藏代码<br>./configure<br>–prefix=/usr/local/php                      php 安装目录<br>–with-apxs2=/usr/local/apache/bin/apxs<br>–with-config-file-path=/usr/local/php/etc      指定php.ini位置<br>–with-mysql=/usr/local/mysql           mysql安装目录，对mysql的支持<br>–with-mysqli=/usr/local/mysql/bin/mysql_config    mysqli文件目录,优化支持<br>–enable-safe-mode                              打开安全模式<br>–enable-ftp                                 打开ftp的支持<br>–enable-zip                                 打开对zip的支持<br>–with-bz2                    打开对bz2文件的支持<br>–with-jpeg-dir                                 打开对jpeg图片的支持<br>–with-png-dir                                 打开对png图片的支持<br>–with-freetype-dir              打开对freetype字体库的支持<br>–without-iconv                关闭iconv函数，种字符集间的转换<br>–with-libxml-dir                 打开libxml2库的支持<br>–with-xmlrpc              打开xml-rpc的c语言<br>–with-zlib-dir                                 打开zlib库的支持<br>–with-gd                                    打开gd库的支持<br>–enable-gd-native-ttf               支持TrueType字符串函数库<br>–with-curl                      打开curl浏览工具的支持<br>–with-curlwrappers                 运用curl工具打开url流<br>–with-ttf                      打开freetype1.*的支持，可以不加了<br>–with-xsl            打开XSLT 文件支持，扩展了libxml2库 ，需要libxslt软件<br>–with-gettext                      打开gnu 的gettext 支持，编码库用到<br>–with-pear            打开pear命令的支持，php扩展用的<br>–enable-calendar             打开日历扩展功能<br>–enable-mbstring                  多字节，字符串的支持<br>–enable-bcmath                  打开图片大小调整,用到zabbix监控的时候用到了这个模块<br>–enable-sockets                  打开 sockets 支持<br>–enable-exif                      图片的元数据支持<br>–enable-magic-quotes               魔术引用的支持<br>–disable-rpath                     关闭额外的运行库文件<br>–disable-debug                  关闭调试模式<br>–with-mime-magic=/usr/share/file/magic.mime      魔术头文件位置<br>cgi方式安装才用的参数<br>–enable-fpm                     打上php-fpm 补丁后才有这个参数，cgi方式安装的启动程序<br>–enable-fastcgi                  支持fastcgi方式启动php<br>–enable-force-cgi-redirect             同上 ,帮助里没有解释<br>–with-ncurses                     支持ncurses 屏幕绘制以及基于文本终端的图形互动功能的动态库<br>–enable-pcntl           freeTDS需要用到的，可能是链接mssql 才用到<br>mhash和mcrypt算法的扩展<br>–with-mcrypt                     算法<br>–with-mhash                     算法<br>–with-gmp<br>–enable-inline-optimization<br>–with-openssl           openssl的支持，加密传输时用到的<br>–enable-dbase<br>–with-pcre-dir=/usr/local/bin/pcre-config    perl的正则库案安装位置<br>–disable-dmalloc<br>–with-gdbm                    dba的gdbm支持<br>–enable-sigchild<br>–enable-sysvsem<br>–enable-sysvshm<br>–enable-zend-multibyte              支持zend的多字节<br>–enable-mbregex<br>–enable-wddx<br>–enable-shmop<br>–enable-soap<br>PHP配置选项完整列表<br>数据库选项<br>–with-dbplus<br>包括 dbplus 的支持。<br>–with-adabas[=DIR]<br>包括 Adabas D 的支持。DIR 是 Adabas 的基本安装目录，默认为 /usr/local。<br>–with-sapdb[=DIR]<br>包括 SAP DB 的支持。DIR 是 SAP DB 的基本安装目录，默认为 /usr/local。<br>–with-solid[=DIR]<br>包括 Solid 的支持。DIR 是 Solid 的基本安装目录，默认为 /usr/local/solid。<br>–with-ibm-db2[=DIR]<br>包括 IBM DB2 的支持。DIR 是 DB2 的基本安装目录，默认为 /home/db2inst1/sqllib。<br>–with-empress[=DIR]<br>包括 Empress 的支持。DIR 是 Empress 的基本安装目录，默认为 $EMPRESSPATH。自 PHP4 起，本选项仅支持 Empress 8.60 及以上版本。<br>–with-empress-bcs[=DIR]<br>包括 Empress Local Access 的支持。DIR 是 Empress 的基本安装目录，默认为 $EMPRESSPATH。自 PHP4 起，本选项仅支持 Empress 8.60 及以上版本。<br>–with-birdstep[=DIR]<br>包括 Birdstep 的支持。DIR 是 Birdstep 的基本安装目录，默认为 /usr/local/birdstep。<br>–with-custom-odbc[=DIR]<br>包 括用户自定义 ODBC 的支持。DIR 是 ODBC 的基本安装目录，默认为 /usr/local。要确认定义了 CUSTOM_ODBC_LIBS 并且在 include 目录中有某个 odbc.h。例如，对于 QNX 下的 Sybase SQL Anywhere 5.5.00，在运行 configure 脚本之前应该先定义以下环境变量： CPPFLAGS=”-DODBC_QNX -DSQLANY_BUG” LDFLAGS=-lunix CUSTOM_ODBC_LIBS=”-ldblib -lodbc”.<br>–with-iodbc[=DIR]<br>包括 iODBC 的支持。DIR 是 iODBC 的基本安装目录，默认为 /usr/local。<br>–with-esoob[=DIR]<br>包括 Easysoft OOB 的支持。DIR 是 OOB 的基本安装目录，默认为 /usr/local/easysoft/oob/client。<br>–with-unixODBC[=DIR]<br>包括 unixODBC 的支持。DIR 是 unixODBC 的基本安装目录，默认为 /usr/local。<br>–with-openlink[=DIR]<br>包括 OpenLink ODBC 的支持。DIR 是 OpenLink 的基本安装目录，默认为 /usr/local。这和 iODBC 一样。<br>–with-dbmaker[=DIR]<br>包括 DBMaker 的支持。DIR 是 DBMaker 的基本安装目录，默认为最新版 DBMaker 安装的目录（例如 /home/dbmaker/3.6）。<br>–disable-unified-odbc<br>取消对 unified ODBC 的支持。仅适用于激活了 iODBC，Adabas，Solid，Velocis 或用户自定义 ODBC 界面。仅能用于 PHP 3！<br>图像选项<br>–without-gd<br>禁用 GD 支持。仅用于 PHP 3！<br>–with-imagick<br>Imagick 扩展被移到 PEAR 中的 PECL 中去了，可以在这里找到。PHP 4 中的安装指示可以在 PEAR 站点中找到。<br>只用 –with-imagick 仅在 PHP 3 中支持，除非依照 PEAR 站点的指示去做。<br>–with-ming[=DIR]<br>包括 ming 支持。<br>杂类选项<br>–enable-force-cgi-redirect<br>激活服务器内部重定向的安全检查。如果是在 Apache 中以 CGI 方式使用 PHP 则应该使用此选项。<br>–enable-discard-path<br>使用此选项可以使 PHP 的 CGI 可执行程序安全地放置在 web 目录树以外的地方，并且别人也不能绕过 .htaccess 的安全设置。<br>–with-fastcgi<br>将 PHP 编译成 FastCGI 应用程序。<br>–enable-debug<br>编译时加入调试符号。<br>–with-layout=TYPE<br>设置安装后的文件布局。TYPE 可以是 PHP（默认值）或者 GNU。<br>–with-pear=DIR<br>将 PEAR 安装在 DIR 目录中（默认为 PREFIX/lib/php）。<br>–without-pear<br>不安装 PEAR。<br>–enable-sigchild<br>激活 PHP 自己的 SIGCHLD 句柄。<br>–disable-rpath<br>禁止传递附加的运行时库搜索路径。<br>–enable-libgcc<br>激活显式 libgcc 连接。<br>–enable-php-streams<br>包含试验的 PHP 流。除非是测试源代码，否则不要使用！<br>–with-zlib-dir=<dir>;<br>定义 zlib 的安装路径。<br>–with-aspell[=DIR]<br>包含 ASPELL 支持。<br>–with-ccvs[=DIR]<br>包含 CCVS 支持。<br>–with-cybercash[=DIR]<br>包含 CyberCash 支持。DIR 是 CyberCash MCK 的安装目录。<br>–with-icap[=DIR]<br>包含 ICAP 支持。<br>–with-ircg-config<br>ircg-config 脚本的路径。<br>–with-ircg<br>包含 ircg 支持。<br>–enable-mailparse<br>包含 mailparse 支持。<br>–with-muscat[=DIR]<br>包含 muscat 支持。<br>–with-satellite[=DIR]<br>激活通过 Satellite（试验性质）的 CORBA 支持。DIR 是 ORBit 的主目录。<br>–enable-trans-sid<br>激活透明的 session id 传播。<br>–with-regex[=TYPE]<br>使用系统 regex 库（不赞成）。<br>–with-vpopmail[=DIR]<br>包含 vpopmail 支持。<br>–with-tsrm-pthreads<br>使用 POSIX 线程（默认值）。<br>–enable-shared[=PKGS]<br>编译共享库 [default=yes]。<br>–enable-static[=PKGS]<br>编译静态库 [default=yes]。<br>–enable-fast-install[=PKGS]<br>为快速安装而优化 [default=yes]。<br>–with-gnu-ld<br>假定 C 编译器使用 GNU ld [default=no]。<br>–disable-libtool-lock<br>避免锁死（可能会破坏并行编译）。<br>–with-pic<br>尝试只使用 PIC/non-PIC 对象 [default=use both]。<br>–enable-memory-limit<br>编译时加入内存限制支持。<br>–disable-url-fopen-wrapper<br>禁止通过 URL 的 fopen wrapper，不能通过 HTTP 或 FTP 访问文件。<br>–enable-versioning<br>仅输出所需要的符号。更多信息见 INSTALL 文件。<br>–with-imsp[=DIR]<br>包含 IMSp 支持（DIR 是 IMSP 的 include 目录和 libimsp.a 目录）。仅用于 PHP 3！<br>–with-mck[=DIR]<br>包含 Cybercash MCK 支持。DIR 是 cybercash mck 编译目录，默认为 /usr/src/mck-3.2.0.3-linux。帮助见 extra/cyberlib。仅用于 PHP 3！<br>–with-mod-dav=DIR<br>包含通过 Apache 的 mod_dav 的 DAV 支持。DIR 是 mod_dav 的安装目录（仅用于 Apache 模块版本！）仅用于 PHP 3！<br>–enable-debugger<br>编译入远程调试函数。仅用于 PHP 3！<br>–enable-versioning<br>利用 Solaris 2.x 和 Linux 提供的版本控制与作用范围的优势。仅用于 PHP 3！<br>PHP 选项<br>–enable-maintainer-mode<br>激活将编译规则和未使用的（以及一些混淆的）依赖文件放入临时安装中。<br>–with-config-file-path=PATH<br>设定 php.ini 所在的路径，默认为 PREFIX/lib。<br>–enable-safe-mode<br>默认激活安全模式。<br>–with-exec-dir[=DIR]<br>安全模式下只允许此目录下执行程序。默认为 /usr/local/php/bin。<br>–enable-magic-quotes<br>默认激活 magic quotes。<br>–disable-short-tags<br>默认禁止简写的 PHP 开始标记 &lt;?。<br>服务器选项<br>–with-aolserver=DIR<br>指定已安装的 AOLserver 的路径。<br>–with-apxs[=FILE]<br>编译共享 Apache 模块。FILE 是可选的 Apache 的 apxs 工具的路径，默认为 apxs。确保指定的 apxs 版本是安装后的文件而不是 Apache 源程序中包中的。<br>–with-apache[=DIR]<br>编译 Apache 模块。DIR 是 Apache 源程序的最高一级目录。默认为 /usr/local/apache。<br>–with-mod_charset<br>激活 mod_charset 中的传递表（Apache 中）。<br>–with-apxs2[=FILE]<br>编译共享的 Apache 2.0 模块。FILE 是可选的 Apache 的 apxs 工具的路径，默认为 apxs。<br>–with-fhttpd[=DIR]<br>编译 fhttpd 模块。DIR 是 fhttpd 的源代码路径，默认为 /usr/local/src/fhttpd。<br>–with-isapi=DIR<br>将 PHP 编译为 ISAPI 模块用于 Zeus。<br>–with-nsapi=DIR<br>指定已安装的 Netscape 服务器路径。<br>–with-phttpd=DIR<br>暂无信息。<br>–with-pi3web=DIR<br>将 PHP 编译为用于 Pi3Web 的模块。<br>–with-roxen=DIR<br>将 PHP 编译为一个 Pike 模块。DIR 是 Roxen 的根目录，通常为 /usr/local/roxen/server。<br>–enable-roxen-zts<br>编译 Roxen 模块，使用 Zend Thread Safety。<br>–with-servlet[=DIR]<br>包含 servlet 支持。DIR 是 JSDK 的基本安装目录。本 SAPI 需要 java 扩展必须被编译为共享的 dl。<br>–with-thttpd=SRCDIR<br>将 PHP 编译为 thttpd 模块。<br>–with-tux=MODULEDIR  </dir></p>
<p>向php传入参数的两种方法。<br>(mysql)请写出数据类型(int char varchar datetime text)的意思; 请问varchar和char有什么区别;<br>Sql代码  收藏代码<br>char是一种固定长度的类型，varchar则是一种可变长度的类型，它们的区别是：  </p>
<p>char(M)类型的数据列里，每个值都占用M个字节，如果某个长度小于M，MySQL就会在它的右边用空格字符补足．（在检索操作中那些填补出来的空格字符将被去掉）在varchar(M)类型的数据列里，每个值只占用刚好够用的字节再加上一个用来记录其长度的字节（即总长度为L+1字节）．  </p>
<p>在MySQL中用来判断是否需要进行对据列类型转换的规则  </p>
<p>  1、在一个数据表里，如果每一个数据列的长度都是固定的，那么每一个数据行的长度也将是固定的．<br>  2、只要数据表里有一个数据列的长度的可变的，那么各数据行的长度都是可变的．<br>  3、如果某个数据表里的数据行的长度是可变的，那么，为了节约存储空间，MySQL会把这个数据表里的固定长度类型的数据列转换为相应的可变长度类型．<br>例外：长度小于4个字符的char数据列不会被转换为varchar类型  </p>
<p>一个定长<br>一个不定长<br>a char(10)<br>b varchar(10)<br>都存入’abc’<br>a 10字节<br>b 3字节   </p>
<p>error_reporting 等调试函数使用<br>您是否用过版本控制软件? 如果有您用的版本控制软件的名字是?<br>posix和perl标准的正则表达式区别;<br>Php代码  收藏代码<br>正则表达式（Regular Expression，缩写为regexp，regex或regxp)，又称正规表达式、正规表示式或常规表达式或正规化表示法或正规表示法，是指一个用来描述或者匹配一系列符合某个句法规则的字符串的单个字符串 。在很多文本编辑器或其他工具里，正则表达式通常被用来检索和/或替换那些符合某个模式的文本内容 。许多程序设计语言都支持利用正则表达式进行字符串操作。例如，在Perl中就内建了一个功能强大的在正则表达式引擎。正则表达式这个概念最初是由 Unix中的工具软件（例如sed和grep）普及开的。（摘自维基百科）  </p>
<p>PHP同时使用两套正则表达式规则，一套是由电气和电子工程师协会（IEEE）制定的POSIX Extended 1003.2兼容正则（事实上PHP对此标准的支持并不完善），另一套来自PCRE（Perl Compatible Regular Expression）库提供PERL兼容正则，这是个开放源代码的软件，作者为 Philip Hazel。  </p>
<p>使用POSIX兼容规则的函数有：<br>ereg_replace()<br>ereg()<br>eregi()<br>eregi_replace()<br>split()<br>spliti()<br>sql_regcase()<br>mb_ereg_match()<br>mb_ereg_replace()<br>mb_ereg_search_getpos()<br>mb_ereg_search_getregs()<br>mb_ereg_search_init()<br>mb_ereg_search_pos()<br>mb_ereg_search_regs()<br>mb_ereg_search_setpos()<br>mb_ereg_search()<br>mb_ereg()<br>mb_eregi_replace()<br>mb_eregi()<br>mb_regex_encoding()<br>mb_regex_set_options()<br>mb_split()  </p>
<p>使用PERL兼容规则的函数有：<br>preg_grep()<br>preg_replace_callback()<br>preg_match_all()<br>preg_match()<br>preg_quote()<br>preg_split()<br>preg_replace()  </p>
<p>定界符：  </p>
<p>POSIX兼容正则没有定界符，函数的相应参数会被认为是正则。  </p>
<p>PERL兼容正则可以使用任何不是字母、数字或反斜线（\）的字符作为定界符，如果作为定界符的字符必须被用在表达式本身中，则需要用反斜线转义。也可以使用()，{}，[] 和 &lt;&gt; 作为定界符  </p>
<p>修正符：  </p>
<p>POSIX兼容正则没有修正符。  </p>
<p>PERL兼容正则中可能使用的修正符（修正符中的空格和换行被忽略，其它字符会导致错误）：  </p>
<p>i (PCRE_CASELESS)：<br>匹配时忽略大小写。  </p>
<p>m（PCRE_MULTILINE）：<br>当设定了此修正符，行起始(^)和行结束($)除了匹配整个字符串开头和结束外，还分别匹配其中的换行符(\n)的之后和之前。  </p>
<p>s（PCRE_DOTALL）：<br>如果设定了此修正符，模式中的圆点元字符（.）匹配所有的字符，包括换行符。没有此设定的话，则不包括换行符。  </p>
<p>x（PCRE_EXTENDED）：<br>如果设定了此修正符，模式中的空白字符除了被转义的或在字符类中的以外完全被忽略。  </p>
<p>e：<br>如果设定了此修正符，preg_replace() 在替换字符串中对逆向引用作正常的替换，将其作为 PHP 代码求值，并用其结果来替换所搜索的字符串。 只有 preg_replace() 使用此修正符，其它 PCRE 函数将忽略之。  </p>
<p>A（PCRE_ANCHORED）：<br>如果设定了此修正符，模式被强制为“anchored”，即强制仅从目标字符串的开头开始匹配。  </p>
<p>D（PCRE_DOLLAR_ENDONLY）：<br>如果设定了此修正符，模式中的行结束($)仅匹配目标字符串的结尾。没有此选项时，如果最后一个字符是换行符的话，也会被匹配在里面。如果设定了 m 修正符则忽略此选项。  </p>
<p>S：<br>当一个模式将被使用若干次时，为加速匹配起见值得先对其进行分析。如果设定了此修正符则会进行额外的分析。目前，分析一个模式仅对没有单一固定起始字符的 non-anchored 模式有用。  </p>
<p>U（PCRE_UNGREEDY）：<br>使“?”的默认匹配成为贪婪状态的。  </p>
<p>X（PCRE_EXTRA）：<br>模式中的任何反斜线后面跟上一个没有特殊意义的字母导致一个错误，从而保留此组合以备将来扩充。默认情况下，一个反斜线后面跟一个没有特殊意义的字母被当成该字母本身。  </p>
<p>u（PCRE_UTF8）：<br>模式字符串被当成UTF-8。  </p>
<p>逻辑区隔：  </p>
<p>POSIX兼容正则和PERL兼容正则的逻辑区隔符号作用和使用方法完全一致：<br>[]：包含任选一操作的相关信息。<br>{}：包含匹配次数的相关信息。<br>()：包含一个逻辑区间的相关信息，可被用来进行引用操作。<br>|：表示“或”，[ab]和a|b是等价的。  </p>
<p>元字符与“[]”相关：  </p>
<p>有两组不同的元字符：一种是模式中除了方括号内都能被识别的，还有一种是在方括号“[]”内被识别的。  </p>
<p>POSIX兼容正则和PERL兼容正则“[]之外”“一致”的元字符：<br>\ 有数种用途的通用转义符<br>^ 匹配字符串的开头<br>$ 匹配字符串的结尾<br>? 匹配0或者1  </p>
<ul>
<li>匹配 0 个或多个前面指定类型的字符  </li>
</ul>
<ul>
<li>匹配 1 个或多个前面指定类型的字符  </li>
</ul>
<p>POSIX兼容正则和PERL兼容正则“[]之外”“不一致”的元字符：<br>. PERL兼容正则匹配除了换行符外的任意一个字符<br>. POSIX兼容正则匹配任意一个字符  </p>
<p>POSIX兼容正则和PERL兼容正则“[]之内”“一致”的元字符：<br>\ 有数种用途的通用转义符<br>^ 取反字符，但仅当其为第一个字符时有效  </p>
<ul>
<li>指定字符ASCII范围，仔细研究ASCII码，你会发现[W-c]等价于[WXYZ\^_`abc]  </li>
</ul>
<p>POSIX兼容正则和PERL兼容正则“[]之内”“不一致”的元字符：  </p>
<ul>
<li>POSIX兼容正则中[a-c-e]的指定会抛出错误。  </li>
<li>PERL兼容正则中[a-c-e]的指定等价于[a-e]。  </li>
</ul>
<p>匹配次数与“{}”相关：  </p>
<p>POSIX兼容正则和PERL兼容正则在匹配次数方面完全一致：<br>{2}：表示匹配前面的字符2次<br>{2,}：表示匹配前面的字符2次或多次，默认都是贪婪（尽可能多）的匹配<br>{2,4}：表示匹配前面的字符2次或4次  </p>
<p>逻辑区间与“()”相关：  </p>
<p>使用()包含起来的区域是一个逻辑区间，逻辑区间的主要作用是体现出一些字符出现的逻辑次序，另一个用处就是可以用来引用（可以将此区间内的值引用给一个变量）。后一个作用比较奇特：<br>&lt;?php<br>$str = “<a href="http://www.163.com/" target="_blank" rel="noopener">http://www.163.com/</a>“;<br>// POSIX兼容正则：<br>echo ereg_replace(“(.+)”,”<a href="\\1">\1</a>“,$str);<br>// PERL兼容正则：<br>echo preg_replace(“/(.+)/“,”<a href="$1">$1</a>“,$str);<br>// 显示两个链接<br>?&gt;  </p>
<p>在引用的时候，括号是可以嵌套的，逻辑次序是按照“(”出现的次序来标定的。  </p>
<p>类型匹配：  </p>
<p>POSIX兼容正则：<br>[:upper:]：匹配所有的大写字母<br>[:lower:]：匹配所有的小写字母<br>[:alpha:]：匹配所有的字母<br>[:alnum:]：匹配所有的字母和数字<br>[:digit:]：匹配所有的数字<br>[:xdigit:]：匹配所有的十六进制字符，等价于[0-9A-Fa-f]<br>[:punct:]：匹配所有的标点符号，等价于 [.,”‘?!;:]<br>[:blank:]：匹配空格和TAB，等价于[ \t]<br>[:space:]：匹配所有的空白字符，等价于[ \t\n\r\f\v]<br>[:cntrl:]：匹配所有ASCII 0到31之间的控制符。<br>[:graph:]：匹配所有的可打印字符，等价于：[^ \t\n\r\f\v]<br>[:print:]：匹配所有的可打印字符和空格，等价于：[^\t\n\r\f\v]<br>[.c.]：功能不明<br>[=c=]：功能不明<br>[:&lt;:]：匹配单词的开始<br>[:&gt;:]：匹配单词的结尾  </p>
<p>PERL兼容正则（这里可以看出PERL正则的强大）：<br>\a alarm，即 BEL 字符（’0）<br>\cx “control-x”，其中 x 是任意字符<br>\e escape（’0B）<br>\f 换页符 formfeed（’0C）<br>\n 换行符 newline（’0A）<br>\r 回车符 carriage return（’0D）<br>\t 制表符 tab（’0）<br>\xhh 十六进制代码为 hh 的字符<br>\ddd 八进制代码为 ddd 的字符，或 backreference<br>\d 任一十进制数字<br>\D 任一非十进制数的字符<br>\s 任一空白字符<br>\S 任一非空白字符<br>\w 任一“字”的字符<br>\W 任一“非字”的字符<br>\b 字分界线<br>\B 非字分界线<br>\A 目标的开头（独立于多行模式）<br>\Z 目标的结尾或位于结尾的换行符前（独立于多行模式）<br>\z 目标的结尾（独立于多行模式）<br>\G 目标中的第一个匹配位置  </p>
<p>Safe_mode 打开后哪些地方受限.<br>写代码来解决多进程/线程同时读写一个文件的问题。<br>Php代码  收藏代码<br>大家都知道，PHP是没有多线程概念的，尽管如此我们仍然可以用“不完美”的方法来模拟多线程。简单的说，就是队列处理。通过对文件进行加锁和解锁，来实现。当一个文件被一个用户操作时，该文件是被锁定的，其他用户只能等待，确实不够完美，但是也可以满足一些要求不高的应用。<br>function T_put($filename,$string){<br>$fp = fopen($filename,’a’); //追加方式打开<br>if (flock($fp, LOCK_EX)){ //加写锁<br>fputs($fp,$string); //写文件<br>flock($fp, LOCK_UN); //解锁<br>}<br>fclose($fp);<br>}<br>function T_get($filename,$length){<br>$fp = fopen($filename,’r’); //追加方式打开<br>if (flock($fp, LOCK_SH)){ //加读锁<br>$result = fgets($fp,$length); //读取文件<br>flock($fp, LOCK_UN); //解锁<br>}<br>fclose($fp);<br>return $result;<br>}  </p>
<p>写一段上传文件的代码。<br>Mysql 的存储引擎,myisam和innodb的区别。<br>Sql代码  收藏代码<br>简单的表达。<br>MyISAM 是非事务的存储引擎。<br>innodb是支持事务的存储引擎。  </p>
<p>innodb的引擎比较适合于插入和更新操作比较多的应用<br>而MyISAM 则适合用于频繁查询的应用  </p>
<p>MyISAM –表锁。<br>innodb–设计合理的话是行锁。<br>MyISAM 不会出现死锁。  </p>
<p>最大的区别就是MYISAM适合小数据，小并发；INNODB 适合大数据，大并发。最大的区别就是在锁的级别上。  </p>
<p>MyISAM类型不支持事务处理等高级处理，而InnoDB类型支持。 MyISAM类型的表强调的是性能，其执行数度比InnoDB类型更快，但是不提供事务支持，而InnoDB提供事务支持已经外部键等高级数据库功能。综述，就可以根据数据表不同的用处是用不同的存储类型。而且MyISAM是文件存储的，可以进行直接在不同操作系统间拷贝使用。  </p>
<p>InnoDB：<br>InnoDB 给 MySQL 提供了具有事务(commit)、回滚(rollback)和崩溃修复能力(crash recovery capabilities)的事务安全(transaction-safe (ACID compliant))型表。InnoDB 提供了行锁(locking on row level)，提供与 Oracle 类型一致的不加锁读取(non-locking read in SELECTs)。这些特性均提高了多用户并发操作的性能表现。在InnoDB表中不需要扩大锁定(lock escalation)，因为 InnoDB 的列锁定(row level locks)适宜非常小的空间。InnoDB 是 MySQL 上第一个提供外键约束(FOREIGN KEY constraints)的表引擎。InnoDB 的设计目标是处理大容量数据库系统，它的 CPU 利用率是其它基于磁盘的关系数据库引擎所不能比的。在技术上，InnoDB 是一套放在 MySQL 后台的完整数据库系统，InnoDB 在主内存中建立其专用的缓冲池用于高速缓冲数据和索引。 InnoDB 把数据和索引存放在表空间里，可能包含多个文件，这与其它的不一样，举例来说，在 MyISAM 中，表被存放在单独的文件中。InnoDB 表的大小只受限于操作系统的文件大小，一般为 2 GB。InnoDB所有的表都保存在同一个数据文件 ibdata1 中（也可能是多个文件，或者是独立的表空间文件），相对来说比较不好备份，可以拷贝文件或用navicat for mysql。  </p>
<p>MyISAM<br>每张MyISAM 表被存放在三个文件 ：frm 文件存放表格定义。 数据文件是MYD (MYData) 。 索引文件是MYI (MYIndex) 引伸。<br>因为MyISAM相对简单所以在效率上要优于InnoDB，小型应用使用MyISAM是不错的选择。<br>MyISAM表是保存成文件的形式,在跨平台的数据转移中使用MyISAM存储会省去不少的麻烦  </p>
<ol>
<li>web 架构，安全,项目经验</li>
</ol>
<p>介绍xdebug,apc,eAccelerator,Xcache,Zend opt的使用经验。<br>使用mod_rewrite,在服务器上没有/archivers/567.html这个物理文件时，重定向到index.php?id=567 ,请先打开mod_rewrite.<br>MySQL数据库作发布系统的存储，一天五万条以上的增量，预计运维三年,怎么优化？<br>写出一种排序算法（原理），并说出优化它的方法。<br>请简单阐述您最得意的开发之作<br>对于大流量的网站,您采用什么样的方法来解决各页面访问量统计问题<br>您是否用过模板引擎? 如果有您用的模板引擎的名字是?<br>请介绍Session的原理,大型网站中Session方面应注意什么?<br>测试php性能和mysql数据库性能的工具,和找出瓶颈的方法。<br>正则提出一个网页中的所有链接.<br>介绍一下常见的SSO(单点登陆)方案(比如dedecms整合discuz的passport)的原理。<br>您写过的PHP框架的特点，主要解决什么问题，与其他框架的不同点。<br>大型的论坛/新闻文章系统/SNS网站在性能优化上有什么区别?<br>相册类应用:要求在浏览器中能同时选中并上传多个文件，图片要求能剪裁，压缩包在服务器端解压。能上传单个达50M的文件。上传过程中有进度条显示。每个图片能生成四种大小缩略图，视频文件要转成flv供flash播放。叙述要涉及的各类开源软件和简单用途。<br>一 群猴子排成一圈，按1，2，…，n依次编号。然后从第1只开始数，数到第m只,把它踢出圈，从它后面再开始数，再数到第m只，在把它踢出去…，如此不停的 进行下去，直到最后只剩下一只猴子为止，那只猴子就叫做大王。要求编程模拟此过程，输入m、n, 输出最后那个大王的编号。用程序模拟该过程。</p>
<ol>
<li>unix/linux 基本使用</li>
</ol>
<p>linux下查看当前系统负载信息的一些方法。<br>vim的基本快捷键。<br>ssh 安全增强方法;密码方式和rsa key 方式的配置。<br>rpm/apt/yum/ports 装包，查询，删除的基本命令。<br>Makefile的基本格式，gcc 编译，连接的命令,-O0 和-O3区别。<br>gdb,strace,valgrind的基本使用.</p>
<ol>
<li>前端,HTML,JS</li>
</ol>
<p>css盒模型。<br>javascript中的prototype。<br>javascript中this对象的作用域。<br>IE和firefox事件冒泡的不同。<br>什么是怪异模式,标准模式，近标准模式。<br>DTD的定义<br>IE/firefox常用hack.<br>firefox,IE下的前端js/css调试工具。</p>
<h2 id="xampp-环境-SERVER"><a href="#xampp-环境-SERVER" class="headerlink" title="xampp 环境 $_SERVER"></a>xampp 环境 $_SERVER</h2><pre><code>array(52) {
  [&quot;REDIRECT_MIBDIRS&quot;]=&gt;
  string(24) &quot;E:/XAMPP/php/extras/mibs&quot;
  [&quot;REDIRECT_MYSQL_HOME&quot;]=&gt;
  string(16) &quot;\xampp\mysql\bin&quot;
  [&quot;REDIRECT_OPENSSL_CONF&quot;]=&gt;
  string(31) &quot;E:/XAMPP/apache/bin/openssl.cnf&quot;
  [&quot;REDIRECT_PHP_PEAR_SYSCONF_DIR&quot;]=&gt;
  string(10) &quot;\xampp\php&quot;
  [&quot;REDIRECT_PHPRC&quot;]=&gt;
  string(10) &quot;\xampp\php&quot;
  [&quot;REDIRECT_TMP&quot;]=&gt;
  string(10) &quot;\xampp\tmp&quot;
  [&quot;REDIRECT_STATUS&quot;]=&gt;
  string(3) &quot;200&quot;
  [&quot;MIBDIRS&quot;]=&gt;
  string(24) &quot;E:/XAMPP/php/extras/mibs&quot;
  [&quot;MYSQL_HOME&quot;]=&gt;
  string(16) &quot;\xampp\mysql\bin&quot;
  [&quot;OPENSSL_CONF&quot;]=&gt;
  string(31) &quot;E:/XAMPP/apache/bin/openssl.cnf&quot;
  [&quot;PHP_PEAR_SYSCONF_DIR&quot;]=&gt;
  string(10) &quot;\xampp\php&quot;
  [&quot;PHPRC&quot;]=&gt;
  string(10) &quot;\xampp\php&quot;
  [&quot;TMP&quot;]=&gt;
  string(10) &quot;\xampp\tmp&quot;
  [&quot;HTTP_HOST&quot;]=&gt;
  string(20) &quot;221.207.184.170:8101&quot;
  [&quot;HTTP_CONNECTION&quot;]=&gt;
  string(10) &quot;keep-alive&quot;
  [&quot;CONTENT_LENGTH&quot;]=&gt;
  string(3) &quot;159&quot;
  [&quot;HTTP_CACHE_CONTROL&quot;]=&gt;
  string(8) &quot;no-cache&quot;
  [&quot;HTTP_ORIGIN&quot;]=&gt;
  string(51) &quot;chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop&quot;
  [&quot;CONTENT_TYPE&quot;]=&gt;
  string(68) &quot;multipart/form-data; boundary=----WebKitFormBoundaryBoMCqwpSsA5oBkUp&quot;
  [&quot;HTTP_USER_AGENT&quot;]=&gt;
  string(110) &quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&quot;
  [&quot;HTTP_POSTMAN_TOKEN&quot;]=&gt;
  string(36) &quot;1b7b2c5c-eb71-fb20-dd7b-afe68a2e5784&quot;
  [&quot;HTTP_ACCEPT&quot;]=&gt;
  string(3) &quot;*/*&quot;
  [&quot;HTTP_ACCEPT_ENCODING&quot;]=&gt;
  string(13) &quot;gzip, deflate&quot;
  [&quot;HTTP_ACCEPT_LANGUAGE&quot;]=&gt;
  string(14) &quot;zh-CN,zh;q=0.8&quot;
  [&quot;PATH&quot;]=&gt;
  string(68) &quot;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;E:\XAMPP\php&quot;
  [&quot;SystemRoot&quot;]=&gt;
  string(10) &quot;C:\Windows&quot;
  [&quot;COMSPEC&quot;]=&gt;
  string(27) &quot;C:\Windows\system32\cmd.exe&quot;
  [&quot;PATHEXT&quot;]=&gt;
  string(53) &quot;.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC&quot;
  [&quot;WINDIR&quot;]=&gt;
  string(10) &quot;C:\Windows&quot;
  [&quot;SERVER_SIGNATURE&quot;]=&gt;
  string(103) &quot;&lt;address&gt;Apache/2.4.10 (Win32) OpenSSL/1.0.1i PHP/5.5.15 Server at 221.207.184.170 Port 8101&lt;/address&gt;
&quot;
  [&quot;SERVER_SOFTWARE&quot;]=&gt;
  string(47) &quot;Apache/2.4.10 (Win32) OpenSSL/1.0.1i PHP/5.5.15&quot;
  [&quot;SERVER_NAME&quot;]=&gt;
  string(15) &quot;221.207.184.170&quot;
  [&quot;SERVER_ADDR&quot;]=&gt;
  string(13) &quot;192.168.0.240&quot;
  [&quot;SERVER_PORT&quot;]=&gt;
  string(4) &quot;8101&quot;
  [&quot;REMOTE_ADDR&quot;]=&gt;
  string(11) &quot;1.202.44.53&quot;
  [&quot;DOCUMENT_ROOT&quot;]=&gt;
  string(31) &quot;E:/WWWROOT/wyt-api-dev/api/web/&quot;
  [&quot;REQUEST_SCHEME&quot;]=&gt;
  string(4) &quot;http&quot;
  [&quot;CONTEXT_PREFIX&quot;]=&gt;
  string(0) &quot;&quot;
  [&quot;CONTEXT_DOCUMENT_ROOT&quot;]=&gt;
  string(31) &quot;E:/WWWROOT/wyt-api-dev/api/web/&quot;
  [&quot;SERVER_ADMIN&quot;]=&gt;
  string(9) &quot;webmaster&quot;
  [&quot;SCRIPT_FILENAME&quot;]=&gt;
  string(40) &quot;E:/WWWROOT/wyt-api-dev/api/web/index.php&quot;
  [&quot;REMOTE_PORT&quot;]=&gt;
  string(5) &quot;51701&quot;
  [&quot;REDIRECT_URL&quot;]=&gt;
  string(5) &quot;/test&quot;
  [&quot;GATEWAY_INTERFACE&quot;]=&gt;
  string(7) &quot;CGI/1.1&quot;
  [&quot;SERVER_PROTOCOL&quot;]=&gt;
  string(8) &quot;HTTP/1.1&quot;
  [&quot;REQUEST_METHOD&quot;]=&gt;
  string(4) &quot;POST&quot;
  [&quot;QUERY_STRING&quot;]=&gt;
  string(0) &quot;&quot;
  [&quot;REQUEST_URI&quot;]=&gt;
  string(5) &quot;/test&quot;
  [&quot;SCRIPT_NAME&quot;]=&gt;
  string(10) &quot;/index.php&quot;
  [&quot;PHP_SELF&quot;]=&gt;
  string(10) &quot;/index.php&quot;
  [&quot;REQUEST_TIME_FLOAT&quot;]=&gt;
  float(1471856089.808)
  [&quot;REQUEST_TIME&quot;]=&gt;
  int(1471856089)
}
</code></pre><ol>
<li>基本知识点<br>HTTP协议中几个状态码的含义:503 500 401 200 301 302。。。</li>
<li><p>500——服务器产生内部错误<br>501——服务器不支持请求的函数<br>502——服务器暂时不可用，有时是为了防止发生系统过载<br>503——服务器过载或暂停维修</p>
<p>400——错误请求，如语法错误<br>401——请求授权失败<br>403——请求不允许</p>
<p>200——交易成功<br>201——提示知道新文件的URL<br>202——接受和处理、但处理未完成<br>203——返回信息不确定或不完整<br>204——请求收到，但返回信息为空<br>205——服务器完成了请求，用户代理必须复位当前已经浏览过的文件<br>206——服务器已经完成了部分用户的GET请求</p>
<p>300——请求的资源可在多处得到<br>301——删除请求数据<br>302——在其他地址发现了请求数据<br>Include require include_once require_once 的区别.</p>
</li>
<li>include() 、require()语句包含并运行指定文件。这两结构在包含文件上完全一样，唯一的区别是对于错误的处理。require()语句在遇到包含文件不存在，或是出错的时候，就停止即行，并报错。include()则继续即行。<br>include_once()和require_once()一样，应该用于在脚本执行期间同一个文件有可能被包含超过一次的情况下，想确保它只被包含一 次以避免函数重定义，变量重新赋值等问题。这就是include_once()和require_once()与include() 和require()的主要区别。 </li>
</ol>
<p>PHP/Mysql中几个版本的进化史，比如mysql4.0到4.1，PHP 4.x到5.1的重大改进等等。<br>Php5  支持完善于类于对像<br>Mysql 5 支持视图 事务等<br>HEREDOC介绍</p>
<ol>
<li>heredoc 是可以让我们在php代码内实现一大段的html代码，并且可以在其中，使用php变量。<br>1.以&lt;&lt;开始标记开始，以End结束标记结束，结束标记必须顶头写，不能有缩进和空格，且在结束标记末尾要有分号。开始标记 和开始标记相同，比如常用大写的EOT、EOD、EOF来表示，但是不只限于那几个，只要保证开始标记和结束标记不在正文中出现即可。<br>2.位于开始标记和结束标记之间的变量可以被正常解析，但是函数则不可以。<br>3.heredoc常用在输出包含大量HTML语法d文档的时候。比如：函数outputhtml()要输出HTML的主页。可以有两种写法。很明显第二种写法比较简单和易于阅读。<br>写出一些php魔幻方法;</li>
<li><strong>construct 初始化 构造函数
</strong>destruct 卸载 析构函数<br><strong>autoload 自动加载函数
</strong>call   调用不存在的类的函数的时候得处理方法，<strong>call 失败，就调用父类方法，依此类推
</strong>get   获取属性值<br><strong>set()   设置属性值
</strong>isset() 测定变量是否设定用的函数，传入一个变量作为参数，如果传入的变量存在则传回true，否则传回false<br><strong>unset() 删除指定的变量且传回true，参数为要删除的变量。
</strong>clone();   克隆对象<br><strong>toString(); 进行对象的类型转换
</strong>sleep();<br><strong>wakeup();<br>当一个对象被串行化,PHP会调用</strong>sleep方法(如果存在的话). 在反串行化一个对象后,PHP 会调用<strong>wakeup方法. 这两个方法都不接受参数. </strong>sleep方法必须返回一个数组,包含需要串行化的属性.<br>一些编译php时的configure 参数</li>
<li>向php传入参数的两种方法。</li>
<li>在调用函数时，需要向函数传递参数，被传入的参数称为实参，而函数定义的参数为形参。参数传递的方式有两种。<br> 1.传值方式：将实参的值复制到对应的形参中，在函数内部的操作针对形参进行，操作的结果不会影响到实参，即函数返回后，实参的值不会改变。<br> 2.传址方式：实参的内存地址传递到形参中，在函数内部的所有操作都会影响到实参的值，即返回后，实参的值会相应发生变化。传址时只需要在形参前加&amp;号即可。<br>Eg ： function   method($a){<br>Return $a;<br>}<br>$a = 0;<br>Method($a);<br>method(&amp;$a);<br>(mysql)请写出数据类型(int char varchar datetime text)的意思;<br>答:在mysql 当中 int 是数字类型、<br>char是字符类型、<br>Varchar 是字符类型是、<br>Text是文本类型、<br>datetime  在mysql数据库不一般不用 ，mysql一般用时间戳<br>请问varchar和 char有什么区别;<br>答:varchar与char的区别是:固定长度 (char) 或可变长度 (varchar) 字符数据类型。<br>相同点:都是字符数据类型<br>不同点: char 是定长   varchar是变长<br>error_reporting 等调试函数使用<br>error_reporting()函数是用来重新定义页面显示错误等级的函数，这个函数可以覆盖掉PHP.ini针对程序运行时错误报告等级的配置。<br>error_reporting()函数能够使用的参数列表和这些参数的数字值：</li>
</ol>
<p>值 常量<br>1 E_ERROR</p>
<p>2 E_WARNING</p>
<p>4 E_PARSE</p>
<p>8 E_NOTICE</p>
<p>16 E_CORE_ERROR</p>
<p>32 E_CORE_WARNING</p>
<p>64 E_COMPILE_ERROR</p>
<p>128 E_COMPILE_WARNING</p>
<p>256 E_USER_ERROR</p>
<p>512 E_USER_WARNING</p>
<p>1024 E_USER_NOTICE</p>
<p>2047 E_ALL</p>
<p>2048 E_STRICT<br>您是否用过版本控制软件? ?<strong>*</strong><br>posix和perl标准的正则表达式区别;<br>答:POSIX兼容正则没有定界符，函数的相应参数会被认为是正则。</p>
<p>PERL兼容正则可以使用任何不是字母、数字或反斜线（\）的字符作为定界符，如果作为定界符的字符必须被用在表达式本身中，则需要用反斜线转义。也可以使用()，{}，[] 和 &lt;&gt; 作为定界符</p>
<p>Safe_mode 打开后哪些地方受限.<br>大家都知道，PHP是没有多线程概念的，尽管如此我们仍然可以用“不完美”的方法来模拟多线程。简单的说，就是队列处理。通过对 文件进行加锁和解锁，来实现。当一个文件被一个用户操作时，该文件是被锁定的，其他用户只能等待，确实不够完美，但是也可以满足一些要求不高的应用。<br>写代码来解决多进程/线程同时读写一个文件的问题。<br>•function T_put($filename,$string){<br>•$fp = fopen($filename,’a’); //追加方式打开<br>•if (flock($fp, LOCK_EX)){ //加写锁<br>•fputs($fp,$string); //写文件<br>•flock($fp, LOCK_UN); //解锁<br>•}<br>•fclose($fp);<br>•}<br>•function T_get($filename,$length){<br>•$fp = fopen($filename,’r’); //追加方式打开<br>•if (flock($fp, LOCK_SH)){ //加读锁<br>•$result = fgets($fp,$length); //读取文件<br>•flock($fp, LOCK_UN); //解锁<br>•}<br>•fclose($fp);<br>•return $result;<br>•}  </p>
<p>function add_num( $file_path , $messageid , $num){<br>         $file_path_user = $file_path . ‘/‘ . $messageid;//把路径加上被投人ID，去往被投人的文件夹<br>         while(file_exists($file_path_user . ‘/NO_WRITABLE’)){}<br>           //为防止并发写入文件错误，判断一个文件是否存在，若存在证明正在插入，进入死循环，否则直接插入<br>         touch($file_path_user . ‘/NO_WRITABLE’);//新建验证文件<br>         file_put_contents( $file_path_user.’/num.txt’,<br>                   intval(file_get_contents($file_path_user.’/num.txt’)) + $num<br>         ); //增加票数<br>         unlink($file_path_user. ‘/NO_WRITABLE’);//删除验证文件<br>}<br>写一段上传文件的代码。<br>move_uploaded_file(“filename”,”fileurl’);</p>
<p>Mysql 的存储引擎,myisam和innodb的区别。<br>InnoDB和MyISAM是在使用MySQL最常用的两个表类型，各有优缺点，视具体应用而定。下面是已知的两者之间的差别，仅供参考。<br>innodb<br>InnoDB 给 MySQL 提供了具有事务(commit)、回滚(rollback)和崩溃修复能力(crash recovery capabilities)的事务安全(transaction-safe (ACID compliant))型表。InnoDB 提供了行锁(locking on row level)，提供与 Oracle 类型一致的不加锁读取(non-locking read in SELECTs)。这些特性均提高了多用户并发操作的性能表现。在InnoDB表中不需要扩大锁定(lock escalation)，因为 InnoDB 的列锁定(row level locks)适宜非常小的空间。InnoDB 是 MySQL 上第一个提供外键约束(FOREIGN KEY constraints)的表引擎。<br>InnoDB 的设计目标是处理大容量数据库系统，它的 CPU 利用率是其它基于磁盘的关系数据库引擎所不能比的。在技术上，InnoDB 是一套放在 MySQL 后台的完整数据库系统，InnoDB 在主内存中建立其专用的缓冲池用于高速缓冲数据和索引。 InnoDB 把数据和索引存放在表空间里，可能包含多个文件，这与其它的不一样，举例来说，在 MyISAM 中，表被存放在单独的文件中。InnoDB 表的大小只受限于操作系统的文件大小，一般为 2 GB。<br>InnoDB所有的表都保存在同一个数据文件 ibdata1 中（也可能是多个文件，或者是独立的表空间文件）,相对来说比较不好备份，免费的方案可以是拷贝数据文件、备份 binlog，或者用 mysqldump。</p>
<p>MyISAM<br>MyISAM 是MySQL缺省存贮引擎 .</p>
<p>每张MyISAM 表被存放在三个文件 。frm 文件存放表格定义。 数据文件是MYD (MYData) 。 索引文件是MYI (MYIndex) 引伸。<br>因为MyISAM相对简单所以在效率上要优于InnoDB..小型应用使用MyISAM是不错的选择.<br>MyISAM表是保存成文件的形式,在跨平台的数据转移中使用MyISAM存储会省去不少的麻烦<br>以下是细小和具体不同<br>1.InnoDB不支持FULLTEXT类型的索引。<br>2.InnoDB 中不保存表的具体行数，也就是说，执行select count(<em>) from table时，InnoDB要扫描一遍整个表来计算有多少行，但是MyISAM只要简单的读出保存好的行数即可。注意的是，当count(</em>)语句包含 where条件时，两种表的操作是一样的。<br>3.对于AUTO_INCREMENT类型的字段，InnoDB中必须包含只有该字段的索引，但是在MyISAM表中，可以和其他字段一起建立联合索引。<br>4.DELETE FROM table时，InnoDB不会重新建立表，而是一行一行的删除。<br>5.LOAD TABLE FROM MASTER操作对InnoDB是不起作用的，解决方法是首先把InnoDB表改成MyISAM表，导入数据后再改成InnoDB表，但是对于使用的额外的InnoDB特性（例如外键）的表不适用。<br>2.另外，InnoDB表的行锁也不是绝对的，如果在执行一个SQL语句时MySQL不能确定要扫描的范围，InnoDB表同样会锁全表，例如update table set num=1 where name like “�a%” </p>
<ol>
<li>web 架构，安全,项目经验<br>介绍xdebug,apc,eAccelerator,Xcache,Zend opt的使用经验。<br>使用mod_rewrite,在服务器上没有/archivers/567.html这个物理文件时，重定向到<br>index.php?id=567 ,请先打开mod_rewrite.<br>MySQL数据库作发布系统的存储，一天五万条以上的增量，预计运维三年,怎么优化？<br>写出一种排序算法（原理），并说出优化它的方法。<br>请简单阐述您最得意的开发之作<br>对于大流量的网站,您采用什么样的方法来解决各页面访问量统计问题<br>您是否用过模板引擎? ?<strong>*</strong>心玫哪０逡娴拿质??<br>请介绍Session的原理,大型网站中Session方面应注意什么?<br>测试php性能和mysql数据库性能的工具,和找出瓶颈的方法。<br>正则提出一个网页中的所有链接.<br>介绍一下常见的SSO(单点登陆)方案(比如dedecms整合discuz的passport)的原理。<br>您写过的PHP框架的特点，主要解决什么问题，与其他框架的不同点。<br>大型的论坛/新闻文章系统/SNS网站在性能优化上有什么区别?<br>相册类应用:要求在浏览器中能同时选中并上传多个文件，图片要求能剪裁，压缩包在<br>服务器端解压。能上传单个达50M的文件。上传过程中有进度条显示。每个图片能生成<br>四种大小缩略图，视频文件要转成flv供flash播放。叙述要涉及的各类开源软件和简单<br>用途。<br>一 群猴子排成一圈，按1，2，…，n依次编号。然后从第1只开始数，数到第m只,把它<br>踢出圈，从它后面再开始数，再数到第m只，在把它踢出去…， 如此不停的进行下去，<br>直到最后只剩下一只猴子为止，那只猴子就叫做大王。要求编程模拟此过程，输入m、<br>n, 输出最后那个大王的编号。用程序模拟该过程。</li>
<li>unix/linux 基本使用<br>linux下查看当前系统负载信息的一些方法。<br>vim的基本快捷键。<br>ssh 安全增强方法;密码方式和rsa key 方式的配置。<br>rpm/apt/yum/ports 装包，查询，删除的基本命令。<br>Makefile的基本格式，gcc 编译，连接的命令,-O0 和-O3区别。<br>gdb,strace,valgrind的基本使用.</li>
<li>前端,HTML,JS<br>css盒模型。<br>javascript中的prototype。<br>javascript中this对象的作用域。<br>IE和firefox事件冒泡的不同。<br>什么?<strong>*</strong>忠炷Ｊ?,标准模式，近标准模式。<br>DTD的定义<br>IE/firefox常用hack.<br>firefox,IE下的前端js/css调试工具。<br>1、用PHP打印出前一天的时间格式是2006-5-10 22:21:21(2分)<br>$a = date(“Y-m-d H:i:s”, strtotime(“-1 day”));<br>print_r($a);</li>
</ol>
<p>　　2、echo(),print(),print_r()的区别(3分)<br>echo 和print不是一个函数，是一个语言结构<br>int print(string $arg), 只有一个参数<br>echo arg1,arg1,arg2; 可以输出多个参数，返回void<br>echo和print只能打印出string，不能打印出结构<br>print_r能打印出结构<br>比如<br>$arr = array(“key”=&gt;”value”);<br>print_r($arr);</p>
<p>　　3、能够使HTML和PHP分离开使用的模板(1分)<br>smarty,phplib</p>
<p>　　4、使用哪些工具进行版本控制?(1分)<br>svn,git,cvs</p>
<p>　　5、如何实现字符串翻转?(3分)<br>英文:<br>strrev($a)<br>中文或其他文字：<br>中文：GB2312， 代码是使用GB2312编码<br>&lt;?php<br>function reverse($str)<br>{<br>        $ret = “”;<br>        len=mbstrwidth(len=mbstrwidth(str,”GB2312”);<br>        for(i=0;i=0;i&lt; len;len;i++)<br>        {<br>            arr[]=mbsubstr(arr[]=mbsubstr(str, $i, 1, “GB2312”);<br>        }<br>        return implode(“”, array_reverse($arr));<br>}<br>print_r(reverse(“你好”));</p>
<p>　　—————————————————————<br>　　6、优化MYSQL数据库的方法。(4分，多写多得)<br>语句方面：<br>1 使用索引，增加查询效率<br>2 优化查询语句，提高索引命中率<br>数据库涉及方面：<br>1 构造分库分表，提高数据库的存储和扩展能力<br>2 根据需要使用不同的存储引擎</p>
<p>　　7、PHP的意思(送1分)<br>超级文本预处理语言<br>Hypertext PreProcessor</p>
<p>　　8、MYSQL取得当前时间的函数是?，格式化日期的函数是(2分)<br>CURRENT_TIMESTAMP()<br>DATE_FORMAT()<br>select DATE_FORMAT(“2011-11-21 10:10:10”, “%Y-%m-%d”);</p>
<p>　　9、实现中文字串截取无乱码的方法。(3分)<br>mb_substr($str, 1, 1, “GB2312”);</p>
<p>　　—————————————————————<br>　　10、您是否用过版本控制软件? 如果有您用的版本控制软件的名字是?(1分)<br>svn<br>git</p>
<p>　　11、您是否用过模板引擎? 如果有您用的模板引擎的名字是?(1分)<br>smarty</p>
<p>　　12、请简单阐述您最得意的开发之作(4分)<br>XXX</p>
<p>　　13、对于大流量的网站,您采用什么样的方法来解决访问量问题?(4分)<br>1 有效使用缓存，增加缓存命中率<br>2 使用负载均衡<br>3 对静态文件使用CDN进行存储和加速<br>4 想法减少数据库的使用<br>5 查看出现统计的瓶颈在哪里</p>
<p>　　—————————————————————–<br>　　14、用PHP写出显示客户端IP与服务器IP的代码1分)<br>$_SERVER[“REMOTE_ADDR”]<br>$_SERVER[“SERVER_ADDR”]</p>
<p>　　15、语句include和require的区别是什么?为避免多次包含同一文件，可用(?)语句代替它们? (2分)<br>在失败的时候：<br>include产生一个warning，而require产生直接产生错误中断<br>require在运行前载入<br>include在运行时载入<br>require_once<br>include_once</p>
<p>　　16、如何修改SESSION的生存时间(1分).<br>session_set_cookie_params </p>
<p>　　17、有一个网页地址, 比如PHP研究室主页: <a href="http://www.phpv.net/index.html,如何得到它的内容?($1分" target="_blank" rel="noopener">http://www.phpv.net/index.html,如何得到它的内容?($1分</a>)<br>file_get_contents<br>curl </p>
<p>　　18、在HTTP 1.0中，状态码401的含义是(?);如果返回“找不到文件”的提示，则可用 header 函数，其语句为(?);(2分)<br>未授权<br>header(“HTTP/1.0 404 Not Found”);<br>fast CGI中：<br>header(“Status: 404 Not Found”);</p>
<p>　　19、在PHP中，heredoc是一种特殊的字符串，它的结束标志必须?(1分)<br>成对出现<br>$a = &lt;&lt;EOD<br>good test<br>EOD;</p>
<p>　　20、谈谈asp,php,jsp的优缺点(1分)<br>asp是需要依赖IIS,是微软开发的语言<br>php和jsp可以依赖apache或者 nginx等其他服务器</p>
<p>　　21、谈谈对mvc的认识(1分)<br>model : 数据结构层<br>view ：展现<br>control ： 接收和判断处理输入</p>
<p>　　——————————————————————-<br>　　22、写出发贴数最多的十个人名字的SQL，利用下表：members(id,username,posts,pass,email)(2分)<br>select top 10 id,username from members order by posts desc</p>
<p>　　23. 请说明php中传值与传引用的区别。什么时候传值什么时候传引用?(2分)<br>&amp;表示传引用<br>函数中参数传引用会将参数进行改变<br>一般在输出参数有多个的时候可以考虑使用引用</p>
<p>　　24. 在PHP中error_reporting这个函数有什么作用? (1分)<br>设定error的展示级别</p>
<p>　　25. 请写一个函数验证电子邮件的格式是否正确 (2分)<br>$str = “jianfeng@126.com”;<br>regex=”([a−z0−9.−]+)@([\da−z.−]+).([a−z.]2,6)regex=”([a−z0−9.−]+)@([\da−z.−]+).([a−z.]2,6)” ; //正则<br>return preg_match(regex,regex,str)</p>
<p>　　26. 简述如何得到当前执行脚本路径，包括所得到参数。(2分)<br>$argc –获取参数数量<br>$argv –获取参数列表</p>
<p>　　27.如何修改SESSION的生存时间. (1分)<br>session_set_cookie_params</p>
<p>　　——————————————————————–<br>　　28、JS表单弹出对话框函数是?获得输入焦点函数是? (2分)<br>alert()<br>confirm()<br>promopt()<br>focus()</p>
<p>　　29、JS的转向函数是?怎么引入一个外部JS文件?(2分)<br>window.location.href=”#”</p>
<script src="#">
</script>

<p>　　30、foo()和@foo()之间有什么区别?(1分)<br>@代表所有warning忽略</p>
<p>　　31、如何声明一个名为”myclass”的没有方法和属性的类? (1分)<br>class myclass<br>{<br>}</p>
<p>　　32、如何实例化一个名为”myclass”的对象?(1分)<br>$myclass = new myclass();</p>
<p>　　33、你如何访问和设置一个类的属性? (2分)<br>&lt;?php<br>class A<br>{<br>    public $name = “A”;<br>}<br>$a = new A();<br>n=n=a-&gt;name;<br>print_r($n);</p>
<p>　　34、mysql_fetch_row() 和mysql_fetch_array之间有什么区别? (1分)<br>mysql_fetch_array() 是 mysql_fetch_row() 的扩展版本。除了将数据以数字索引方式储存在数组中之外，还可以将数据作为关联索引储存，用字段名作为键名。<br>&lt;?php<br>    mysql_connect(“localhost”, “mysql_user”, “mysql_password”) or<br>        die(“Could not connect: “ . mysql_error());<br>    mysql_select_db(“mydb”);<br>    $result = mysql_query(“SELECT id, name FROM mytable”);<br>    while (row=mysqlfetcharray(row=mysqlfetcharray(result, MYSQL_ASSOC)) {<br>        printf (“ID: %s  Name: %s”, row[“id”],row[“id”],row[“name”]);<br>    }<br>    mysql_free_result($result);</p>
<p>　　——————————————————————–<br>　　35、GD库是做什么用的? (1分)<br>动态的开放的图片处理库</p>
<p>　　36、指出一些在PHP输入一段HTML代码的办法。(1分)<br>echo “{html}”<br>echo &lt;&lt;EOD<br>{html}<br>EOD;</p>
<p>　　37、下面哪个函数可以打开一个文件，以对文件进行读和写操作?(1分) c<br>　　(a) fget() (b) file_open() (c) fopen() (d) open_file()</p>
<p>　　38、下面哪个选项没有将 john 添加到users 数组中? (1分) b<br>　　(a) $users[] = ‘john’;<br>　　(b) array_add($users,’john’);<br>　　(c) array_push($users,‘john’);<br>　　(d) $users ||= ‘john’;</p>
<p>　　39、下面的程序会输入是否?(1分) 10<br>　　$num = 10;<br>　　function multiply(){<br>　　num=num=num * 10;<br>　　}<br>　　multiply();<br>　　echo $num;<br>　　?&gt;</p>
<p>　　40、使用php写一段简单查询，查出所有姓名为“张三”的内容并打印出来 (2分)<br>　　表名　UserName　Tel　Content　Date<br>　　　　　张三 13333663366 大专毕业 2006-10-11<br>　　　　　张三 13612312331 本科毕业 2006-10-15<br>　　　　　张四 021-55665566 中专毕业 2006-10-15<br>　　请根据上面的题目完成代码：<br>　　$mysql_db=mysql_connect(“local”,”root”,”pass”);<br>　　@mysql_select_db(“DB”,$mysql_db);<br>    $sql = sprintf(“select * from %s where UserName = ‘%s’”,<br>        “表名”,<br>        “张三”);<br>    values=mysqlquery(values=mysqlquery(sql);<br>    while(item=mysqlfetchqueryarray(item=mysqlfetchqueryarray(values))<br>    {<br>        echo sprintf(“用户名：%s, 电话 %s, 学历： %s, 毕业日期： %s”,<br>            item[′UserName′],item[′UserName′],item[‘Tel’], item[′Content′],item[′Content′],item[‘Date’]<br>        );<br>    }</p>
<p>　　41、如何使用下面的类,并解释下面什么意思?(3)<br>　　class test{<br>　　function Get_test($num){<br>　　num=md5(md5(num=md5(md5(num).”En”);<br>　　return $num;<br>　　}<br>　　}<br>$test = new test();<br>ret=ret=test-&gt;Get_test(11);<br>print_r($ret);exit;<br>将num进行MD5编码之后生成的32位字符串a1和”En”联系起来之后再进行一次MD5编码</p>
<p>　　—————————————————————————-<br>　　42、写出 SQL语句的格式 : 插入 ，更新 ，删除 (4分)<br>　　表名　UserName　Tel　Content　Date<br>　　　　　张三 13333663366 大专毕业 2006-10-11<br>　　　　　张三 13612312331 本科毕业 2006-10-15<br>　　　　　张四 021-55665566 中专毕业 2006-10-15<br>　　(a) 有一新记录(小王 13254748547 高中毕业 2007-05-06)请用SQL语句新增至表中<br>insert into 表名 values(‘小王’, ‘13254748547’, ‘高中毕业’, ‘2007-05-06’)<br>　　(b) 请用sql语句把张三的时间更新成为当前系统时间<br>update 表名 set Date = GETDATE() where UserName = “张三”<br>　　(c) 请写出删除名为张四的全部记录<br>delete from 表明 where UserName = “张四”</p>
<p>　　43、请写出数据类型(int char varchar datetime text)的意思; 请问varchar和char有什么区别(2分)<br>int 整型<br>char 存储定长<br>varchar 存储变长<br>datetime 时间<br>text 存储变长的<br>varchar是变长<br>char(20) 定长</p>
<p>　　44、MySQ自增类型(通常为表ID字段)必需将其设为(?)字段(1分)<br>auto_increment<br>　　45、写出以下程序的输出结果 (1分)<br>　　$b=201;<br>　　$c=40;<br>　　a=a=b&gt;$c?4:5;<br>　　echo $a;<br>　　?&gt;<br>4</p>
<p>　　46、检测一个变量是否有设置的函数是否?是否为空的函数是?(2分)<br>isset()<br>empty()</p>
<p>　　—————————————————————————–<br>　　47、取得查询结果集总数的函数是?(1分)<br>mysql_num_rows()</p>
<p>　　48、$arr = array(‘james’, ‘tom’, ‘symfony’); 请打印出第一个元素的值 (1分)<br>print_r($arr[0]);<br>reset($arr);<br>print_r(current($arr));<br>print_r(array_shift($arr));</p>
<p>　　49、请将41题的数组的值用’,’号分隔并合并成字串输出(1分)<br>implode</p>
<p>　　50、a=′abcdef′;请取出a=′abcdef′;请取出a的值并打印出第一个字母(1分)<br>$a[0];<br>substr($a, 0, 1);</p>
<p>　　51、PHP可以和sql server/oracle等数据库连接吗?(1分)<br>可以<br>有现成的库</p>
<p>　　52、请写出PHP5权限控制修饰符(3分)<br>public<br>private<br>protected</p>
<p>　　53、请写出php5的构造函数和析构函数(2分)<br>public function <strong>construct()<br>{<br>}<br>public function </strong>destruct()<br>{<br>}</p>
<p>　　编程题<br>　　<br>　　1. 写一个函数，尽可能高效的，从一个标准 url 里取出文件的扩展名<br>　　例如: <a href="http://www.sina.com.cn/abc/de/fg.php?id=1" target="_blank" rel="noopener">http://www.sina.com.cn/abc/de/fg.php?id=1</a> 需要取出 php 或 .php<br>&lt;?php<br>$url = “<a href="http://www.sina.com.cn/abc/de/fg.php?id=1" target="_blank" rel="noopener">http://www.sina.com.cn/abc/de/fg.php?id=1</a>“;<br>arr=parseurl(arr=parseurl(url);<br>pathArr=pathinfo(pathArr=pathinfo(arr[‘path’]);<br>print_r($pathArr[‘extension’]);</p>
<p>　　3. 写一个函数，算出两个文件的相对路径<br>　　如 $a = ‘/a/b/c/d/e.php’;<br>　　$b = ‘/a/b/12/34/c.php’;<br>　　计算出 b相对于b相对于a 的相对路径应该是 <a href="http://www.cnblogs.com/12/34/c.php将添上" target="_blank" rel="noopener">http://www.cnblogs.com/12/34/c.php将添上</a></p>
<p>&lt;?php<br>$a = ‘/a/b/c/d/e.php’;<br>$b = ‘/a/b/12/34/c.php’;<br>//获取path相对于conpath的相对路径<br>function sGetRelativePath(path,path,conpath)<br>{<br>    pathArr=explode(“/“,pathArr=explode(“/“,path);<br>    conpathArr=explode(“/“,conpathArr=explode(“/“,conpath);<br>    $dismatchlen = 0;<br>    for(i=0;i=0;i &lt; count(pathArr);pathArr);i++)<br>    {<br>        if(conpathArr[conpathArr[i] != pathArr[pathArr[i])<br>        {<br>            dismatchlen=count(dismatchlen=count(pathArr) - $i;<br>            arrLeft=arrayslice(arrLeft=arrayslice(pathArr, $i);<br>            break;<br>        }<br>    }<br>    ret=strrepeat(“../“,ret=strrepeat(“../“,dismatchlen).implode(“/“, $arrLeft);<br>    return $ret;<br>}<br>print_r(sGetRelativePath(b,b,a));</p>
<p>  3.写一个函数，能够遍历一个文件夹下的所有文件和子文件夹。</p>
<p>&lt;?php<br>function aGetAllFile($folder)<br>{<br>    $aFileArr = array();<br>    if(is_dir($folder))<br>    {<br>        handle=opendir(handle=opendir(folder);<br>        while((file=readdir(file=readdir(handle)) !== false)<br>        {<br>            //如果是.或者..则跳过<br>            if(file==”.”||file==”.”||file == “..”)<br>            {<br>                continue;<br>            }<br>            if(is_file(folder.”/“.folder.”/“.file))<br>            {<br>                aFileArr[]=aFileArr[]=file;<br>            }<br>            else if(is_dir(folder.”/“.folder.”/“.file))<br>            {<br>                aFileArr[aFileArr[file] = aGetAllFile(folder.”/“.folder.”/“.file);<br>            }<br>        }<br>        closedir($handle);<br>    }<br>    return $aFileArr;<br>}<br>$path = “/home/test/sql”;<br>print_r(aGetAllFile($path));<br>问题：请用最简单的语言告诉我PHP是什么？<br>回答：PHP全称：Hypertext Preprocessor，是一种用来开发动态网站的服务器脚本语言。<br>问题：什么是MVC？<br>回答：MVC由Model（模型）, View（视图）和Controller（控制器）组成，PHP MVC可以更高效地管理好3个不同层的PHP代码。<br>Model：数据信息存取层。<br>View：view层负责将应用的数据以特定的方式展现在界面上。<br>Controller：通常控制器负责从视图读取数据，控制用户输入，并向模型发送数据。<br>问题：在页面中引用CSS有几种方式？<br>回答：在页面中使用CSS有3中方式：<br>•    引用外部CSS文件<br>•    内部定义Style样式<br>•    内联样式<br>问题：PHP支持多继承吗？<br>回答：不可以。PHP类只能继承一个父类，并用关键字“extended”标识。<br>问题：请问PHP中echo和print有什么区别？<br>这两个看起来很相似，因为它们都是将一些值打印在屏幕上。但是echo和print的本质区别在于：echo用来输出字符串，显示多个值的时候可以用逗号隔开。只支持基本类型，print不仅可以打印字符串值，而且可以打印函数的返回值。<br>问题：请问GET和POST方法有什么区别？<br>回答：我们再网页上填写的表单信息都可以通过这两个方法将数据传递到服务器上，当我们使用GET方法是，所有的信息都会出现在URL地址中，并且使用GET方法最多只能传递1024个字符，所以如果在传输量小或者安全性不那么重要的情况下可以使用GET方法。说到POST方法，最多可以传输2MB字节的数据，而且可以根据需要调节。<br>问题：PHP中获取图像尺寸大小的方法是什么？<br>回答：getimagesize () 获取图片的尺寸<br>Imagesx () 获取图片的宽度<br>Imagesy () 获取图片的高度<br>问题：PHP中的PEAR是什么？<br>回答：PEAR也就是为PHP扩展与应用库（PHP Extension and Application Repository），它是一个PHP扩展及应用的一个代码仓库。<br>问题：如何用PHP和MySQL上传视频？<br>回答：我们可以在数据库中存放视频的地址，而不需要将真正的视频数据存在数据库中。可以将视频数据存放在服务器的指定文件夹下，上传的默认大小是2MB，但是我们也可以在php.ini文件中修改max_file size选项来改变。<br>问题：PHP中的错误类型有哪些？<br>回答：PHP中遇到的错误类型大致有3类。<br>提示：这都是一些非常正常的信息，而非重大的错误，有些甚至不会展示给用户。比如访问不存在的变量。<br>警告：这是有点严重的错误，将会把警告信息展示给用户，但不会影响代码的输出，比如包含一些不存在的文件。<br>错误：这是真正的严重错误，比如访问不存在的PHP类。<br>问题：如何在PHP中定义常量？<br>回答：PHP中使用Define () 来定义常量。<br>define (“Newconstant”, 30);<br>问题：如何不使用submit按钮来提交表单？<br>如果我们不想用submit按钮来提交表单，我们也可以用超链接来提交，我们可以这样写代码：<br><a href="”javascript:" document.myform.submit();”="">Submit Me</a></p>
<p>高级php面试题<br>在网上看到一些高级php 的面试题目。。<br>最近接连面试了几家公司，有些重要问题记录一下，督促自己学习提高，同时希望给朋友们一些帮助。<br>内容很多，一点点完善，一步步学习。。<br>有些是面试被问，有些是招聘要求，有些是自己整理加的。</p>
<p>一、mysql相关知识<br>    1、 mysql优化方式<br>            MYSQL 优化常用方法<br>            mysql 性能优化方案</p>
<pre><code>2、如何分库分表
       参考：
</code></pre><p>   <a href="http://blog.sina.com.cn/s/blog_6e322ce70100zs9a.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_6e322ce70100zs9a.html</a><br>           <a href="http://www.jb51.net/article/29771.htm" target="_blank" rel="noopener">http://www.jb51.net/article/29771.htm</a></p>
<p>   3、 Mysql+如何做双机热备和负载均衡<br><a href="http://www.dewen.org/q/51/Mysql+如何做双机热备和负载均衡" target="_blank" rel="noopener">http://www.dewen.org/q/51/Mysql+如何做双机热备和负载均衡</a></p>
<p>   4、数据表类型有哪些<br>       MyISAM、InnoDB、HEAP、BOB,ARCHIVE,CSV等<br>       MyISAM：成熟、稳定、易于管理，快速读取。一些功能不支持（事务等），表级锁。<br>       InnoDB：支持事务、外键等特性、数据行锁定。空间占用大，不支持全文索引等。</p>
<pre><code>myisam和Innodb引擎的主要特点
MySQL的存储引擎MyISAM与InnoDB有什么区别？
</code></pre><p>   5、防sql注入方法<br>      mysql_escape_string(strip_tags($arr[“$val”]));</p>
<ol>
<li><p>/**</p>
</li>
<li><ul>
<li>函数名称：post_check() </li>
</ul>
</li>
<li><ul>
<li>函数作用：对提交的编辑内容进行处理 </li>
</ul>
</li>
<li><ul>
<li>参　　数：$post: 要提交的内容 </li>
</ul>
</li>
<li><ul>
<li>返 回 值：$post: 返回过滤后的内容 </li>
</ul>
</li>
<li><p>*/</p>
</li>
<li><p>function post_check($post){</p>
</li>
<li><p>if(!get_magic_quotes_gpc()){// 判断magic_quotes_gpc是否为打开 </p>
</li>
<li><p>$post =addslashes($post);// 进行magic_quotes_gpc没有打开的情况对提交数据的过滤 </p>
</li>
<li><p>}</p>
</li>
<li><p>$post =str<em>replace(“</em>“,”_“,$post);// 把 ‘_’过滤掉</p>
</li>
<li><p>$post =str_replace(“%”,”\%”,$post);// 把 ‘%’过滤掉</p>
</li>
<li><p>$post = nl2br($post);// 回车转换 </p>
</li>
<li><p>$post =htmlspecialchars($post);// html标记转换 </p>
</li>
<li></li>
<li><p>return $post;</p>
</li>
<li><p>}</p>
<p>6、mysql把一个大表拆分多个表后,如何解决跨表查询效率问题<br>7、索引应用<br>  什么情况下考虑索引<br>  什么情况不适合索引<br>  一个语句是否用到索引如何判断<br> 经常发生的用不到索引的场景：</p>
<pre><code>like &apos;%.....&apos;
数据类型隐式转换
or 关键字加其它条件约束
</code></pre><p>全文索引：</p>
<pre><code>只能用于MYIsAM表，在CHAR,VARCHAR,TEXT类型的列上创建。
</code></pre><p>8、mysql对于大表(千万级),要怎么优化呢?<br> 参考<a href="http://www.zhihu.com/question/19719997" target="_blank" rel="noopener">http://www.zhihu.com/question/19719997</a></p>
<p>9、mysql的慢查询问题<br>其实通过慢查询日志来分析是一种比较简单的方式，如果不想看日志，可以借助工具来完成，<br>如mysqldumpslow, mysqlsla, myprofi, mysql-explain-slow-log, mysqllogfilter等，感觉自己来分析一个需要丰富的经验，一个浪费时间。<br>10、关于用户登录状态存session,cookie还是数据库或者memcache的优劣 <a href="http://www.dewen.org/q/11504/" target="_blank" rel="noopener">http://www.dewen.org/q/11504/</a><br>关于用户登录状态存session%2Ccookie还是数据库或者memcache的优劣<br>11、事务应用极端情况处理<br>12、sql语言分4大类请列举<br> DDL–CREATE,DROP,ALTER<br> DML–INSERT,UPDATE,DELETE<br> DQL-SELECT<br> DCL–GRANT,REVOKE,COMMIT,ROLLBACK</p>
</li>
</ol>
<p>二、php基础<br>•      session的跨域共享<br>•        php连接mysql数据库的几种方式及区别<br>mysql:面向过程<br>mysqli:面向对象<br>pdo:可移植性高<br>请参考：php基础系列：PHP连接MySQL数据库用到的三种API</p>
<p>三、php高级<br>•    长连接和短连接的使用<br>•    socket的使用<br>•    支付安全问题</p>
<p>•    面向对象<br>三大特性：封装、继承、多态（方法重写）。<br>抽象类：abstract,至少有一个方法是抽象方法，不能被实例化，为子类定义公共接口。<br>接口：interface,解决php的单继承问题，所有方法都是public访问权限的抽象方法，不能声明变量只能声明常量。<br>继承一个类的同时实现多个接口<br>class A  extends B implements 接口1，接口2…，接口n(){<br>      //实现所有接口中的方法<br>}<br>•    lamp 和 lnmp 网站架构性能差异的原因分析<br>•    解释性语言和编译性语言的性能分析，举例。<br>四、正则<br>      email,html,js等匹配<br>五、开发基础<br>•          进程和线程定义，区别和联系。<br>       进程的状态：运行run、就绪ready、等待wait<br>六、Nosql数据库<br>       memcached、redis、mongodb的区别联系<br>       3个场景完全不同的东西。1.memcached：单一键值对内存缓存的，做对象缓存无可替代的分布式缓存；2.redis：是算法和数据结构的集合，快速的数据结构操作是他最大的特点，支持数据持久化；3.mongodb是bson结构、介于rdb和nosql之间的，更松散更灵活的，但是不支持事务，只用作非重要数据存储。<br>     参考 MongoDB 或者 redis 可以替代 memcached 吗?</p>
<p>七、常用linux命令<br>      比如软链接</p>
<p>八、架构相关<br>•           项目上线前的压力测试，单台服务器支持的并发数，pv数。</p>
<p>•           服务器资源合理分配问题<br>             CPU：Apache<br>                   MySQL处在高负载环境下，磁盘IO读写过多，肯定会占用很多资源，必然会CPU占用过高。<br>             内存：内存库，数据库软件</p>
<pre><code>硬盘：文件
</code></pre><p>•           web2.0架构选择<br>              MongoDB+redis 或者 MySQL+Memcached 比较好的组合，逻辑简单的就用NOSQL<br>•           当前流行主要网站架构<br>LAMP、LNMP、LLMP<br>现在网络上还有一种LNAMP构架，也就是综合了nginx和Apache的优点，使用Apache负载PHP，nginx负责解析其他Web请求，使用nginx的rewrite模块，但是Apache端口不对外开放，Apache的许多模块都可以不加载减少资源。</p>
<p>其它：<br>数据挖掘经验、熟悉hadoop/lucene/mahout；</p>
<p>闲来无事，搞了一些答案。。。可能不是很全面，留这以后备用吧。<br>一. 基本知识点<br>1.1 HTTP协议中几个状态码的含义:503 500 401 403 404 200 301 302。。。<br>200 : 请求成功，请求的数据随之返回。<br>301 : 永久性重定向。<br>302 : 暂时行重定向。<br>401 : 当前请求需要用户验证。<br>403 : 服务器拒绝执行请求，即没有权限。<br>404 : 请求失败，请求的数据在服务器上未发现。<br>500 : 服务器错误。一般服务器端程序执行错误。<br>503 : 服务器临时维护或过载。这个状态时临时性的。<br>1.2 Include require include_once require_once 的区别.<br>处理失败方式不同：<br>require 失败时会产生一个致命级别错误，并停止程序运行。<br>include 失败时只产生一个警告级别错误，程序继续运行。<br>include_once/require_once和include/require 处理错误方式一样，<br>唯一区别在于当所包含的文件代码已经存在时候，不在包含。<br>1.3 PHP/Mysql中几个版本的进化史，比如mysql4.0到4.1，PHP 4.x到5.1的重大改进等等。</p>
<p>1.4 HEREDOC介绍<br>一种定义字符串的方法。<br>结构：<br>&lt;&lt;&lt;。在该提示符后面，要定义个标识符（单独一行），<br>然后是一个新行。接下来是字符串 本身，<br>最后要用前面定义的标识符作为结束标志（单独一行）<br>注意：<br>标识符的命名也要像其它标签一样遵守PHP的规则：<br>只能包含字母、数字和下划线，并且必须以字母和下划线作为开头</p>
<p>1.5 写出一些php魔幻（术）方法;<br><strong>construct() 实例化类时自动调用。
</strong>destruct() 类对象使用结束时自动调用。<br><strong>set() 在给未定义的属性赋值的时候调用。
</strong>get() 调用未定义的属性时候调用。<br><strong>isset() 使用isset()或empty()函数时候会调用。
</strong>unset() 使用unset()时候会调用。<br><strong>sleep() 使用serialize序列化时候调用。
</strong>wakeup() 使用unserialize反序列化的时候调用。<br><strong>call() 调用一个不存在的方法的时候调用。
</strong>callStatic()调用一个不存在的静态方法是调用。<br><strong>toString() 把对象转换成字符串的时候会调用。比如 echo。
</strong>invoke() 当尝试把对象当方法调用时调用。<br><strong>set_state() 当使用var_export()函数时候调用。接受一个数组参数。
</strong>clone() 当使用clone复制一个对象时候调用。<br>1.6 一些编译php时的configure 参数<br>–prefix=/usr/local/php php安装目录<br>–with-config-file-path=/usr/local/php/etc 指定php.ini位置<br>–with-mysql=/usr/local/mysql mysql安装目录，对mysql的支持<br>–with-mysqli=/usr/local/mysql/bin/mysql_config mysqli文件目录,优化支持<br>–enable-safe-mode 打开安全模式<br>–enable-ftp 打开ftp的支持<br>–enable-zip 打开对zip的支持<br>–with-bz2 打开对bz2文件的支持<br>–with-jpeg-dir 打开对jpeg图片的支持<br>–with-png-dir 打开对png图片的支持<br>–with-freetype-dir 打开对freetype字体库的支持<br>–without-iconv关闭iconv函数，种字符集间的转换<br>–with-libxml-dir 打开libxml2库的支持<br>–with-xmlrpc 打开xml-rpc的c语言<br>–with-zlib-dir 打开zlib库的支持<br>–with-gd 打开gd库的支持<br>更多可以使用 ./configure help 查看</p>
<p>1.7 向php传入参数的三种方法。<br>方法一 使用$argc $argv<br>方法二 使用getopt函数（）<br>方法三 提示用户输入，然后获取输入的参数。有点像C语言</p>
<p>1.8 (mysql)请写出数据类型(int char varchar datetime text)的意思; 请问varchar和char有什么区别;<br>int : 数值类型<br>char : 固定长度字符串类型<br>varchar : 可变长度字符串类型<br>datetime : 时期时间类型<br>text : 文本类型<br>varchar和char有什么区别:<br>a. char 长度是固定的，不管你存储的数据是多少他都会都固定的长度。<br>而varchar则处可变长度但他要在总长度上加1字符，这个用来存储位置。<br>b. char 固定长度，所以在处理速度上要比varchar快速很多，但是浪费存储空间，<br>所以对存储不大，但在速度上有要求的可以使用char类型，反之可以用varchar类型来实例。</p>
<p>1.9 error_reporting 等调试函数使用<br>error_reporting() 函数能够在运行时设置php.ini中 error_reporting 指令。<br>所以可以再程序中随时调节显示的错误级别。<br>使用此函数时 display_errors必须是打开状态。<br>1.10 您是否用过版本控制软件? 如果有您用的版本控制软件的名字是?</p>
<p>1.11 posix和perl标准的正则表达式区别;</p>
<p>1.12 Safe_mode 打开后哪些地方受限.<br>启动safe_mode，会对许多PHP函数进行限制，特别是和系统相关的文件打开、命令执行等函数.<br>所有操作文件的函数将只能操作与脚本UID相同的文件.</p>
<p>1.13 写代码来解决多进程/线程同时读写一个文件的问题。<br>PHP是不支持多线程的，可以使用php的flock加锁函数实现。<br>$fp = fopen(“/tmp/lock.txt”, “w+”);<br>if (flock($fp, LOCK_EX)) { // 进行排它型锁定<br>fwrite($fp, “Write something here\n”);<br>flock($fp, LOCK_UN); // 释放锁定<br>} else {<br>echo “Couldn’t lock the file !”;<br>}<br>fclose($fp);</p>
<p>1.14 写一段上传文件的代码。<br>upload.html</p>
<p><form enctype="multipart/form-data" method="POST" action="upload.php"><br>Send this file: <input name="name" type="file"></form></p>
<p><input type="submit" value="Send File"><br><br>upload.php<br>$uploads_dir = ‘/uploads’;<br>foreach ($_FILES[“error”] as $key =&gt; $error) {<br>if ($error == UPLOAD_ERR_OK) {<br>$tmp_name = $_FILES[“tmp_name”][$key];<br>$name = $_FILES[“name”][$key];<br>move_uploaded_file($tmp_name, “$uploads_dir/$name”);<br>}<br>}</p>
<p>1.15 Mysql 的存储引擎,myisam和innodb的区别。<br>a. MyISAM类型不支持事务处理等高级处理，而InnoDB类型支持.<br>b. MyISAM类型的表强调的是性能，其执行数度比InnoDB类型更快.<br>c. InnoDB不支持FULLTEXT类型的索引.<br>d. InnoDB 中不保存表的具体行数，也就是说，<br>执行select count(*) from table时，InnoDB要扫描一遍整个表来计算有多少行，<br>但是MyISAM只要简单的读出保存好的行数即可.<br>e. 对于AUTO_INCREMENT类型的字段，InnoDB中必须包含只有该字段的索引，但是在MyISAM表中，可以和其他字段一起建立联合索引。<br>f. DELETE FROM table时，InnoDB不会重新建立表，而是一行一行的删除。<br>g. LOAD TABLE FROM MASTER操作对InnoDB是不起作用的，解决方法是首先把InnoDB表改成MyISAM表，导入数据后再改成InnoDB表，<br>但是对于使用的额外的InnoDB特性(例如外键)的表不适用.<br>h. MyISAM支持表锁，InnoDB支持行锁。</p>
<p>二. web 架构，安全,项目经验<br>2.1 介绍xdebug,apc,eAccelerator,Xcache,Zend opt的使用经验。</p>
<p>2.2 使用mod_rewrite,在服务器上没有/archivers/567.html这个物理文件时，重定向到index.php?id=567 ,请先打开mod_rewrite.<br>首先，打开mod_rewrite模块。<br>其次，http.conf找到以下代码段：</p>
<p><directory><br>Options FollowSymLinks<br>AllowOverride None<br></directory><br>将其中的：AllowOverride None 改为 AllowOverride All ，重启httpd服务即可。<br>然后，在项目根目录下简历 .htaccess 文件，填写规则。</p>
<p>2.3 MySQL数据库作发布系统的存储，一天五万条以上的增量，预计运维三年,怎么优化？<br>a. 设计良好的数据库结构，允许部分数据冗余，尽量避免join查询，提高效率。<br>b. 选择合适的表字段数据类型和存储引擎，适当的添加索引。<br>c. mysql库主从读写分离。<br>d. 找规律分表，减少单表中的数据量提高查询速度。<br>e。添加缓存机制，比如memcached，apc等。<br>f. 不经常改动的页面，生成静态页面。<br>g. 书写高效率的SQL。比如 SELECT * FROM TABEL 改为 SELECT field_1, field_2, field_3 FROM TABLE.</p>
<p>2.4 写出一种排序算法（原理），并说出优化它的方法。</p>
<p>2.5 请简单阐述您最得意的开发之作</p>
<p>2.6 对于大流量的网站,您采用什么样的方法来解决各页面访问量统计问题<br>a. 确认服务器是否能支撑当前访问量。<br>b. 优化数据库访问。参考2.3<br>c. 禁止外部访问链接（盗链）, 比如图片盗链。<br>d. 控制文件下载。<br>e. 使用不同主机分流。<br>f. 使用浏览统计软件，了解访问量，有针对性的进行优化。</p>
<p>2.7 您是否用过模板引擎? 如果有您用的模板引擎的名字是?<br>Smarty<br>2.8 请介绍Session的原理,大型网站中Session方面应注意什么?</p>
<p>2.9 测试php性能和mysql数据库性能的工具,和找出瓶颈的方法。</p>
<p>2.10 正则提出一个网页中的所有链接.</p>
<p>2.11 介绍一下常见的SSO(单点登陆)方案(比如dedecms整合discuz的passport)的原理。</p>
<p>2.12 您写过的PHP框架的特点，主要解决什么问题，与其他框架的不同点。</p>
<p>2.13 大型的论坛/新闻文章系统/SNS网站在性能优化上有什么区别?</p>
<p>2.14 相册类应用:要求在浏览器中能同时选中并上传多个文件，图片要求能剪裁，压缩包在服务器端解压。能上传单个达50M的文件。上传过程中有进度条显示。每个图片能生成四种大小缩略图，视频文件要转成flv供flash播放。叙述要涉及的各类开源软件和简单用途。<br>一群猴子排成一圈，按1，2，…，n依次编号。然后从第1只开始数，数到第m只,把它踢出圈，从它后面再开始数，再数到第m只，在把它踢出去…，如此不停的进行下去，直到最后只剩下一只猴子为止，那只猴子就叫做大王。要求编程模拟此过程，输入m、n, 输出最后那个大王的编号。用程序模拟该过程。</p>
<p>三. unix/linux 基本使用<br>3.1 linux下查看当前系统负载信息的一些方法。</p>
<p>3.2 vim的基本快捷键。</p>
<p>3.3 ssh 安全增强方法;密码方式和rsa key 方式的配置。</p>
<p>3.4 rpm/apt/yum/ports 装包，查询，删除的基本命令。</p>
<p>3.5 Makefile的基本格式，gcc 编译，连接的命令,-O0 和-O3区别。</p>
<p>3.6 gdb,strace,valgrind的基本使用.</p>
<p>四. 前端,HTML,JS<br>css盒模型。<br>javascript中的prototype。<br>javascript中this对象的作用域。<br>IE和firefox事件冒泡的不同。<br>什么是怪异模式,标准模式，近标准模式。<br>DTD的定义<br>IE/firefox常用hack.<br>firefox,IE下的前端js/css调试工具。</p>
<p>五.如何理解 ThinkPHP 3.0 架构三（核心 + 行为 + 驱动）中的行为？<br>核心 + 行为 + 驱动<br>TP官方简称为：CBD<br>这个问题，在TP手册中已经有委详细地阐述了。。<br>核心（Core）：就是框架的核心代码，不可缺少的东西，TP本身是基于MVC思想开发的框架。<br>行为（Behavior） ：行为在新版ThinkPHP的架构里面起着举足轻重的作用，在系统核心之上，设置了很多标签扩展位，而每个标签位置可以依次执行各自的独立行为。行为扩展就因此而诞生了，而且很多系统功能也是通过内置的行为扩展完成的，所有行为扩展都是可替换和增加的，由此形成了底层框架可组装的基础。<br>驱动（ Driver ）：数据库驱动、缓存驱动、标签库驱动和模板引擎驱动，以及外置的类扩展。<br>最好就是下载一份文档下来看，基本上TP里面所有的功能，都会有很详细的描述和范例讲解。</p>
<p>框架，即framework。其实就是某种应用的半成品，就是一组组件，供你选用完成你自己的系统。简单说就是使用别人搭好的舞台，你来做表演。而且，框架一般是成熟的，不断升级的软件。<br>为什么要用框架？<br>因为软件系统发展到今天已经很复杂了，特别是服务器端软件，设计到的知识，内容，问题太多。在某些方面使用别人成熟的框架，就相当于让别人帮你完成一些基础工作，你只需要集中精力完成系统的业务逻辑设计。而且框架一般是成熟，稳健的，他可以处理系统很多细节问题，比如，事物处理，安全性，数据流控制等问题。还有框架一般都经过很多人使用，所以结构很好，所以扩展性也很好，而且它是不断升级的，你可以直接享受别人升级代码带来的好处。<br>框架一般处在低层应用平台（如java 里的 J2EE）和高层业务逻辑之间的中间层。<br>ThinkPHP是一个开源的PHP框架， 是为了简化企业级应用开发和敏捷WEB应用开发而诞生的<br>原名FCS，2007年元旦正式更名为ThinkPHP，并且遵循Apache2开源协议发布。早期的思想架构来源于Struts，后来经过不断改进和完善，同时也借鉴了国外很多优秀的框架和模式，使用面向对象的开发结构和MVC模式，融合了Struts的Action和Dao思想和JSP的TagLib（标签库）、RoR的ORM映射和 ActiveRecord模式，封装了CURD和一些常用操作，单一入口模式等，在模版引擎、缓存机制、认证机制和扩展性方面均有独特的表现<br>使用ThinkPHP，你可以更方便和快捷的开发和部署应用，当然不仅仅是企业级应用，任何PHP应用开发都可以从ThinkPHP的简单、兼容和快速的特性中受益。简洁、快速和实用是ThinkPHP发展秉承的宗旨，为此ThinkPHP会不断吸收和融入更好的技术以保证其新鲜和活力，提供WEB应用开发的最佳实践！<br>作为一个整体开发解决方案，ThinkPHP能够解决应用开发中的大多数需要，因为其自身包含了底层架构、兼容处理、基类库、数据库访问层、模板引擎、缓存机制、插件机制、角色认证、表单处理等常用的组件，并且对于跨版本、跨平台和跨数据库移植都比较方便。并且每个组件都是精心设计和完善的，应用开发过程仅仅需要关注您的业务逻辑。</p>
<p>看到有很多，的总结一下，比较适合有一定经验的PHPer</p>
<p>1、平时喜欢哪些php书籍及博客？CSDN、虎嗅、猎云<br>2、js闭包是什么？<br>3、for与foreach哪个更快?<br>4、php鸟哥是谁？能不能讲一下php执行原理?<br>5、php加速器有哪些？apc、zend、xcache…..能不能讲一下它的加速原理？<br>6、Node.js能彻底代替php+apache是扯淡。<br>7、怎样判断一个值是否存在于数组中？in_array(),array_key_exists,……<br>8、怎样判断select语句中是否使用了索引？explain<br>9、sphinx的中文分词词库使用第三方库还是自己建库？<br>10、如果一个被面试者经验少、基础差，此时却问些高深的知识。要怀疑它的稳定性，可以提问加班对他会不会有抵触。<br>11、mysql与mysqli的区别有哪些？<br>12、将来的发展方向？安全、还是数据挖掘、大数据处理？<br>13、php的面向对象：类的修饰符、封装、继承、多态体现方面<br>14、php 多态是什么？<br>15、Type Hinting：<a href="http://www.php.net/manual/en/language.oop5.typehinting.php" target="_blank" rel="noopener">http://www.php.net/manual/en/language.oop5.typehinting.php</a><br>16、php的设计模式：单例模式、工厂模式、生产者模式……等23种<br>17、服务器状态码:200、202、301、404、500……<br>18、i++与++i的区别？<br>19、项目开发:电商项目中的购物车数据持久化、考试系统的安全性考虑、<br>20、mysql设计基础：三大范式、功能-&gt;思维导图、创建表的第一字段是什么？<br>21、mysql字段char、varchar、int、smallint、tinyint、mediumint、bigint、decimal、double、float字节数及应用场景。<br>22、memcache与mongoDB、Redis各自的使用场景是什么？<br>23、为什么mongoDB与Redis非但没有形成竞争反而是互补关系？<br>24、Redis数据类型有哪些？int、string、hash、set、list ？<br>25、安装linux软件时使用make方式还使用yum方式？<br>26、linux网络优化：查看进程ps -aux|grep mysqld、怎样查看最大文件打开数？<br>27、C语言中的虚函数是什么？<br>28、1条微薄要推送给100万个粉丝该怎么处理？<br>29、知道哪些算法？冒泡排序？快速排序？二分查找法？<br>30、yii thinkphp ci 各自优点<br>31、php 设计模式有哪些？<br>32、c 排序算法有哪些？<br>33、php 基本结构是什么？<br>34、memcache magent 分布式设计？<br>35、redis 分布式设计，如何设计？<br>36、mongo 集群架构是怎样的？<br>37、mysql 索引原理及sql性能优化<br>38、tcp/ip 网络协议，osi7层指是什么？<br>39、php 处理大数据业务<br>40、linux 应用 负载性能查看 ？<br>41、nginx 实战优化业务功能 ？<br>42、谈一下近三年来你的得意之作?<br>43、看看简历，会问一些过去做的项目的用户量、pv、吞吐量、相关难点和解决方法等<br>44、数据库设计经验,为什么进行分表? 分库?<br>45、一般多少数据量开始分表? 分库? 分库分表的目的? 什么是数据库垂直拆分? 水平拆分? 分区等等？可以举例说明<br>46、数据库优化有哪些? 分别需要注意什么?<br>47、web开发方面会遇到哪些缓存? 分别如何优化?<br>48、给你256M的内存,对10G的文件进行排序(文件每行1个数字),如何实现？<br>49、对10G的文件进行查找如何实现？<br>50、统计10G文件每个关键字出现的次数如何实现？<br>51、假如你现在是12306火车订票的设计师,你该如何设计满足全国人民订票?<br>52、假如有1亿用户的访问量,你的服务器架构是怎样的? 用户信息的存储方案如何设计?<br>53、如果你是技术组长,所带团队任务进度无法完成你该如何解决?<br>54、如果在进度排满的前提下插入任务,你该如何保证总进度不延期?<br>55、如果有的工程师今天预定任务没有完成,你该如何解决?<br>56、从你的经验方面谈一下如何构建高性能web站点? 需要哪些环节? 步骤? 每个步骤需要注意什么如何优化等?<br>57、为什么要对数据库进行主从分离?<br>58、如何处理多服务器共享session?<br>59、一个10G的表,你用php程序统计某个字段出现的次数,思路是?<br>60、会告诉你一个nginx日志例子,用你认为最佳的编程语言统计一下http响应时间超过1秒的前10个url?<br>61、给你一个mysql配置文件,用你认为最佳的编程语言解析该文件?<br>62、给你两个路径a和b,写一个算法或思路计算a和b差距几层并显示a和b的交集?<br>63、给你一个url,在nginx配置一下rewrite指定到某个具体路径?<br>64、一个php文件的解释过程是? 一般加速php有哪些? 提高php整体性能会用到哪些技术?<br>65、session和cookie生存周期区别? 存储位置区别?<br>66、require、include、require_once、include_once区别? 加载区别? 如果程序按需加载某个php文件你如何实现?<br>67、chrome号称为多线程的,所以多线程和多进程的区别为?<br>68、php在2011年底出现hash碰撞,hash碰撞原理为? 如何进行修复?<br>69、web不安全因素有哪些? 分别如何防范?<br>70、假如两个单链表相交,写一个最优算法计算交点位置,说思路也可以?<br>71、假如你是技术组长? 如何提高团队效率?<br>72、nginx负载均衡有哪些? 如果其中一台服务器挂掉,报警机制如何实现?<br>73、不优化前提下,apache一般最大连接数为? nginx一般最大连接数为? mysql 每秒insert ? select ? update ? delete?<br>74、mysql 数据类型有哪些 ? 分别占用多少存储空间 ?<br>75、nginx设置缓存js、css、图片等信息,缓存的实现原理是?<br>76、如何提高缓存命中率? 如何对缓存进行颗粒化?<br>77、php的内存回收机制是?<br>78、我的所有问题都问完了（当然没有这么多）,你有什么问题问我没有？</p>
<p>今天为了一个电话正则表达式，查询了网上很多资源，就是既要验证固定电话又要验证手机号码。最后我总结出一个测试可以的，并且自己加以修正的结果：</p>
<pre><code>//电话号码正则表达式
function telephone(obj)
{
    var a=/^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$|(^(13[0-9]|15[0|3|6|7|8|9]|18[8|9])\d{8}$)/;
    var t1=document.getElementByIdx(obj.id).value;
    if(!a.test(t1))
    {
        alert(&quot;请输入正确的电话号码，\n\n如：0591-6487256，15005059587&quot;);
        document.getElementByIdx(obj.id).focus();
        return false;
    }

}
</code></pre><p>其中，aspx代码为：</p>
<p><th><br>     联系电话<br></th></p>
<td><br>     <input id="txtLXDH" name="txtLXDH" type="text" onfocusout="telephone(this)" onkeydown="KeyDown()"><span class="spanNotNull">*</span></td>

<p>顺便也粘贴一些其他常用的正则表达式（以下没有验证过，网上拷贝的）：<br>“^\d+$”　　//非负整数（正整数 + 0）<br>“^[0-9]<em>[1-9][0-9]</em>$”　　//正整数<br>“^((-\d+)|(0+))$”　　//非正整数（负整数 + 0）<br>“^-[0-9]<em>[1-9][0-9]</em>$”　　//负整数<br>“^-?\d+$”　　　　//整数<br>“^\d+(.\d+)?$”　　//非负浮点数（正浮点数 + 0）<br>“^(([0-9]+.[0-9]<em>[1-9][0-9]</em>)|([0-9]<em>[1-9][0-9]</em>.[0-9]+)|([0-9]<em>[1-9][0-9]</em>))$”　　//正浮点数<br>“^((-\d+(.\d+)?)|(0+(.0+)?))$”　　//非正浮点数（负浮点数 + 0）<br>“^(-(([0-9]+.[0-9]<em>[1-9][0-9]</em>)|([0-9]<em>[1-9][0-9]</em>.[0-9]+)|([0-9]<em>[1-9][0-9]</em>)))$”　　//负浮点数<br>“^(-?\d+)(.\d+)?$”　　//浮点数<br>“^[A-Za-z]+$”　　//由26个英文字母组成的字符串<br>“^[A-Z]+$”　　//由26个英文字母的大写组成的字符串<br>“^[a-z]+$”　　//由26个英文字母的小写组成的字符串<br>“^[A-Za-z0-9]+$”　　//由数字和26个英文字母组成的字符串<br>“^\w+$”　　//由数字、26个英文字母或者下划线组成的字符串<br>“^[\w-]+(.[\w-]+)<em>@[\w-]+(.[\w-]+)+$”　　　　//email地址<br>“^[a-zA-z]+://(\w+(-\w+)</em>)(.(\w+(-\w+)<em>))</em>(\?\S<em>)?$”　　//url<br>一、验证类<br>1、数字验证内<br>  1.1 整数<br>      /^(-|+)?\d+$/.test(str)<br>  1.2 大于0的整数 （用于传来的ID的验证)<br>      /^\d+$/.test(str)<br>  1.3 负整数的验证<br>      /^-\d+$/.test(str)<br>2、时间类<br>  2.1 短时间，形如 (13:04:06)<br>      function isTime(str)<br>      {<br>        var a = str.match(/^(\d{1,2})(:)?(\d{1,2})\2(\d{1,2})$/);<br>        if (a == null) {alert(‘输入的参数不是时间格式’); return false;}<br>        if (a[1]&gt;24 || a[3]&gt;60 || a[4]&gt;60)<br>        {<br>          alert(“时间格式不对”);<br>          return false<br>        }<br>        return true;<br>      }<br>  2.2 短日期，形如 (2003-12-05)<br>      function strDateTime(str)<br>      {<br>         var r = str.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/);<br>         if(r==null)return false;<br>         var d= new Date(r[1], r[3]-1, r[4]);<br>         return (d.getFullYear()==r[1]&amp;&amp;(d.getMonth()+1)==r[3]&amp;&amp;d.getDate()==r[4]);<br>      }<br>  2.3 长时间，形如 (2003-12-05 13:04:06)<br>      function strDateTime(str)<br>      {<br>        var reg = /^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/;<br>        var r = str.match(reg);<br>        if(r==null)return false;<br>        var d= new Date(r[1], r[3]-1,r[4],r[5],r[6],r[7]);<br>        return (d.getFullYear()==r[1]&amp;&amp;(d.getMonth()+1)==r[3]&amp;&amp;d.getDate()==r[4]&amp;&amp;d.getHours()==r[5]&amp;&amp;d.getMinutes()==r[6]&amp;&amp;d.getSeconds()==r[7]);<br>      }<br>  2.4 只有年和月。形如(2003-05,或者2003-5)<br>  2.5 只有小时和分钟,形如(12:03)<br>3、表单类<br>  3.1 所有的表单的值都不能为空<br>      <input ')="='')alert('不能为空!')"">
  3.2 多行文本框的值不能为空。
  3.3 多行文本框的值不能超过sMaxStrleng
  3.4 多行文本框的值不能少于sMixStrleng
  3.5 判断单选框是否选择。
  3.6 判断复选框是否选择.
  3.7 复选框的全选，多选，全不选，反选
  3.8 文件上传过程中判断文件类型
4、字符类
  4.1 判断字符全部由a-Z或者是A-Z的字字母组成
      <input 有错')"="">
  4.2 判断字符由字母和数字组成。
      <input 有错')"=""><br>  4.3 判断字符由字母和数字，下划线,点号组成.且开头的只能是下划线和字母<br>      /^([a-zA-z_]{1})([\w]</em>)$/g.test(str)<br>  4.4 字符串替换函数.Replace();<br>5、浏览器类<br>  5.1 判断浏览器的类型<br>      window.navigator.appName<br>  5.2 判断ie的版本<br>      window.navigator.appVersion<br>  5.3 判断客户端的分辨率<br>      window.screen.height;  window.screen.width;</p>
<p>6、结合类<br>  6.1 email的判断。<br>      function ismail(mail)<br>      {<br>        return(new RegExp(/^\w+((-\w+)|(.\w+))<em>\@[A-Za-z0-9]+((.|-)[A-Za-z0-9]+)</em>.[A-Za-z0-9]+$/).test(mail));<br>      }<br>  6.2 手机号码的验证<br>  6.3 身份证的验证<br>      function isIdCardNo(num)<br>      {<br>        if (isNaN(num)) {alert(“输入的不是数字！”); return false;}<br>        var len = num.length, re;<br>        if (len == 15)<br>          re = new RegExp(/^(\d{6})()?(\d{2})(\d{2})(\d{2})(\d{3})$/);<br>        else if (len == 18)<br>          re = new RegExp(/^(\d{6})()?(\d{4})(\d{2})(\d{2})(\d{3})(\d)$/);<br>        else {alert(“输入的数字位数不对！”); return false;}<br>        var a = num.match(re);<br>        if (a != null)<br>        {<br>          if (len==15)<br>          {<br>            var D = new Date(“19”+a[3]+”/“+a[4]+”/“+a[5]);<br>            var B = D.getYear()==a[3]&amp;&amp;(D.getMonth()+1)==a[4]&amp;&amp;D.getDate()==a[5];<br>          }<br>          else<br>          {<br>            var D = new Date(a[3]+”/“+a[4]+”/“+a[5]);<br>            var B = D.getFullYear()==a[3]&amp;&amp;(D.getMonth()+1)==a[4]&amp;&amp;D.getDate()==a[5];<br>          }<br>          if (!B) {alert(“输入的身份证号 “+ a[0] +” 里出生日期不对！”); return false;}<br>        }<br>        return true;<br>      }<br>//校验是否全由数字组成<br>function isDigit(s)<br>{<br>var patrn=/^[0-9]{1,20}$/;<br>if (!patrn.exec(s)) return false<br>return true<br>}<br>//校验登录名：只能输入5-20个以字母开头、可带数字、“<em>”、“.”的字串<br>function isRegisterUserName(s)<br>{<br>var patrn=/^[a-zA-Z]{1}([a-zA-Z0-9]|[.</em>]){4,19}$/;<br>if (!patrn.exec(s)) return false<br>return true<br>}<br>//校验用户姓名：只能输入1-30个以字母开头的字串<br>function isTrueName(s)<br>{<br>var patrn=/^[a-zA-Z]{1,30}$/;<br>if (!patrn.exec(s)) return false<br>return true<br>}<br>//校验密码：只能输入6-20个字母、数字、下划线<br>function isPasswd(s)<br>{<br>var patrn=/^(\w){6,20}$/;<br>if (!patrn.exec(s)) return false<br>return true<br>}<br>//校验普通电话、传真号码：可以“+”开头，除数字外，可含有“-”<br>function isTel(s)<br>{<br>//var patrn=/^[+]{0,1}(\d){1,3}[ ]?([-]?(\d){1,12})+$/;<br>var patrn=/^[+]{0,1}(\d){1,3}[ ]?([-]?((\d)|[ ]){1,12})+$/;<br>if (!patrn.exec(s)) return false<br>return true<br>}<br>//校验手机号码：必须以数字开头，除数字外，可含有“-”<br>function isMobil(s)<br>{<br>var patrn=/^[+]{0,1}(\d){1,3}[ ]?([-]?((\d)|[ ]){1,12})+$/;<br>if (!patrn.exec(s)) return false<br>return true<br>}<br>//校验邮政编码<br>function isPostalCode(s)<br>{<br>//var patrn=/^[a-zA-Z0-9]{3,12}$/;<br>var patrn=/^[a-zA-Z0-9 ]{3,12}$/;<br>if (!patrn.exec(s)) return false<br>return true<br>}<br>//校验搜索关键字<br>function isSearch(s)<br>{<br>var patrn=/^[^<code>~!@#$%^&amp;*()+=|\\\][\]\{\}:;\&#39;\,.&lt;&gt;/?]{1}[^</code>~!@$%^&amp;()+=|\][]{}:;\’\,.&lt;&gt;?]{0,19}$/;<br>if (!patrn.exec(s)) return false<br>return true<br>}<br>function isIP(s) //by zergling<br>{<br>var patrn=/^[0-9.]{1,20}$/;<br>if (!patrn.exec(s)) return false<br>return true<br>}<br>//取出字符串前后的空格<br>var strString = “ aaaaa   “;<br>strString = strString.replace(/(^[\s]<em>)|([\s]</em>$)/g, “”);<br>在使用 Regularexpression_r_r_rValidator 验证控件时常用的验证功能及其验证表达式介绍如下：<br>只能输入数字：”^[0-9]<em>$”<br>只能输入 n 位的数字：”^\d{n}$”<br>只能输入至少 n 位的数字：”^\d{n,}$”<br>只能输入 m ～ n 位的数字：”^\d{m,n}$”<br>只能输入零和非零开头的数字：”^(0|[1-9][0-9]</em>)$”<br>只能输入有两位小数的正实数：”^[0-9]+(.[0-9]{2})?$”<br>只能输入有 1～3 位小数的正实数：”^[0-9]+(.[0-9]{1,3})?$”<br>只能输入非零的正整数：”^+?[1-9][0-9]<em>$”<br>只能输入非零的负整数：”^-[1-9][0-9]</em>$”<br>只能输入长度位 3 的字符：”^.{3}$”<br>只能输入由 26 个英文字母组成的字符串：”^[A-Za-z]+$”<br>只能输入由 26 个大写英文字母组成的字符串：”^[A-Z]+$”<br>只能输入由 26 个小写英文字母组成的字符串：”^[a-z]+$”<br>只能输入由数字和 26 个英文字母组成的字符串：”^[A-Za-z0-9]+$”<br>只能输入由数字、26个英文字母或者下划线组成的字符串：”^\w+$”<br>验证用户密码： “^[a-zA-Z]\w{5,17}$” 正确格式位：以字母开头，长度在6～18之间，只能包含字符、数字和下划线<br>验证是否含有 ^%&amp;’,;=?$\”等字符：”[^%&amp;’,;=?$\x22]+”<br>只能输入汉字：”^[\u4e00-\u9fa5]{0,}$”<br>验证 Email 地址：”^\w+([-+.]\w+)<em>@\w+([-.]\w+)</em>.\w+([-.]\w+)<em>$”<br>验证 InternetURL：”^<a href="http://([\w-]+\.)+[\w-]+(/[\w-" target="_blank" rel="noopener">http://([\w-]+\.)+[\w-]+(/[\w-</a> ./?%&amp;=]</em>)?$”</p>
<p> 最近一段时间由于工作需要，开始关注针对Mysql数据库的select查询语句的相关优化方法。<br>由于在参与的实际项目中发现当mysql表的数据量达到百万级时，普通SQL查询效率呈直线下降，而且如果where中的查询条件较多时，其查询速度简直无法容忍。<br>曾经测试对一个包含400多万条记录（有索引）的表执行一条条件查询，其查询时间竟然高达40几秒，<br>相信这么高的查询延时，任何用户都会抓狂。因此如何提高sql语句查询效率，显得十分重要。以下是网上流传比较广泛的 30 种 SQL 查询语句优化方法：<br>=&gt;me 数据库的设计应当<br> 1、应尽量避免在 where 子句中使用!=或&lt;&gt;操作符，否则将引擎放弃使用索引而进行全表扫描。<br> 2、对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。</p>
<p> 3、应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描，如：<br>     select id from t where num is null<br>     可以在num上设置默认值0，确保表中num列没有null值，然后这样查询：<br>     select id from t where num=0</p>
<p> 4、尽量避免在 where 子句中使用 or 来连接条件，否则将导致引擎放弃使用索引而进行全表扫描，如：<br>     select id from t where num=10 or num=20<br>     可以这样查询：<br>     select id from t where num=10<br>     union all<br>     select id from t where num=20</p>
<p> 5、下面的查询也将导致全表扫描：(不能前置百分号)<br>     select id from t where name like ‘�c%’<br>    若要提高效率，可以考虑全文检索。</p>
<p> 6、in 和 not in 也要慎用，否则会导致全表扫描，如：<br>     select id from t where num in(1,2,3)<br>     对于连续的数值，能用 between 就不要用 in 了：<br>     select id from t where num between 1 and 3</p>
<p> 7、如果在 where 子句中使用参数，也会导致全表扫描。因为SQL只有在运行时才会解析局部变量，但优化程序不能将访问计划的选择推迟到运行时；它必须在编译时进行选择。然 而，如果在编译时建立访问计划，变量的值还是未知的，因而无法作为索引选择的输入项。如下面语句将进行全表扫描：<br>     select id from t where num=@num<br>     可以改为强制查询使用索引：<br>     select id from t with(index(索引名)) where num=@num</p>
<p> 8、应尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描。如：<br>     select id from t where num/2=100<br>     应改为:<br>     select id from t where num=100*2</p>
<p> 9、应尽量避免在where子句中对字段进行函数操作，这将导致引擎放弃使用索引而进行全表扫描。如：<br>     select id from t where substring(name,1,3)=’abc’–name以abc开头的id<br>     select id from t where datediff(day,createdate,’2005-11-30′)=0–’2005-11-30′生成的id<br>     应改为:<br>     select id from t where name like ‘abc%’<br>     select id from t where createdate&gt;=’2005-11-30′ and createdate&lt;’2005-12-1′</p>
<p> 10、不要在 where 子句中的“=”左边进行函数、算术运算或其他表达式运算，否则系统将可能无法正确使用索引。</p>
<p> 11、在使用索引字段作为条件时，如果该索引是复合索引，那么必须使用到该索引中的第一个字段作为条件时才能保证系统使用该索引，<br> 否则该索引将不会被使 用，并且应尽可能的让字段顺序与索引顺序相一致。</p>
<p> 12、不要写一些没有意义的查询，如需要生成一个空表结构：<br>     select col1,col2 into #t from t where 1=0<br>     这类代码不会返回任何结果集，但是会消耗系统资源的，应改成这样：<br>     create table #t(…)</p>
<p> 13、很多时候用 exists 代替 in 是一个好的选择：<br>     select num from a where num in(select num from b)<br>     用下面的语句替换：<br>     select num from a where exists(select 1 from b where num=a.num)</p>
<p> 14、并不是所有索引对查询都有效，SQL是根据表中数据来进行查询优化的，当索引列有大量数据重复时，SQL查询可能不会去利用索引，<br> 如一表中有字段 sex，male、female几乎各一半，那么即使在sex上建了索引也对查询效率起不了作用。</p>
<p> 15、索引并不是越多越好，索引固然可以提高相应的 select 的效率，但同时也降低了 insert 及 update 的效率，<br> 因为 insert 或 update 时有可能会重建索引，所以怎样建索引需要慎重考虑，视具体情况而定。一个表的索引数最好不要超过6个，<br> 若太多则应考虑一些不常使用到的列上建的索引是否有 必要。</p>
<p> 16.应尽可能的避免更新 clustered 索引数据列，因为 clustered 索引数据列的顺序就是表记录的物理存储顺序，<br> 一旦该列值改变将导致整个表记录的顺序的调整，会耗费相当大的资源。若应用系统需要频繁更新 clustered 索引数据列，<br> 那么需要考虑是否应将该索引建为 clustered 索引。</p>
<p> 17、尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。<br> 这是因为引擎在处理查询和连接时会 逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。</p>
<p> 18、尽可能的使用 varchar/nvarchar 代替 char/nchar ，因为首先变长字段存储空间小，可以节省存储空间，其次对于查询来说，<br> 在一个相对较小的字段内搜索效率显然要高些。</p>
<p> 19、任何地方都不要使用 select <em> from t ，用具体的字段列表代替“</em>”，不要返回用不到的任何字段。</p>
<p> 20、尽量使用表变量来代替临时表。如果表变量包含大量数据，请注意索引非常有限（只有主键索引）。</p>
<p> 21、避免频繁创建和删除临时表，以减少系统表资源的消耗。</p>
<p> 22、临时表并不是不可使用，适当地使用它们可以使某些例程更有效，例如，当需要重复引用大型表或常用表中的某个数据集时。<br> 但是，对于一次性事件，最好使 用导出表。</p>
<p> 23、在新建临时表时，如果一次性插入数据量很大，那么可以使用 select into 代替 create table，避免造成大量 log ，<br> 以提高速度；如果数据量不大，为了缓和系统表的资源，应先create table，然后insert。</p>
<p> 24、如果使用到了临时表，在存储过程的最后务必将所有的临时表显式删除，先 truncate table ，然后 drop table ，<br> 这样可以避免系统表的较长时间锁定。</p>
<p> 25、尽量避免使用游标，因为游标的效率较差，如果游标操作的数据超过1万行，那么就应该考虑改写。</p>
<p> 26、使用基于游标的方法或临时表方法之前，应先寻找基于集的解决方案来解决问题，基于集的方法通常更有效。</p>
<p> 27、与临时表一样，游标并不是不可使用。对小型数据集使用 FAST_FORWARD 游标通常要优于其他逐行处理方法，<br> 尤其是在必须引用几个表才能获得所需的数据时。在结果集中包括“合计”的例程通常要比使用游标执行的速度快。<br> 如果开发时 间允许，基于游标的方法和基于集的方法都可以尝试一下，看哪一种方法的效果更好。</p>
<p> 28、在所有的存储过程和触发器的开始处设置 SET NOCOUNT ON ，在结束时设置 SET NOCOUNT OFF 。<br> 无需在执行存储过程和触发器的每个语句后向客户端发送 DONE_IN_PROC 消息。</p>
<p> 29、尽量避免向客户端返回大数据量，若数据量过大，应该考虑相应需求是否合理。</p>
<p> 30、尽量避免大事务操作，提高系统并发能力。</p>
<p> js 获取 header 头信息，普通的请求获取不到只有 Ajax 请求能获取到<br> $.ajax({<br>     type: ‘HEAD’, // 获取头信息，type=HEAD即可<br>     url : window.location.href,<br>     complete: function( xhr,data ){<br>         // 获取相关Http Response header<br>         var wpoInfo = {<br>             // 服务器端时间<br>             “date” : xhr.getResponseHeader(‘Date’),<br>             // 如果开启了gzip，会返回这个东西<br>             “contentEncoding” : xhr.getResponseHeader(‘Content-Encoding’),<br>             // keep-alive ？ close？<br>             “connection” : xhr.getResponseHeader(‘Connection’),<br>             // 响应长度<br>             “contentLength” : xhr.getResponseHeader(‘Content-Length’),<br>             // 服务器类型，apache？lighttpd？<br>             “server” : xhr.getResponseHeader(‘Server’),<br>             “vary” : xhr.getResponseHeader(‘Vary’),<br>             “transferEncoding” : xhr.getResponseHeader(‘Transfer-Encoding’),<br>             // text/html ? text/xml?<br>             “contentType” : xhr.getResponseHeader(‘Content-Type’),<br>             “cacheControl” : xhr.getResponseHeader(‘Cache-Control’),<br>             // 生命周期？<br>             “exprires” : xhr.getResponseHeader(‘Exprires’),<br>             “lastModified” : xhr.getResponseHeader(‘Last-Modified’)<br>         };<br>         // 在这里，做想做的事。。。<br>     }<br> });</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/待整理/" rel="tag"># 待整理</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/12/19/php-slice/" rel="next" title="PHP 代码段收录">
                <i class="fa fa-chevron-left"></i> PHP 代码段收录
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/12/21/am-i-a-coder/" rel="prev" title="身为码农">
                身为码农 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  
    <div class="comments" id="comments">
      <div id="SOHUCS"></div>
    </div>
  


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">zhang xiaotian</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">98</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">44</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#很多的待整理的内容"><span class="nav-number">1.</span> <span class="nav-text"><a href="#&#x5F88;&#x591A;&#x7684;&#x5F85;&#x6574;&#x7406;&#x7684;&#x5185;&#x5BB9;" class="headerlink" title="&#x5F88;&#x591A;&#x7684;&#x5F85;&#x6574;&#x7406;&#x7684;&#x5185;&#x5BB9;"></a>&#x5F88;&#x591A;&#x7684;&#x5F85;&#x6574;&#x7406;&#x7684;&#x5185;&#x5BB9;</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#BMap-百度地图-API"><span class="nav-number">1.1.</span> <span class="nav-text"><a href="#BMap-&#x767E;&#x5EA6;&#x5730;&#x56FE;-API" class="headerlink" title="BMap &#x767E;&#x5EA6;&#x5730;&#x56FE; API"></a>BMap &#x767E;&#x5EA6;&#x5730;&#x56FE; API</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据库规划"><span class="nav-number">1.2.</span> <span class="nav-text"><a href="#&#x6570;&#x636E;&#x5E93;&#x89C4;&#x5212;" class="headerlink" title="&#x6570;&#x636E;&#x5E93;&#x89C4;&#x5212;"></a>&#x6570;&#x636E;&#x5E93;&#x89C4;&#x5212;</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-实体对象全局唯一标识申请表，"><span class="nav-number">2.</span> <span class="nav-text"><a href="#1-&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x5168;&#x5C40;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7533;&#x8BF7;&#x8868;&#xFF0C;" class="headerlink" title="1. &#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x5168;&#x5C40;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7533;&#x8BF7;&#x8868;&#xFF0C;"></a>1. &#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x5168;&#x5C40;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7533;&#x8BF7;&#x8868;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#并不是所有都在一张表，主动实体与被动实体首先就要分开，然后初期可能就两个部分，数据量上涨后可能继续按类别分表"><span class="nav-number">3.</span> <span class="nav-text"><a href="#&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x90FD;&#x5728;&#x4E00;&#x5F20;&#x8868;&#xFF0C;&#x4E3B;&#x52A8;&#x5B9E;&#x4F53;&#x4E0E;&#x88AB;&#x52A8;&#x5B9E;&#x4F53;&#x9996;&#x5148;&#x5C31;&#x8981;&#x5206;&#x5F00;&#xFF0C;&#x7136;&#x540E;&#x521D;&#x671F;&#x53EF;&#x80FD;&#x5C31;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x6570;&#x636E;&#x91CF;&#x4E0A;&#x6DA8;&#x540E;&#x53EF;&#x80FD;&#x7EE7;&#x7EED;&#x6309;&#x7C7B;&#x522B;&#x5206;&#x8868;" class="headerlink" title="(&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x90FD;&#x5728;&#x4E00;&#x5F20;&#x8868;&#xFF0C;&#x4E3B;&#x52A8;&#x5B9E;&#x4F53;&#x4E0E;&#x88AB;&#x52A8;&#x5B9E;&#x4F53;&#x9996;&#x5148;&#x5C31;&#x8981;&#x5206;&#x5F00;&#xFF0C;&#x7136;&#x540E;&#x521D;&#x671F;&#x53EF;&#x80FD;&#x5C31;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x6570;&#x636E;&#x91CF;&#x4E0A;&#x6DA8;&#x540E;&#x53EF;&#x80FD;&#x7EE7;&#x7EED;&#x6309;&#x7C7B;&#x522B;&#x5206;&#x8868;)"></a>(&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x90FD;&#x5728;&#x4E00;&#x5F20;&#x8868;&#xFF0C;&#x4E3B;&#x52A8;&#x5B9E;&#x4F53;&#x4E0E;&#x88AB;&#x52A8;&#x5B9E;&#x4F53;&#x9996;&#x5148;&#x5C31;&#x8981;&#x5206;&#x5F00;&#xFF0C;&#x7136;&#x540E;&#x521D;&#x671F;&#x53EF;&#x80FD;&#x5C31;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x6570;&#x636E;&#x91CF;&#x4E0A;&#x6DA8;&#x540E;&#x53EF;&#x80FD;&#x7EE7;&#x7EED;&#x6309;&#x7C7B;&#x522B;&#x5206;&#x8868;)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-实体创建-生成-信息表，"><span class="nav-number">4.</span> <span class="nav-text"><a href="#2-&#x5B9E;&#x4F53;&#x521B;&#x5EFA;-&#x751F;&#x6210;-&#x4FE1;&#x606F;&#x8868;&#xFF0C;" class="headerlink" title="2. &#x5B9E;&#x4F53;&#x521B;&#x5EFA;(&#x751F;&#x6210;)&#x4FE1;&#x606F;&#x8868;&#xFF0C;"></a>2. &#x5B9E;&#x4F53;&#x521B;&#x5EFA;(&#x751F;&#x6210;)&#x4FE1;&#x606F;&#x8868;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#用于记录实体创建、生成时的一些场景信息-初期可以和注册申请表合并在一起，后续分开"><span class="nav-number">5.</span> <span class="nav-text"><a href="#&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x5B9E;&#x4F53;&#x521B;&#x5EFA;&#x3001;&#x751F;&#x6210;&#x65F6;&#x7684;&#x4E00;&#x4E9B;&#x573A;&#x666F;&#x4FE1;&#x606F;-&#x521D;&#x671F;&#x53EF;&#x4EE5;&#x548C;&#x6CE8;&#x518C;&#x7533;&#x8BF7;&#x8868;&#x5408;&#x5E76;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x540E;&#x7EED;&#x5206;&#x5F00;" class="headerlink" title="(&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x5B9E;&#x4F53;&#x521B;&#x5EFA;&#x3001;&#x751F;&#x6210;&#x65F6;&#x7684;&#x4E00;&#x4E9B;&#x573A;&#x666F;&#x4FE1;&#x606F;, &#x521D;&#x671F;&#x53EF;&#x4EE5;&#x548C;&#x6CE8;&#x518C;&#x7533;&#x8BF7;&#x8868;&#x5408;&#x5E76;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x540E;&#x7EED;&#x5206;&#x5F00; )"></a>(&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x5B9E;&#x4F53;&#x521B;&#x5EFA;&#x3001;&#x751F;&#x6210;&#x65F6;&#x7684;&#x4E00;&#x4E9B;&#x573A;&#x666F;&#x4FE1;&#x606F;, &#x521D;&#x671F;&#x53EF;&#x4EE5;&#x548C;&#x6CE8;&#x518C;&#x7533;&#x8BF7;&#x8868;&#x5408;&#x5E76;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x540E;&#x7EED;&#x5206;&#x5F00; )</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-实体主表-基础信息表-，"><span class="nav-number">6.</span> <span class="nav-text"><a href="#3-&#x5B9E;&#x4F53;&#x4E3B;&#x8868;-&#x57FA;&#x7840;&#x4FE1;&#x606F;&#x8868;-&#xFF0C;" class="headerlink" title="3. &#x5B9E;&#x4F53;&#x4E3B;&#x8868;(&#x57FA;&#x7840;&#x4FE1;&#x606F;&#x8868;)&#xFF0C;"></a>3. &#x5B9E;&#x4F53;&#x4E3B;&#x8868;(&#x57FA;&#x7840;&#x4FE1;&#x606F;&#x8868;)&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#记录实体的基础信息，有些基础信息可以标识与关联对象的信息，视情况而定。"><span class="nav-number">7.</span> <span class="nav-text"><a href="#&#x8BB0;&#x5F55;&#x5B9E;&#x4F53;&#x7684;&#x57FA;&#x7840;&#x4FE1;&#x606F;&#xFF0C;&#x6709;&#x4E9B;&#x57FA;&#x7840;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x6807;&#x8BC6;&#x4E0E;&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x89C6;&#x60C5;&#x51B5;&#x800C;&#x5B9A;&#x3002;" class="headerlink" title="(&#x8BB0;&#x5F55;&#x5B9E;&#x4F53;&#x7684;&#x57FA;&#x7840;&#x4FE1;&#x606F;&#xFF0C;&#x6709;&#x4E9B;&#x57FA;&#x7840;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x6807;&#x8BC6;&#x4E0E;&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x89C6;&#x60C5;&#x51B5;&#x800C;&#x5B9A;&#x3002;)"></a>(&#x8BB0;&#x5F55;&#x5B9E;&#x4F53;&#x7684;&#x57FA;&#x7840;&#x4FE1;&#x606F;&#xFF0C;&#x6709;&#x4E9B;&#x57FA;&#x7840;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x6807;&#x8BC6;&#x4E0E;&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x89C6;&#x60C5;&#x51B5;&#x800C;&#x5B9A;&#x3002;)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-实体关联状态表，"><span class="nav-number">8.</span> <span class="nav-text"><a href="#4-&#x5B9E;&#x4F53;&#x5173;&#x8054;&#x72B6;&#x6001;&#x8868;&#xFF0C;" class="headerlink" title="4. &#x5B9E;&#x4F53;&#x5173;&#x8054;&#x72B6;&#x6001;&#x8868;&#xFF0C;"></a>4. &#x5B9E;&#x4F53;&#x5173;&#x8054;&#x72B6;&#x6001;&#x8868;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#主要记录实体在关系表中的记录状态，可算作统计记录条数；也可以标识实体自身的基础状态、系统状态，表内容多为纯数字"><span class="nav-number">9.</span> <span class="nav-text"><a href="#&#x4E3B;&#x8981;&#x8BB0;&#x5F55;&#x5B9E;&#x4F53;&#x5728;&#x5173;&#x7CFB;&#x8868;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x72B6;&#x6001;&#xFF0C;&#x53EF;&#x7B97;&#x4F5C;&#x7EDF;&#x8BA1;&#x8BB0;&#x5F55;&#x6761;&#x6570;&#xFF1B;&#x4E5F;&#x53EF;&#x4EE5;&#x6807;&#x8BC6;&#x5B9E;&#x4F53;&#x81EA;&#x8EAB;&#x7684;&#x57FA;&#x7840;&#x72B6;&#x6001;&#x3001;&#x7CFB;&#x7EDF;&#x72B6;&#x6001;&#xFF0C;&#x8868;&#x5185;&#x5BB9;&#x591A;&#x4E3A;&#x7EAF;&#x6570;&#x5B57;" class="headerlink" title="(&#x4E3B;&#x8981;&#x8BB0;&#x5F55;&#x5B9E;&#x4F53;&#x5728;&#x5173;&#x7CFB;&#x8868;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x72B6;&#x6001;&#xFF0C;&#x53EF;&#x7B97;&#x4F5C;&#x7EDF;&#x8BA1;&#x8BB0;&#x5F55;&#x6761;&#x6570;&#xFF1B;&#x4E5F;&#x53EF;&#x4EE5;&#x6807;&#x8BC6;&#x5B9E;&#x4F53;&#x81EA;&#x8EAB;&#x7684;&#x57FA;&#x7840;&#x72B6;&#x6001;&#x3001;&#x7CFB;&#x7EDF;&#x72B6;&#x6001;&#xFF0C;&#x8868;&#x5185;&#x5BB9;&#x591A;&#x4E3A;&#x7EAF;&#x6570;&#x5B57;)"></a>(&#x4E3B;&#x8981;&#x8BB0;&#x5F55;&#x5B9E;&#x4F53;&#x5728;&#x5173;&#x7CFB;&#x8868;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x72B6;&#x6001;&#xFF0C;&#x53EF;&#x7B97;&#x4F5C;&#x7EDF;&#x8BA1;&#x8BB0;&#x5F55;&#x6761;&#x6570;&#xFF1B;&#x4E5F;&#x53EF;&#x4EE5;&#x6807;&#x8BC6;&#x5B9E;&#x4F53;&#x81EA;&#x8EAB;&#x7684;&#x57FA;&#x7840;&#x72B6;&#x6001;&#x3001;&#x7CFB;&#x7EDF;&#x72B6;&#x6001;&#xFF0C;&#x8868;&#x5185;&#x5BB9;&#x591A;&#x4E3A;&#x7EAF;&#x6570;&#x5B57;)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-实体对象关联关系表，"><span class="nav-number">10.</span> <span class="nav-text"><a href="#5-&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#x5173;&#x7CFB;&#x8868;&#xFF0C;" class="headerlink" title="5. &#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#x5173;&#x7CFB;&#x8868;&#xFF0C;"></a>5. &#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#x5173;&#x7CFB;&#x8868;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#就是关联表，只有两两关联，表中的主键只标识记录唯一，其他对象间都支持一对一、一对多或多对一的记录关系"><span class="nav-number">11.</span> <span class="nav-text"><a href="#&#x5C31;&#x662F;&#x5173;&#x8054;&#x8868;&#xFF0C;&#x53EA;&#x6709;&#x4E24;&#x4E24;&#x5173;&#x8054;&#xFF0C;&#x8868;&#x4E2D;&#x7684;&#x4E3B;&#x952E;&#x53EA;&#x6807;&#x8BC6;&#x8BB0;&#x5F55;&#x552F;&#x4E00;&#xFF0C;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x95F4;&#x90FD;&#x652F;&#x6301;&#x4E00;&#x5BF9;&#x4E00;&#x3001;&#x4E00;&#x5BF9;&#x591A;&#x6216;&#x591A;&#x5BF9;&#x4E00;&#x7684;&#x8BB0;&#x5F55;&#x5173;&#x7CFB;" class="headerlink" title="(&#x5C31;&#x662F;&#x5173;&#x8054;&#x8868;&#xFF0C;&#x53EA;&#x6709;&#x4E24;&#x4E24;&#x5173;&#x8054;&#xFF0C;&#x8868;&#x4E2D;&#x7684;&#x4E3B;&#x952E;&#x53EA;&#x6807;&#x8BC6;&#x8BB0;&#x5F55;&#x552F;&#x4E00;&#xFF0C;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x95F4;&#x90FD;&#x652F;&#x6301;&#x4E00;&#x5BF9;&#x4E00;&#x3001;&#x4E00;&#x5BF9;&#x591A;&#x6216;&#x591A;&#x5BF9;&#x4E00;&#x7684;&#x8BB0;&#x5F55;&#x5173;&#x7CFB;)"></a>(&#x5C31;&#x662F;&#x5173;&#x8054;&#x8868;&#xFF0C;&#x53EA;&#x6709;&#x4E24;&#x4E24;&#x5173;&#x8054;&#xFF0C;&#x8868;&#x4E2D;&#x7684;&#x4E3B;&#x952E;&#x53EA;&#x6807;&#x8BC6;&#x8BB0;&#x5F55;&#x552F;&#x4E00;&#xFF0C;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x95F4;&#x90FD;&#x652F;&#x6301;&#x4E00;&#x5BF9;&#x4E00;&#x3001;&#x4E00;&#x5BF9;&#x591A;&#x6216;&#x591A;&#x5BF9;&#x4E00;&#x7684;&#x8BB0;&#x5F55;&#x5173;&#x7CFB;)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#系统对象关联表，如：用户权限，积分，等级，等等对象，"><span class="nav-number">12.</span> <span class="nav-text"><a href="#&#x7CFB;&#x7EDF;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#x8868;&#xFF0C;&#x5982;&#xFF1A;&#x7528;&#x6237;&#x6743;&#x9650;&#xFF0C;&#x79EF;&#x5206;&#xFF0C;&#x7B49;&#x7EA7;&#xFF0C;&#x7B49;&#x7B49;&#x5BF9;&#x8C61;&#xFF0C;" class="headerlink" title="-. &#x7CFB;&#x7EDF;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#x8868;&#xFF0C;&#x5982;&#xFF1A;&#x7528;&#x6237;&#x6743;&#x9650;&#xFF0C;&#x79EF;&#x5206;&#xFF0C;&#x7B49;&#x7EA7;&#xFF0C;&#x7B49;&#x7B49;&#x5BF9;&#x8C61;&#xFF0C;"></a>-. &#x7CFB;&#x7EDF;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#x8868;&#xFF0C;&#x5982;&#xFF1A;&#x7528;&#x6237;&#x6743;&#x9650;&#xFF0C;&#x79EF;&#x5206;&#xFF0C;&#x7B49;&#x7EA7;&#xFF0C;&#x7B49;&#x7B49;&#x5BF9;&#x8C61;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#这些对象并不是实体对象，但是在系统中必不可少，属于实体的附属属性，关联的复杂程度，可能会关联一个对象的多个层次"><span class="nav-number">13.</span> <span class="nav-text"><a href="#&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x5E76;&#x4E0D;&#x662F;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#xFF0C;&#x5C5E;&#x4E8E;&#x5B9E;&#x4F53;&#x7684;&#x9644;&#x5C5E;&#x5C5E;&#x6027;&#xFF0C;&#x5173;&#x8054;&#x7684;&#x590D;&#x6742;&#x7A0B;&#x5EA6;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5173;&#x8054;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x591A;&#x4E2A;&#x5C42;&#x6B21;" class="headerlink" title="(&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x5E76;&#x4E0D;&#x662F;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#xFF0C;&#x5C5E;&#x4E8E;&#x5B9E;&#x4F53;&#x7684;&#x9644;&#x5C5E;&#x5C5E;&#x6027;&#xFF0C;&#x5173;&#x8054;&#x7684;&#x590D;&#x6742;&#x7A0B;&#x5EA6;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5173;&#x8054;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x591A;&#x4E2A;&#x5C42;&#x6B21;"></a>(&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x5E76;&#x4E0D;&#x662F;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#xFF0C;&#x5C5E;&#x4E8E;&#x5B9E;&#x4F53;&#x7684;&#x9644;&#x5C5E;&#x5C5E;&#x6027;&#xFF0C;&#x5173;&#x8054;&#x7684;&#x590D;&#x6742;&#x7A0B;&#x5EA6;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5173;&#x8054;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x591A;&#x4E2A;&#x5C42;&#x6B21;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如权限，若有职员固定权限和散权限，就要细化到对每个操作指定唯一的操作权限码，涉及制定权限码的规则，"><span class="nav-number">14.</span> <span class="nav-text"><a href="#&#x5982;&#x6743;&#x9650;&#xFF0C;&#x82E5;&#x6709;&#x804C;&#x5458;&#x56FA;&#x5B9A;&#x6743;&#x9650;&#x548C;&#x6563;&#x6743;&#x9650;&#xFF0C;&#x5C31;&#x8981;&#x7EC6;&#x5316;&#x5230;&#x5BF9;&#x6BCF;&#x4E2A;&#x64CD;&#x4F5C;&#x6307;&#x5B9A;&#x552F;&#x4E00;&#x7684;&#x64CD;&#x4F5C;&#x6743;&#x9650;&#x7801;&#xFF0C;&#x6D89;&#x53CA;&#x5236;&#x5B9A;&#x6743;&#x9650;&#x7801;&#x7684;&#x89C4;&#x5219;&#xFF0C;" class="headerlink" title="&#x5982;&#x6743;&#x9650;&#xFF0C;&#x82E5;&#x6709;&#x804C;&#x5458;&#x56FA;&#x5B9A;&#x6743;&#x9650;&#x548C;&#x6563;&#x6743;&#x9650;&#xFF0C;&#x5C31;&#x8981;&#x7EC6;&#x5316;&#x5230;&#x5BF9;&#x6BCF;&#x4E2A;&#x64CD;&#x4F5C;&#x6307;&#x5B9A;&#x552F;&#x4E00;&#x7684;&#x64CD;&#x4F5C;&#x6743;&#x9650;&#x7801;&#xFF0C;&#x6D89;&#x53CA;&#x5236;&#x5B9A;&#x6743;&#x9650;&#x7801;&#x7684;&#x89C4;&#x5219;&#xFF0C;"></a>&#x5982;&#x6743;&#x9650;&#xFF0C;&#x82E5;&#x6709;&#x804C;&#x5458;&#x56FA;&#x5B9A;&#x6743;&#x9650;&#x548C;&#x6563;&#x6743;&#x9650;&#xFF0C;&#x5C31;&#x8981;&#x7EC6;&#x5316;&#x5230;&#x5BF9;&#x6BCF;&#x4E2A;&#x64CD;&#x4F5C;&#x6307;&#x5B9A;&#x552F;&#x4E00;&#x7684;&#x64CD;&#x4F5C;&#x6743;&#x9650;&#x7801;&#xFF0C;&#x6D89;&#x53CA;&#x5236;&#x5B9A;&#x6743;&#x9650;&#x7801;&#x7684;&#x89C4;&#x5219;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#然后在一个身份表中指定这些身份所附带的权限，最后将权限绑定在主实体上"><span class="nav-number">15.</span> <span class="nav-text"><a href="#&#x7136;&#x540E;&#x5728;&#x4E00;&#x4E2A;&#x8EAB;&#x4EFD;&#x8868;&#x4E2D;&#x6307;&#x5B9A;&#x8FD9;&#x4E9B;&#x8EAB;&#x4EFD;&#x6240;&#x9644;&#x5E26;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x6700;&#x540E;&#x5C06;&#x6743;&#x9650;&#x7ED1;&#x5B9A;&#x5728;&#x4E3B;&#x5B9E;&#x4F53;&#x4E0A;" class="headerlink" title="&#x7136;&#x540E;&#x5728;&#x4E00;&#x4E2A;&#x8EAB;&#x4EFD;&#x8868;&#x4E2D;&#x6307;&#x5B9A;&#x8FD9;&#x4E9B;&#x8EAB;&#x4EFD;&#x6240;&#x9644;&#x5E26;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x6700;&#x540E;&#x5C06;&#x6743;&#x9650;&#x7ED1;&#x5B9A;&#x5728;&#x4E3B;&#x5B9E;&#x4F53;&#x4E0A;)"></a>&#x7136;&#x540E;&#x5728;&#x4E00;&#x4E2A;&#x8EAB;&#x4EFD;&#x8868;&#x4E2D;&#x6307;&#x5B9A;&#x8FD9;&#x4E9B;&#x8EAB;&#x4EFD;&#x6240;&#x9644;&#x5E26;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x6700;&#x540E;&#x5C06;&#x6743;&#x9650;&#x7ED1;&#x5B9A;&#x5728;&#x4E3B;&#x5B9E;&#x4F53;&#x4E0A;)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-日志记录、操作流水表，"><span class="nav-number">16.</span> <span class="nav-text"><a href="#6-&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x3001;&#x64CD;&#x4F5C;&#x6D41;&#x6C34;&#x8868;&#xFF0C;" class="headerlink" title="6. &#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x3001;&#x64CD;&#x4F5C;&#x6D41;&#x6C34;&#x8868;&#xFF0C;"></a>6. &#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x3001;&#x64CD;&#x4F5C;&#x6D41;&#x6C34;&#x8868;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#用来从业务逻辑层面记录系统中的操作信息，每次操作生成一条记录，可能需要有合并几次操作为一次的，在统计层面处理。其中所有涉及财务的可能都需要单独拎出来特殊处理"><span class="nav-number">17.</span> <span class="nav-text"><a href="#&#x7528;&#x6765;&#x4ECE;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5C42;&#x9762;&#x8BB0;&#x5F55;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x64CD;&#x4F5C;&#x4FE1;&#x606F;&#xFF0C;&#x6BCF;&#x6B21;&#x64CD;&#x4F5C;&#x751F;&#x6210;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x6709;&#x5408;&#x5E76;&#x51E0;&#x6B21;&#x64CD;&#x4F5C;&#x4E3A;&#x4E00;&#x6B21;&#x7684;&#xFF0C;&#x5728;&#x7EDF;&#x8BA1;&#x5C42;&#x9762;&#x5904;&#x7406;&#x3002;&#x5176;&#x4E2D;&#x6240;&#x6709;&#x6D89;&#x53CA;&#x8D22;&#x52A1;&#x7684;&#x53EF;&#x80FD;&#x90FD;&#x9700;&#x8981;&#x5355;&#x72EC;&#x62CE;&#x51FA;&#x6765;&#x7279;&#x6B8A;&#x5904;&#x7406;" class="headerlink" title="(&#x7528;&#x6765;&#x4ECE;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5C42;&#x9762;&#x8BB0;&#x5F55;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x64CD;&#x4F5C;&#x4FE1;&#x606F;&#xFF0C;&#x6BCF;&#x6B21;&#x64CD;&#x4F5C;&#x751F;&#x6210;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x6709;&#x5408;&#x5E76;&#x51E0;&#x6B21;&#x64CD;&#x4F5C;&#x4E3A;&#x4E00;&#x6B21;&#x7684;&#xFF0C;&#x5728;&#x7EDF;&#x8BA1;&#x5C42;&#x9762;&#x5904;&#x7406;&#x3002;&#x5176;&#x4E2D;&#x6240;&#x6709;&#x6D89;&#x53CA;&#x8D22;&#x52A1;&#x7684;&#x53EF;&#x80FD;&#x90FD;&#x9700;&#x8981;&#x5355;&#x72EC;&#x62CE;&#x51FA;&#x6765;&#x7279;&#x6B8A;&#x5904;&#x7406;)"></a>(&#x7528;&#x6765;&#x4ECE;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5C42;&#x9762;&#x8BB0;&#x5F55;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x64CD;&#x4F5C;&#x4FE1;&#x606F;&#xFF0C;&#x6BCF;&#x6B21;&#x64CD;&#x4F5C;&#x751F;&#x6210;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x6709;&#x5408;&#x5E76;&#x51E0;&#x6B21;&#x64CD;&#x4F5C;&#x4E3A;&#x4E00;&#x6B21;&#x7684;&#xFF0C;&#x5728;&#x7EDF;&#x8BA1;&#x5C42;&#x9762;&#x5904;&#x7406;&#x3002;&#x5176;&#x4E2D;&#x6240;&#x6709;&#x6D89;&#x53CA;&#x8D22;&#x52A1;&#x7684;&#x53EF;&#x80FD;&#x90FD;&#x9700;&#x8981;&#x5355;&#x72EC;&#x62CE;&#x51FA;&#x6765;&#x7279;&#x6B8A;&#x5904;&#x7406;)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7-统计表，"><span class="nav-number">18.</span> <span class="nav-text"><a href="#7-&#x7EDF;&#x8BA1;&#x8868;&#xFF0C;" class="headerlink" title="7. &#x7EDF;&#x8BA1;&#x8868;&#xFF0C;"></a>7. &#x7EDF;&#x8BA1;&#x8868;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#由不同的统计维度构成，定时统计，将大的统计目标拆分成小的单元，分散统计压力，或是建立主从，在特定时间专门跑出一个整体的统计"><span class="nav-number">19.</span> <span class="nav-text"><a href="#&#x7531;&#x4E0D;&#x540C;&#x7684;&#x7EDF;&#x8BA1;&#x7EF4;&#x5EA6;&#x6784;&#x6210;&#xFF0C;&#x5B9A;&#x65F6;&#x7EDF;&#x8BA1;&#xFF0C;&#x5C06;&#x5927;&#x7684;&#x7EDF;&#x8BA1;&#x76EE;&#x6807;&#x62C6;&#x5206;&#x6210;&#x5C0F;&#x7684;&#x5355;&#x5143;&#xFF0C;&#x5206;&#x6563;&#x7EDF;&#x8BA1;&#x538B;&#x529B;&#xFF0C;&#x6216;&#x662F;&#x5EFA;&#x7ACB;&#x4E3B;&#x4ECE;&#xFF0C;&#x5728;&#x7279;&#x5B9A;&#x65F6;&#x95F4;&#x4E13;&#x95E8;&#x8DD1;&#x51FA;&#x4E00;&#x4E2A;&#x6574;&#x4F53;&#x7684;&#x7EDF;&#x8BA1;" class="headerlink" title="(&#x7531;&#x4E0D;&#x540C;&#x7684;&#x7EDF;&#x8BA1;&#x7EF4;&#x5EA6;&#x6784;&#x6210;&#xFF0C;&#x5B9A;&#x65F6;&#x7EDF;&#x8BA1;&#xFF0C;&#x5C06;&#x5927;&#x7684;&#x7EDF;&#x8BA1;&#x76EE;&#x6807;&#x62C6;&#x5206;&#x6210;&#x5C0F;&#x7684;&#x5355;&#x5143;&#xFF0C;&#x5206;&#x6563;&#x7EDF;&#x8BA1;&#x538B;&#x529B;&#xFF0C;&#x6216;&#x662F;&#x5EFA;&#x7ACB;&#x4E3B;&#x4ECE;&#xFF0C;&#x5728;&#x7279;&#x5B9A;&#x65F6;&#x95F4;&#x4E13;&#x95E8;&#x8DD1;&#x51FA;&#x4E00;&#x4E2A;&#x6574;&#x4F53;&#x7684;&#x7EDF;&#x8BA1;)"></a>(&#x7531;&#x4E0D;&#x540C;&#x7684;&#x7EDF;&#x8BA1;&#x7EF4;&#x5EA6;&#x6784;&#x6210;&#xFF0C;&#x5B9A;&#x65F6;&#x7EDF;&#x8BA1;&#xFF0C;&#x5C06;&#x5927;&#x7684;&#x7EDF;&#x8BA1;&#x76EE;&#x6807;&#x62C6;&#x5206;&#x6210;&#x5C0F;&#x7684;&#x5355;&#x5143;&#xFF0C;&#x5206;&#x6563;&#x7EDF;&#x8BA1;&#x538B;&#x529B;&#xFF0C;&#x6216;&#x662F;&#x5EFA;&#x7ACB;&#x4E3B;&#x4ECE;&#xFF0C;&#x5728;&#x7279;&#x5B9A;&#x65F6;&#x95F4;&#x4E13;&#x95E8;&#x8DD1;&#x51FA;&#x4E00;&#x4E2A;&#x6574;&#x4F53;&#x7684;&#x7EDF;&#x8BA1;)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#每个主实体都有一张主表，上面该实体的id为主键，然后就是该实体的基础信息-根信息-地址虽然是对象，但是不算是实体，只能依附于一个实体存在"><span class="nav-number">19.1.</span> <span class="nav-text"><a href="#&#x6BCF;&#x4E2A;&#x4E3B;&#x5B9E;&#x4F53;&#x90FD;&#x6709;&#x4E00;&#x5F20;&#x4E3B;&#x8868;&#xFF0C;&#x4E0A;&#x9762;&#x8BE5;&#x5B9E;&#x4F53;&#x7684;id&#x4E3A;&#x4E3B;&#x952E;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x662F;&#x8BE5;&#x5B9E;&#x4F53;&#x7684;&#x57FA;&#x7840;&#x4FE1;&#x606F;-&#x6839;&#x4FE1;&#x606F;-&#x5730;&#x5740;&#x867D;&#x7136;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x7B97;&#x662F;&#x5B9E;&#x4F53;&#xFF0C;&#x53EA;&#x80FD;&#x4F9D;&#x9644;&#x4E8E;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#x5B58;&#x5728;" class="headerlink" title="&#x6BCF;&#x4E2A;&#x4E3B;&#x5B9E;&#x4F53;&#x90FD;&#x6709;&#x4E00;&#x5F20;&#x4E3B;&#x8868;&#xFF0C;&#x4E0A;&#x9762;&#x8BE5;&#x5B9E;&#x4F53;&#x7684;id&#x4E3A;&#x4E3B;&#x952E;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x662F;&#x8BE5;&#x5B9E;&#x4F53;&#x7684;&#x57FA;&#x7840;&#x4FE1;&#x606F;(&#x6839;&#x4FE1;&#x606F;), // &#x5730;&#x5740;&#x867D;&#x7136;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x7B97;&#x662F;&#x5B9E;&#x4F53;&#xFF0C;&#x53EA;&#x80FD;&#x4F9D;&#x9644;&#x4E8E;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#x5B58;&#x5728;"></a>&#x6BCF;&#x4E2A;&#x4E3B;&#x5B9E;&#x4F53;&#x90FD;&#x6709;&#x4E00;&#x5F20;&#x4E3B;&#x8868;&#xFF0C;&#x4E0A;&#x9762;&#x8BE5;&#x5B9E;&#x4F53;&#x7684;id&#x4E3A;&#x4E3B;&#x952E;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x662F;&#x8BE5;&#x5B9E;&#x4F53;&#x7684;&#x57FA;&#x7840;&#x4FE1;&#x606F;(&#x6839;&#x4FE1;&#x606F;), // &#x5730;&#x5740;&#x867D;&#x7136;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x7B97;&#x662F;&#x5B9E;&#x4F53;&#xFF0C;&#x53EA;&#x80FD;&#x4F9D;&#x9644;&#x4E8E;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#x5B58;&#x5728;</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#在主表生成记录之前会有一张前置表-生成信息、创建信息表-，用于记录申请-id-或-单号-，保证数据唯一性，"><span class="nav-number">20.</span> <span class="nav-text"><a href="#&#x5728;&#x4E3B;&#x8868;&#x751F;&#x6210;&#x8BB0;&#x5F55;&#x4E4B;&#x524D;&#x4F1A;&#x6709;&#x4E00;&#x5F20;&#x524D;&#x7F6E;&#x8868;-&#x751F;&#x6210;&#x4FE1;&#x606F;&#x3001;&#x521B;&#x5EFA;&#x4FE1;&#x606F;&#x8868;-&#xFF0C;&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x7533;&#x8BF7;-id-&#x6216;-&#x5355;&#x53F7;-&#xFF0C;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x552F;&#x4E00;&#x6027;&#xFF0C;" class="headerlink" title="&#x5728;&#x4E3B;&#x8868;&#x751F;&#x6210;&#x8BB0;&#x5F55;&#x4E4B;&#x524D;&#x4F1A;&#x6709;&#x4E00;&#x5F20;&#x524D;&#x7F6E;&#x8868;(&#x751F;&#x6210;&#x4FE1;&#x606F;&#x3001;&#x521B;&#x5EFA;&#x4FE1;&#x606F;&#x8868;)&#xFF0C;&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x7533;&#x8BF7; id (&#x6216; &#x5355;&#x53F7;)&#xFF0C;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x552F;&#x4E00;&#x6027;&#xFF0C;"></a>&#x5728;&#x4E3B;&#x8868;&#x751F;&#x6210;&#x8BB0;&#x5F55;&#x4E4B;&#x524D;&#x4F1A;&#x6709;&#x4E00;&#x5F20;&#x524D;&#x7F6E;&#x8868;(&#x751F;&#x6210;&#x4FE1;&#x606F;&#x3001;&#x521B;&#x5EFA;&#x4FE1;&#x606F;&#x8868;)&#xFF0C;&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x7533;&#x8BF7; id (&#x6216; &#x5355;&#x53F7;)&#xFF0C;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x552F;&#x4E00;&#x6027;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#其中会记录一些申请时的信息，算是将创建信息都集中在一起，"><span class="nav-number">21.</span> <span class="nav-text"><a href="#&#x5176;&#x4E2D;&#x4F1A;&#x8BB0;&#x5F55;&#x4E00;&#x4E9B;&#x7533;&#x8BF7;&#x65F6;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x7B97;&#x662F;&#x5C06;&#x521B;&#x5EFA;&#x4FE1;&#x606F;&#x90FD;&#x96C6;&#x4E2D;&#x5728;&#x4E00;&#x8D77;&#xFF0C;" class="headerlink" title="&#x5176;&#x4E2D;&#x4F1A;&#x8BB0;&#x5F55;&#x4E00;&#x4E9B;&#x7533;&#x8BF7;&#x65F6;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x7B97;&#x662F;&#x5C06;&#x521B;&#x5EFA;&#x4FE1;&#x606F;&#x90FD;&#x96C6;&#x4E2D;&#x5728;&#x4E00;&#x8D77;&#xFF0C;()"></a>&#x5176;&#x4E2D;&#x4F1A;&#x8BB0;&#x5F55;&#x4E00;&#x4E9B;&#x7533;&#x8BF7;&#x65F6;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x7B97;&#x662F;&#x5C06;&#x521B;&#x5EFA;&#x4FE1;&#x606F;&#x90FD;&#x96C6;&#x4E2D;&#x5728;&#x4E00;&#x8D77;&#xFF0C;()</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#"><span class="nav-number">22.</span> <span class="nav-text"><a href="#" class="headerlink" title=" "></a> </span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#表名，"><span class="nav-number">22.1.</span> <span class="nav-text"><a href="#&#x8868;&#x540D;&#xFF0C;" class="headerlink" title="&#x8868;&#x540D;&#xFF0C;"></a>&#x8868;&#x540D;&#xFF0C;</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#实体表表名优先是对应英文全拼，冲突先考虑换词，一般实体对象英文不会发生冲突"><span class="nav-number">23.</span> <span class="nav-text"><a href="#&#x5B9E;&#x4F53;&#x8868;&#x8868;&#x540D;&#x4F18;&#x5148;&#x662F;&#x5BF9;&#x5E94;&#x82F1;&#x6587;&#x5168;&#x62FC;&#xFF0C;&#x51B2;&#x7A81;&#x5148;&#x8003;&#x8651;&#x6362;&#x8BCD;&#xFF0C;&#x4E00;&#x822C;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x82F1;&#x6587;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x51B2;&#x7A81;" class="headerlink" title="&#x5B9E;&#x4F53;&#x8868;&#x8868;&#x540D;&#x4F18;&#x5148;&#x662F;&#x5BF9;&#x5E94;&#x82F1;&#x6587;&#x5168;&#x62FC;&#xFF0C;&#x51B2;&#x7A81;&#x5148;&#x8003;&#x8651;&#x6362;&#x8BCD;&#xFF0C;&#x4E00;&#x822C;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x82F1;&#x6587;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x51B2;&#x7A81;"></a>&#x5B9E;&#x4F53;&#x8868;&#x8868;&#x540D;&#x4F18;&#x5148;&#x662F;&#x5BF9;&#x5E94;&#x82F1;&#x6587;&#x5168;&#x62FC;&#xFF0C;&#x51B2;&#x7A81;&#x5148;&#x8003;&#x8651;&#x6362;&#x8BCD;&#xFF0C;&#x4E00;&#x822C;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x82F1;&#x6587;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x51B2;&#x7A81;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#关系表，仅仅限制于两个实体对象的关系，按照从属、父子或大小关系，主要对象在前，关联对象在后-，以下划线连接为名"><span class="nav-number">24.</span> <span class="nav-text"><a href="#&#x5173;&#x7CFB;&#x8868;&#xFF0C;&#x4EC5;&#x4EC5;&#x9650;&#x5236;&#x4E8E;&#x4E24;&#x4E2A;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x6309;&#x7167;&#x4ECE;&#x5C5E;&#x3001;&#x7236;&#x5B50;&#x6216;&#x5927;&#x5C0F;&#x5173;&#x7CFB;&#xFF0C;&#x4E3B;&#x8981;&#x5BF9;&#x8C61;&#x5728;&#x524D;&#xFF0C;&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x5728;&#x540E;-&#xFF0C;&#x4EE5;&#x4E0B;&#x5212;&#x7EBF;&#x8FDE;&#x63A5;&#x4E3A;&#x540D;" class="headerlink" title="&#x5173;&#x7CFB;&#x8868;&#xFF0C;&#x4EC5;&#x4EC5;&#x9650;&#x5236;&#x4E8E;&#x4E24;&#x4E2A;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x6309;&#x7167;&#x4ECE;&#x5C5E;&#x3001;&#x7236;&#x5B50;&#x6216;&#x5927;&#x5C0F;&#x5173;&#x7CFB;&#xFF0C;&#x4E3B;&#x8981;&#x5BF9;&#x8C61;&#x5728;&#x524D;&#xFF0C;&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x5728;&#x540E; &#xFF0C;&#x4EE5;&#x4E0B;&#x5212;&#x7EBF;&#x8FDE;&#x63A5;&#x4E3A;&#x540D;"></a>&#x5173;&#x7CFB;&#x8868;&#xFF0C;&#x4EC5;&#x4EC5;&#x9650;&#x5236;&#x4E8E;&#x4E24;&#x4E2A;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x6309;&#x7167;&#x4ECE;&#x5C5E;&#x3001;&#x7236;&#x5B50;&#x6216;&#x5927;&#x5C0F;&#x5173;&#x7CFB;&#xFF0C;&#x4E3B;&#x8981;&#x5BF9;&#x8C61;&#x5728;&#x524D;&#xFF0C;&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x5728;&#x540E; &#xFF0C;&#x4EE5;&#x4E0B;&#x5212;&#x7EBF;&#x8FDE;&#x63A5;&#x4E3A;&#x540D;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#关系表只支持两个对象关联，以上的都不支持，也不应该支持-只有一种情况可能涉及多个对象，那就是有部分是一一对应关系，最后整体看依旧是两个对象"><span class="nav-number">25.</span> <span class="nav-text"><a href="#&#x5173;&#x7CFB;&#x8868;&#x53EA;&#x652F;&#x6301;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#xFF0C;&#x4EE5;&#x4E0A;&#x7684;&#x90FD;&#x4E0D;&#x652F;&#x6301;&#xFF0C;&#x4E5F;&#x4E0D;&#x5E94;&#x8BE5;&#x652F;&#x6301;-&#x53EA;&#x6709;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x53EF;&#x80FD;&#x6D89;&#x53CA;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x6709;&#x90E8;&#x5206;&#x662F;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#xFF0C;&#x6700;&#x540E;&#x6574;&#x4F53;&#x770B;&#x4F9D;&#x65E7;&#x662F;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;" class="headerlink" title="&#x5173;&#x7CFB;&#x8868;&#x53EA;&#x652F;&#x6301;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#xFF0C;&#x4EE5;&#x4E0A;&#x7684;&#x90FD;&#x4E0D;&#x652F;&#x6301;&#xFF0C;&#x4E5F;&#x4E0D;&#x5E94;&#x8BE5;&#x652F;&#x6301;(&#x53EA;&#x6709;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x53EF;&#x80FD;&#x6D89;&#x53CA;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x6709;&#x90E8;&#x5206;&#x662F;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#xFF0C;&#x6700;&#x540E;&#x6574;&#x4F53;&#x770B;&#x4F9D;&#x65E7;&#x662F;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;)"></a>&#x5173;&#x7CFB;&#x8868;&#x53EA;&#x652F;&#x6301;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#xFF0C;&#x4EE5;&#x4E0A;&#x7684;&#x90FD;&#x4E0D;&#x652F;&#x6301;&#xFF0C;&#x4E5F;&#x4E0D;&#x5E94;&#x8BE5;&#x652F;&#x6301;(&#x53EA;&#x6709;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x53EF;&#x80FD;&#x6D89;&#x53CA;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x6709;&#x90E8;&#x5206;&#x662F;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#xFF0C;&#x6700;&#x540E;&#x6574;&#x4F53;&#x770B;&#x4F9D;&#x65E7;&#x662F;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#每张表都必须有主键，用以区分标识每条记录"><span class="nav-number">25.1.</span> <span class="nav-text"><a href="#&#x6BCF;&#x5F20;&#x8868;&#x90FD;&#x5FC5;&#x987B;&#x6709;&#x4E3B;&#x952E;&#xFF0C;&#x7528;&#x4EE5;&#x533A;&#x5206;&#x6807;&#x8BC6;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;" class="headerlink" title="&#x6BCF;&#x5F20;&#x8868;&#x90FD;&#x5FC5;&#x987B;&#x6709;&#x4E3B;&#x952E;&#xFF0C;&#x7528;&#x4EE5;&#x533A;&#x5206;&#x6807;&#x8BC6;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;,"></a>&#x6BCF;&#x5F20;&#x8868;&#x90FD;&#x5FC5;&#x987B;&#x6709;&#x4E3B;&#x952E;&#xFF0C;&#x7528;&#x4EE5;&#x533A;&#x5206;&#x6807;&#x8BC6;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;,</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#实体对象尽量使英文首字母-id-冲突情况下换词或者全拼-关联表为-关联英文首字母-id"><span class="nav-number">26.</span> <span class="nav-text"><a href="#&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x5C3D;&#x91CF;&#x4F7F;&#x82F1;&#x6587;&#x9996;&#x5B57;&#x6BCD;-id-&#x51B2;&#x7A81;&#x60C5;&#x51B5;&#x4E0B;&#x6362;&#x8BCD;&#x6216;&#x8005;&#x5168;&#x62FC;-&#x5173;&#x8054;&#x8868;&#x4E3A;-&#x5173;&#x8054;&#x82F1;&#x6587;&#x9996;&#x5B57;&#x6BCD;-id" class="headerlink" title="&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x5C3D;&#x91CF;&#x4F7F;&#x82F1;&#x6587;&#x9996;&#x5B57;&#x6BCD;+id,&#x51B2;&#x7A81;&#x60C5;&#x51B5;&#x4E0B;&#x6362;&#x8BCD;&#x6216;&#x8005;&#x5168;&#x62FC;, &#x5173;&#x8054;&#x8868;&#x4E3A; &#x5173;&#x8054;&#x82F1;&#x6587;&#x9996;&#x5B57;&#x6BCD;+id"></a>&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x5C3D;&#x91CF;&#x4F7F;&#x82F1;&#x6587;&#x9996;&#x5B57;&#x6BCD;+id,&#x51B2;&#x7A81;&#x60C5;&#x51B5;&#x4E0B;&#x6362;&#x8BCD;&#x6216;&#x8005;&#x5168;&#x62FC;, &#x5173;&#x8054;&#x8868;&#x4E3A; &#x5173;&#x8054;&#x82F1;&#x6587;&#x9996;&#x5B57;&#x6BCD;+id</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#目前-实体对象表的主键有-uid-用户id-lid-物流id-aid-地址id"><span class="nav-number">27.</span> <span class="nav-text"><a href="#&#x76EE;&#x524D;-&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x8868;&#x7684;&#x4E3B;&#x952E;&#x6709;-uid-&#x7528;&#x6237;id-lid-&#x7269;&#x6D41;id-aid-&#x5730;&#x5740;id" class="headerlink" title="&#x76EE;&#x524D; &#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x8868;&#x7684;&#x4E3B;&#x952E;&#x6709;: uid - &#x7528;&#x6237;id , lid - &#x7269;&#x6D41;id , aid - &#x5730;&#x5740;id"></a>&#x76EE;&#x524D; &#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x8868;&#x7684;&#x4E3B;&#x952E;&#x6709;: uid - &#x7528;&#x6237;id , lid - &#x7269;&#x6D41;id , aid - &#x5730;&#x5740;id</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#内容-直接显示对应英文，尽量没有前缀或者程序补充按规则的统一前缀，能简写的优先简写"><span class="nav-number">27.1.</span> <span class="nav-text"><a href="#&#x5185;&#x5BB9;-&#x76F4;&#x63A5;&#x663E;&#x793A;&#x5BF9;&#x5E94;&#x82F1;&#x6587;&#xFF0C;&#x5C3D;&#x91CF;&#x6CA1;&#x6709;&#x524D;&#x7F00;&#x6216;&#x8005;&#x7A0B;&#x5E8F;&#x8865;&#x5145;&#x6309;&#x89C4;&#x5219;&#x7684;&#x7EDF;&#x4E00;&#x524D;&#x7F00;&#xFF0C;&#x80FD;&#x7B80;&#x5199;&#x7684;&#x4F18;&#x5148;&#x7B80;&#x5199;" class="headerlink" title="&#x5185;&#x5BB9; &#x76F4;&#x63A5;&#x663E;&#x793A;&#x5BF9;&#x5E94;&#x82F1;&#x6587;&#xFF0C;&#x5C3D;&#x91CF;&#x6CA1;&#x6709;&#x524D;&#x7F00;&#x6216;&#x8005;&#x7A0B;&#x5E8F;&#x8865;&#x5145;&#x6309;&#x89C4;&#x5219;&#x7684;&#x7EDF;&#x4E00;&#x524D;&#x7F00;&#xFF0C;&#x80FD;&#x7B80;&#x5199;&#x7684;&#x4F18;&#x5148;&#x7B80;&#x5199;"></a>&#x5185;&#x5BB9; &#x76F4;&#x63A5;&#x663E;&#x793A;&#x5BF9;&#x5E94;&#x82F1;&#x6587;&#xFF0C;&#x5C3D;&#x91CF;&#x6CA1;&#x6709;&#x524D;&#x7F00;&#x6216;&#x8005;&#x7A0B;&#x5E8F;&#x8865;&#x5145;&#x6309;&#x89C4;&#x5219;&#x7684;&#x7EDF;&#x4E00;&#x524D;&#x7F00;&#xFF0C;&#x80FD;&#x7B80;&#x5199;&#x7684;&#x4F18;&#x5148;&#x7B80;&#x5199;</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如果是关系表的话，相对应的内容是一堆标识字段，标识各种状态，"><span class="nav-number">28.</span> <span class="nav-text"><a href="#&#x5982;&#x679C;&#x662F;&#x5173;&#x7CFB;&#x8868;&#x7684;&#x8BDD;&#xFF0C;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x5185;&#x5BB9;&#x662F;&#x4E00;&#x5806;&#x6807;&#x8BC6;&#x5B57;&#x6BB5;&#xFF0C;&#x6807;&#x8BC6;&#x5404;&#x79CD;&#x72B6;&#x6001;&#xFF0C;" class="headerlink" title="&#x5982;&#x679C;&#x662F;&#x5173;&#x7CFB;&#x8868;&#x7684;&#x8BDD;&#xFF0C;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x5185;&#x5BB9;&#x662F;&#x4E00;&#x5806;&#x6807;&#x8BC6;&#x5B57;&#x6BB5;&#xFF0C;&#x6807;&#x8BC6;&#x5404;&#x79CD;&#x72B6;&#x6001;&#xFF0C;"></a>&#x5982;&#x679C;&#x662F;&#x5173;&#x7CFB;&#x8868;&#x7684;&#x8BDD;&#xFF0C;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x5185;&#x5BB9;&#x662F;&#x4E00;&#x5806;&#x6807;&#x8BC6;&#x5B57;&#x6BB5;&#xFF0C;&#x6807;&#x8BC6;&#x5404;&#x79CD;&#x72B6;&#x6001;&#xFF0C;</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#表设计-设计表的公共部分，仅仅是为了结构的统一，并且通常都具有一定的实际意义，可以细化操作信息"><span class="nav-number">28.1.</span> <span class="nav-text"><a href="#&#x8868;&#x8BBE;&#x8BA1;-&#x8BBE;&#x8BA1;&#x8868;&#x7684;&#x516C;&#x5171;&#x90E8;&#x5206;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x4E3A;&#x4E86;&#x7ED3;&#x6784;&#x7684;&#x7EDF;&#x4E00;&#xFF0C;&#x5E76;&#x4E14;&#x901A;&#x5E38;&#x90FD;&#x5177;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x5B9E;&#x9645;&#x610F;&#x4E49;&#xFF0C;&#x53EF;&#x4EE5;&#x7EC6;&#x5316;&#x64CD;&#x4F5C;&#x4FE1;&#x606F;" class="headerlink" title="&#x8868;&#x8BBE;&#x8BA1; &#x8BBE;&#x8BA1;&#x8868;&#x7684;&#x516C;&#x5171;&#x90E8;&#x5206;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x4E3A;&#x4E86;&#x7ED3;&#x6784;&#x7684;&#x7EDF;&#x4E00;&#xFF0C;&#x5E76;&#x4E14;&#x901A;&#x5E38;&#x90FD;&#x5177;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x5B9E;&#x9645;&#x610F;&#x4E49;&#xFF0C;&#x53EF;&#x4EE5;&#x7EC6;&#x5316;&#x64CD;&#x4F5C;&#x4FE1;&#x606F;"></a>&#x8868;&#x8BBE;&#x8BA1; &#x8BBE;&#x8BA1;&#x8868;&#x7684;&#x516C;&#x5171;&#x90E8;&#x5206;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x4E3A;&#x4E86;&#x7ED3;&#x6784;&#x7684;&#x7EDF;&#x4E00;&#xFF0C;&#x5E76;&#x4E14;&#x901A;&#x5E38;&#x90FD;&#x5177;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x5B9E;&#x9645;&#x610F;&#x4E49;&#xFF0C;&#x53EF;&#x4EE5;&#x7EC6;&#x5316;&#x64CD;&#x4F5C;&#x4FE1;&#x606F;</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#串号-用数字综合多个信息组成串号，可以从串号中读取到很多有用的信息，与流水号相似，需要制定串号规则。"><span class="nav-number">29.</span> <span class="nav-text"><a href="#&#x4E32;&#x53F7;-&#x7528;&#x6570;&#x5B57;&#x7EFC;&#x5408;&#x591A;&#x4E2A;&#x4FE1;&#x606F;&#x7EC4;&#x6210;&#x4E32;&#x53F7;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x4E32;&#x53F7;&#x4E2D;&#x8BFB;&#x53D6;&#x5230;&#x5F88;&#x591A;&#x6709;&#x7528;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4E0E;&#x6D41;&#x6C34;&#x53F7;&#x76F8;&#x4F3C;&#xFF0C;&#x9700;&#x8981;&#x5236;&#x5B9A;&#x4E32;&#x53F7;&#x89C4;&#x5219;&#x3002;" class="headerlink" title="&#x4E32;&#x53F7; - &#x7528;&#x6570;&#x5B57;&#x7EFC;&#x5408;&#x591A;&#x4E2A;&#x4FE1;&#x606F;&#x7EC4;&#x6210;&#x4E32;&#x53F7;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x4E32;&#x53F7;&#x4E2D;&#x8BFB;&#x53D6;&#x5230;&#x5F88;&#x591A;&#x6709;&#x7528;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4E0E;&#x6D41;&#x6C34;&#x53F7;&#x76F8;&#x4F3C;&#xFF0C;&#x9700;&#x8981;&#x5236;&#x5B9A;&#x4E32;&#x53F7;&#x89C4;&#x5219;&#x3002;"></a>&#x4E32;&#x53F7; - &#x7528;&#x6570;&#x5B57;&#x7EFC;&#x5408;&#x591A;&#x4E2A;&#x4FE1;&#x606F;&#x7EC4;&#x6210;&#x4E32;&#x53F7;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x4E32;&#x53F7;&#x4E2D;&#x8BFB;&#x53D6;&#x5230;&#x5F88;&#x591A;&#x6709;&#x7528;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4E0E;&#x6D41;&#x6C34;&#x53F7;&#x76F8;&#x4F3C;&#xFF0C;&#x9700;&#x8981;&#x5236;&#x5B9A;&#x4E32;&#x53F7;&#x89C4;&#x5219;&#x3002;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如果是关系表的串号，可以将所有的状态码进行拼接，需要注意位数对应，不足的需要补0"><span class="nav-number">30.</span> <span class="nav-text"><a href="#&#x5982;&#x679C;&#x662F;&#x5173;&#x7CFB;&#x8868;&#x7684;&#x4E32;&#x53F7;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x6240;&#x6709;&#x7684;&#x72B6;&#x6001;&#x7801;&#x8FDB;&#x884C;&#x62FC;&#x63A5;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x4F4D;&#x6570;&#x5BF9;&#x5E94;&#xFF0C;&#x4E0D;&#x8DB3;&#x7684;&#x9700;&#x8981;&#x8865;0" class="headerlink" title="&#x5982;&#x679C;&#x662F;&#x5173;&#x7CFB;&#x8868;&#x7684;&#x4E32;&#x53F7;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x6240;&#x6709;&#x7684;&#x72B6;&#x6001;&#x7801;&#x8FDB;&#x884C;&#x62FC;&#x63A5;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x4F4D;&#x6570;&#x5BF9;&#x5E94;&#xFF0C;&#x4E0D;&#x8DB3;&#x7684;&#x9700;&#x8981;&#x8865;0"></a>&#x5982;&#x679C;&#x662F;&#x5173;&#x7CFB;&#x8868;&#x7684;&#x4E32;&#x53F7;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x6240;&#x6709;&#x7684;&#x72B6;&#x6001;&#x7801;&#x8FDB;&#x884C;&#x62FC;&#x63A5;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x4F4D;&#x6570;&#x5BF9;&#x5E94;&#xFF0C;&#x4E0D;&#x8DB3;&#x7684;&#x9700;&#x8981;&#x8865;0</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#扩展信息-用-json-格式的字符串记录-一些临时相关联的信息，主要用于业务临时实现，在梳理完业务后需要给对应的表结构进行适当调整，不排除有部分信息可以长期使用该字段"><span class="nav-number">31.</span> <span class="nav-text"><a href="#&#x6269;&#x5C55;&#x4FE1;&#x606F;-&#x7528;-json-&#x683C;&#x5F0F;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8BB0;&#x5F55;-&#x4E00;&#x4E9B;&#x4E34;&#x65F6;&#x76F8;&#x5173;&#x8054;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x4E1A;&#x52A1;&#x4E34;&#x65F6;&#x5B9E;&#x73B0;&#xFF0C;&#x5728;&#x68B3;&#x7406;&#x5B8C;&#x4E1A;&#x52A1;&#x540E;&#x9700;&#x8981;&#x7ED9;&#x5BF9;&#x5E94;&#x7684;&#x8868;&#x7ED3;&#x6784;&#x8FDB;&#x884C;&#x9002;&#x5F53;&#x8C03;&#x6574;&#xFF0C;&#x4E0D;&#x6392;&#x9664;&#x6709;&#x90E8;&#x5206;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x957F;&#x671F;&#x4F7F;&#x7528;&#x8BE5;&#x5B57;&#x6BB5;" class="headerlink" title="&#x6269;&#x5C55;&#x4FE1;&#x606F; - &#x7528; json &#x683C;&#x5F0F;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8BB0;&#x5F55; &#x4E00;&#x4E9B;&#x4E34;&#x65F6;&#x76F8;&#x5173;&#x8054;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x4E1A;&#x52A1;&#x4E34;&#x65F6;&#x5B9E;&#x73B0;&#xFF0C;&#x5728;&#x68B3;&#x7406;&#x5B8C;&#x4E1A;&#x52A1;&#x540E;&#x9700;&#x8981;&#x7ED9;&#x5BF9;&#x5E94;&#x7684;&#x8868;&#x7ED3;&#x6784;&#x8FDB;&#x884C;&#x9002;&#x5F53;&#x8C03;&#x6574;&#xFF0C;&#x4E0D;&#x6392;&#x9664;&#x6709;&#x90E8;&#x5206;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x957F;&#x671F;&#x4F7F;&#x7528;&#x8BE5;&#x5B57;&#x6BB5;"></a>&#x6269;&#x5C55;&#x4FE1;&#x606F; - &#x7528; json &#x683C;&#x5F0F;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8BB0;&#x5F55; &#x4E00;&#x4E9B;&#x4E34;&#x65F6;&#x76F8;&#x5173;&#x8054;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x4E1A;&#x52A1;&#x4E34;&#x65F6;&#x5B9E;&#x73B0;&#xFF0C;&#x5728;&#x68B3;&#x7406;&#x5B8C;&#x4E1A;&#x52A1;&#x540E;&#x9700;&#x8981;&#x7ED9;&#x5BF9;&#x5E94;&#x7684;&#x8868;&#x7ED3;&#x6784;&#x8FDB;&#x884C;&#x9002;&#x5F53;&#x8C03;&#x6574;&#xFF0C;&#x4E0D;&#x6392;&#x9664;&#x6709;&#x90E8;&#x5206;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x957F;&#x671F;&#x4F7F;&#x7528;&#x8BE5;&#x5B57;&#x6BB5;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#生效或禁用标识-只有-0、1-两个值，表示该条记录的生效情况"><span class="nav-number">32.</span> <span class="nav-text"><a href="#&#x751F;&#x6548;&#x6216;&#x7981;&#x7528;&#x6807;&#x8BC6;-&#x53EA;&#x6709;-0&#x3001;1-&#x4E24;&#x4E2A;&#x503C;&#xFF0C;&#x8868;&#x793A;&#x8BE5;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x751F;&#x6548;&#x60C5;&#x51B5;" class="headerlink" title="&#x751F;&#x6548;&#x6216;&#x7981;&#x7528;&#x6807;&#x8BC6; - &#x53EA;&#x6709; 0&#x3001;1 &#x4E24;&#x4E2A;&#x503C;&#xFF0C;&#x8868;&#x793A;&#x8BE5;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x751F;&#x6548;&#x60C5;&#x51B5;"></a>&#x751F;&#x6548;&#x6216;&#x7981;&#x7528;&#x6807;&#x8BC6; - &#x53EA;&#x6709; 0&#x3001;1 &#x4E24;&#x4E2A;&#x503C;&#xFF0C;&#x8868;&#x793A;&#x8BE5;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x751F;&#x6548;&#x60C5;&#x51B5;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#逻辑删除标识-并不是每张表都需要逻辑删除，但是为了数据的统一性先统一添加逻辑删除标识"><span class="nav-number">33.</span> <span class="nav-text"><a href="#&#x903B;&#x8F91;&#x5220;&#x9664;&#x6807;&#x8BC6;-&#x5E76;&#x4E0D;&#x662F;&#x6BCF;&#x5F20;&#x8868;&#x90FD;&#x9700;&#x8981;&#x903B;&#x8F91;&#x5220;&#x9664;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x6570;&#x636E;&#x7684;&#x7EDF;&#x4E00;&#x6027;&#x5148;&#x7EDF;&#x4E00;&#x6DFB;&#x52A0;&#x903B;&#x8F91;&#x5220;&#x9664;&#x6807;&#x8BC6;" class="headerlink" title="&#x903B;&#x8F91;&#x5220;&#x9664;&#x6807;&#x8BC6; - &#x5E76;&#x4E0D;&#x662F;&#x6BCF;&#x5F20;&#x8868;&#x90FD;&#x9700;&#x8981;&#x903B;&#x8F91;&#x5220;&#x9664;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x6570;&#x636E;&#x7684;&#x7EDF;&#x4E00;&#x6027;&#x5148;&#x7EDF;&#x4E00;&#x6DFB;&#x52A0;&#x903B;&#x8F91;&#x5220;&#x9664;&#x6807;&#x8BC6;"></a>&#x903B;&#x8F91;&#x5220;&#x9664;&#x6807;&#x8BC6; - &#x5E76;&#x4E0D;&#x662F;&#x6BCF;&#x5F20;&#x8868;&#x90FD;&#x9700;&#x8981;&#x903B;&#x8F91;&#x5220;&#x9664;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x6570;&#x636E;&#x7684;&#x7EDF;&#x4E00;&#x6027;&#x5148;&#x7EDF;&#x4E00;&#x6DFB;&#x52A0;&#x903B;&#x8F91;&#x5220;&#x9664;&#x6807;&#x8BC6;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#记录的创建时间-每条记录的创建时间是一个固定值，在程序中不应该支持对这个时间的修改！"><span class="nav-number">34.</span> <span class="nav-text"><a href="#&#x8BB0;&#x5F55;&#x7684;&#x521B;&#x5EFA;&#x65F6;&#x95F4;-&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x662F;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x503C;&#xFF0C;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x4E0D;&#x5E94;&#x8BE5;&#x652F;&#x6301;&#x5BF9;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x7684;&#x4FEE;&#x6539;&#xFF01;" class="headerlink" title="&#x8BB0;&#x5F55;&#x7684;&#x521B;&#x5EFA;&#x65F6;&#x95F4; - &#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x662F;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x503C;&#xFF0C;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x4E0D;&#x5E94;&#x8BE5;&#x652F;&#x6301;&#x5BF9;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x7684;&#x4FEE;&#x6539;&#xFF01;"></a>&#x8BB0;&#x5F55;&#x7684;&#x521B;&#x5EFA;&#x65F6;&#x95F4; - &#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x662F;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x503C;&#xFF0C;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x4E0D;&#x5E94;&#x8BE5;&#x652F;&#x6301;&#x5BF9;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x7684;&#x4FEE;&#x6539;&#xFF01;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#记录的更新时间-每条记录的最近一次的更新时间，-由数据库自动更新，程序中不应该支持操作这个值"><span class="nav-number">35.</span> <span class="nav-text"><a href="#&#x8BB0;&#x5F55;&#x7684;&#x66F4;&#x65B0;&#x65F6;&#x95F4;-&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x7684;&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#xFF0C;-&#x7531;&#x6570;&#x636E;&#x5E93;&#x81EA;&#x52A8;&#x66F4;&#x65B0;&#xFF0C;&#x7A0B;&#x5E8F;&#x4E2D;&#x4E0D;&#x5E94;&#x8BE5;&#x652F;&#x6301;&#x64CD;&#x4F5C;&#x8FD9;&#x4E2A;&#x503C;" class="headerlink" title="&#x8BB0;&#x5F55;&#x7684;&#x66F4;&#x65B0;&#x65F6;&#x95F4; - &#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x7684;&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#xFF0C; &#x7531;&#x6570;&#x636E;&#x5E93;&#x81EA;&#x52A8;&#x66F4;&#x65B0;&#xFF0C;&#x7A0B;&#x5E8F;&#x4E2D;&#x4E0D;&#x5E94;&#x8BE5;&#x652F;&#x6301;&#x64CD;&#x4F5C;&#x8FD9;&#x4E2A;&#x503C;"></a>&#x8BB0;&#x5F55;&#x7684;&#x66F4;&#x65B0;&#x65F6;&#x95F4; - &#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x7684;&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#xFF0C; &#x7531;&#x6570;&#x636E;&#x5E93;&#x81EA;&#x52A8;&#x66F4;&#x65B0;&#xFF0C;&#x7A0B;&#x5E8F;&#x4E2D;&#x4E0D;&#x5E94;&#x8BE5;&#x652F;&#x6301;&#x64CD;&#x4F5C;&#x8FD9;&#x4E2A;&#x503C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#采用支持事务的-InnoDB-数据库引擎，-编码统一为-utf8"><span class="nav-number">36.</span> <span class="nav-text"><a href="#&#x91C7;&#x7528;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#x7684;-InnoDB-&#x6570;&#x636E;&#x5E93;&#x5F15;&#x64CE;&#xFF0C;-&#x7F16;&#x7801;&#x7EDF;&#x4E00;&#x4E3A;-utf8" class="headerlink" title="&#x91C7;&#x7528;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#x7684; InnoDB &#x6570;&#x636E;&#x5E93;&#x5F15;&#x64CE;&#xFF0C; &#x7F16;&#x7801;&#x7EDF;&#x4E00;&#x4E3A; utf8"></a>&#x91C7;&#x7528;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#x7684; InnoDB &#x6570;&#x636E;&#x5E93;&#x5F15;&#x64CE;&#xFF0C; &#x7F16;&#x7801;&#x7EDF;&#x4E00;&#x4E3A; utf8</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#从整体来看项目"><span class="nav-number">36.1.</span> <span class="nav-text"><a href="#&#x4ECE;&#x6574;&#x4F53;&#x6765;&#x770B;&#x9879;&#x76EE;" class="headerlink" title="&#x4ECE;&#x6574;&#x4F53;&#x6765;&#x770B;&#x9879;&#x76EE;"></a>&#x4ECE;&#x6574;&#x4F53;&#x6765;&#x770B;&#x9879;&#x76EE;</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#想将项目平滑过渡到一个完善的结构，并且不违背原有的逻辑，"><span class="nav-number">37.</span> <span class="nav-text"><a href="#&#x60F3;&#x5C06;&#x9879;&#x76EE;&#x5E73;&#x6ED1;&#x8FC7;&#x6E21;&#x5230;&#x4E00;&#x4E2A;&#x5B8C;&#x5584;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x8FDD;&#x80CC;&#x539F;&#x6709;&#x7684;&#x903B;&#x8F91;&#xFF0C;" class="headerlink" title="&#x60F3;&#x5C06;&#x9879;&#x76EE;&#x5E73;&#x6ED1;&#x8FC7;&#x6E21;&#x5230;&#x4E00;&#x4E2A;&#x5B8C;&#x5584;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x8FDD;&#x80CC;&#x539F;&#x6709;&#x7684;&#x903B;&#x8F91;&#xFF0C;"></a>&#x60F3;&#x5C06;&#x9879;&#x76EE;&#x5E73;&#x6ED1;&#x8FC7;&#x6E21;&#x5230;&#x4E00;&#x4E2A;&#x5B8C;&#x5584;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x8FDD;&#x80CC;&#x539F;&#x6709;&#x7684;&#x903B;&#x8F91;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#那么最佳的做法便是尽量兼容原本的文件结构，在原结构基础上进行架构搭建，然后逐渐改善代码结构。"><span class="nav-number">38.</span> <span class="nav-text"><a href="#&#x90A3;&#x4E48;&#x6700;&#x4F73;&#x7684;&#x505A;&#x6CD5;&#x4FBF;&#x662F;&#x5C3D;&#x91CF;&#x517C;&#x5BB9;&#x539F;&#x672C;&#x7684;&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#xFF0C;&#x5728;&#x539F;&#x7ED3;&#x6784;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x884C;&#x67B6;&#x6784;&#x642D;&#x5EFA;&#xFF0C;&#x7136;&#x540E;&#x9010;&#x6E10;&#x6539;&#x5584;&#x4EE3;&#x7801;&#x7ED3;&#x6784;&#x3002;" class="headerlink" title="&#x90A3;&#x4E48;&#x6700;&#x4F73;&#x7684;&#x505A;&#x6CD5;&#x4FBF;&#x662F;&#x5C3D;&#x91CF;&#x517C;&#x5BB9;&#x539F;&#x672C;&#x7684;&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#xFF0C;&#x5728;&#x539F;&#x7ED3;&#x6784;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x884C;&#x67B6;&#x6784;&#x642D;&#x5EFA;&#xFF0C;&#x7136;&#x540E;&#x9010;&#x6E10;&#x6539;&#x5584;&#x4EE3;&#x7801;&#x7ED3;&#x6784;&#x3002;"></a>&#x90A3;&#x4E48;&#x6700;&#x4F73;&#x7684;&#x505A;&#x6CD5;&#x4FBF;&#x662F;&#x5C3D;&#x91CF;&#x517C;&#x5BB9;&#x539F;&#x672C;&#x7684;&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#xFF0C;&#x5728;&#x539F;&#x7ED3;&#x6784;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x884C;&#x67B6;&#x6784;&#x642D;&#x5EFA;&#xFF0C;&#x7136;&#x540E;&#x9010;&#x6E10;&#x6539;&#x5584;&#x4EE3;&#x7801;&#x7ED3;&#x6784;&#x3002;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#这么做的话需要一个前提，就是说必须从整体上分析好原项目，编写大量接洽的程序代码"><span class="nav-number">39.</span> <span class="nav-text"><a href="#&#x8FD9;&#x4E48;&#x505A;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x524D;&#x63D0;&#xFF0C;&#x5C31;&#x662F;&#x8BF4;&#x5FC5;&#x987B;&#x4ECE;&#x6574;&#x4F53;&#x4E0A;&#x5206;&#x6790;&#x597D;&#x539F;&#x9879;&#x76EE;&#xFF0C;&#x7F16;&#x5199;&#x5927;&#x91CF;&#x63A5;&#x6D3D;&#x7684;&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;" class="headerlink" title="&#x8FD9;&#x4E48;&#x505A;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x524D;&#x63D0;&#xFF0C;&#x5C31;&#x662F;&#x8BF4;&#x5FC5;&#x987B;&#x4ECE;&#x6574;&#x4F53;&#x4E0A;&#x5206;&#x6790;&#x597D;&#x539F;&#x9879;&#x76EE;&#xFF0C;&#x7F16;&#x5199;&#x5927;&#x91CF;&#x63A5;&#x6D3D;&#x7684;&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;"></a>&#x8FD9;&#x4E48;&#x505A;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x524D;&#x63D0;&#xFF0C;&#x5C31;&#x662F;&#x8BF4;&#x5FC5;&#x987B;&#x4ECE;&#x6574;&#x4F53;&#x4E0A;&#x5206;&#x6790;&#x597D;&#x539F;&#x9879;&#x76EE;&#xFF0C;&#x7F16;&#x5199;&#x5927;&#x91CF;&#x63A5;&#x6D3D;&#x7684;&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#在此之前，可能还需要写不少的冗余代码，不删减，只添加，直到现有结构能够独立支撑项目运行，"><span class="nav-number">40.</span> <span class="nav-text"><a href="#&#x5728;&#x6B64;&#x4E4B;&#x524D;&#xFF0C;&#x53EF;&#x80FD;&#x8FD8;&#x9700;&#x8981;&#x5199;&#x4E0D;&#x5C11;&#x7684;&#x5197;&#x4F59;&#x4EE3;&#x7801;&#xFF0C;&#x4E0D;&#x5220;&#x51CF;&#xFF0C;&#x53EA;&#x6DFB;&#x52A0;&#xFF0C;&#x76F4;&#x5230;&#x73B0;&#x6709;&#x7ED3;&#x6784;&#x80FD;&#x591F;&#x72EC;&#x7ACB;&#x652F;&#x6491;&#x9879;&#x76EE;&#x8FD0;&#x884C;&#xFF0C;" class="headerlink" title="&#x5728;&#x6B64;&#x4E4B;&#x524D;&#xFF0C;&#x53EF;&#x80FD;&#x8FD8;&#x9700;&#x8981;&#x5199;&#x4E0D;&#x5C11;&#x7684;&#x5197;&#x4F59;&#x4EE3;&#x7801;&#xFF0C;&#x4E0D;&#x5220;&#x51CF;&#xFF0C;&#x53EA;&#x6DFB;&#x52A0;&#xFF0C;&#x76F4;&#x5230;&#x73B0;&#x6709;&#x7ED3;&#x6784;&#x80FD;&#x591F;&#x72EC;&#x7ACB;&#x652F;&#x6491;&#x9879;&#x76EE;&#x8FD0;&#x884C;&#xFF0C;"></a>&#x5728;&#x6B64;&#x4E4B;&#x524D;&#xFF0C;&#x53EF;&#x80FD;&#x8FD8;&#x9700;&#x8981;&#x5199;&#x4E0D;&#x5C11;&#x7684;&#x5197;&#x4F59;&#x4EE3;&#x7801;&#xFF0C;&#x4E0D;&#x5220;&#x51CF;&#xFF0C;&#x53EA;&#x6DFB;&#x52A0;&#xFF0C;&#x76F4;&#x5230;&#x73B0;&#x6709;&#x7ED3;&#x6784;&#x80FD;&#x591F;&#x72EC;&#x7ACB;&#x652F;&#x6491;&#x9879;&#x76EE;&#x8FD0;&#x884C;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#再对原本不佳的实现进行重构"><span class="nav-number">41.</span> <span class="nav-text"><a href="#&#x518D;&#x5BF9;&#x539F;&#x672C;&#x4E0D;&#x4F73;&#x7684;&#x5B9E;&#x73B0;&#x8FDB;&#x884C;&#x91CD;&#x6784;" class="headerlink" title="&#x518D;&#x5BF9;&#x539F;&#x672C;&#x4E0D;&#x4F73;&#x7684;&#x5B9E;&#x73B0;&#x8FDB;&#x884C;&#x91CD;&#x6784;"></a>&#x518D;&#x5BF9;&#x539F;&#x672C;&#x4E0D;&#x4F73;&#x7684;&#x5B9E;&#x73B0;&#x8FDB;&#x884C;&#x91CD;&#x6784;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#项目需要什么补充什么，原本的东西不动，不动。直到最后结构足够清晰，再去动那些不好的地方"><span class="nav-number">42.</span> <span class="nav-text"><a href="#&#x9879;&#x76EE;&#x9700;&#x8981;&#x4EC0;&#x4E48;&#x8865;&#x5145;&#x4EC0;&#x4E48;&#xFF0C;&#x539F;&#x672C;&#x7684;&#x4E1C;&#x897F;&#x4E0D;&#x52A8;&#xFF0C;&#x4E0D;&#x52A8;&#x3002;&#x76F4;&#x5230;&#x6700;&#x540E;&#x7ED3;&#x6784;&#x8DB3;&#x591F;&#x6E05;&#x6670;&#xFF0C;&#x518D;&#x53BB;&#x52A8;&#x90A3;&#x4E9B;&#x4E0D;&#x597D;&#x7684;&#x5730;&#x65B9;" class="headerlink" title="&#x9879;&#x76EE;&#x9700;&#x8981;&#x4EC0;&#x4E48;&#x8865;&#x5145;&#x4EC0;&#x4E48;&#xFF0C;&#x539F;&#x672C;&#x7684;&#x4E1C;&#x897F;&#x4E0D;&#x52A8;&#xFF0C;&#x4E0D;&#x52A8;&#x3002;&#x76F4;&#x5230;&#x6700;&#x540E;&#x7ED3;&#x6784;&#x8DB3;&#x591F;&#x6E05;&#x6670;&#xFF0C;&#x518D;&#x53BB;&#x52A8;&#x90A3;&#x4E9B;&#x4E0D;&#x597D;&#x7684;&#x5730;&#x65B9;"></a>&#x9879;&#x76EE;&#x9700;&#x8981;&#x4EC0;&#x4E48;&#x8865;&#x5145;&#x4EC0;&#x4E48;&#xFF0C;&#x539F;&#x672C;&#x7684;&#x4E1C;&#x897F;&#x4E0D;&#x52A8;&#xFF0C;&#x4E0D;&#x52A8;&#x3002;&#x76F4;&#x5230;&#x6700;&#x540E;&#x7ED3;&#x6784;&#x8DB3;&#x591F;&#x6E05;&#x6670;&#xFF0C;&#x518D;&#x53BB;&#x52A8;&#x90A3;&#x4E9B;&#x4E0D;&#x597D;&#x7684;&#x5730;&#x65B9;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#在改变原文件结构的时候最常见的就是更改后带来的一系列的数据结构不一致问题，"><span class="nav-number">43.</span> <span class="nav-text"><a href="#&#x5728;&#x6539;&#x53D8;&#x539F;&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#x7684;&#x65F6;&#x5019;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x5C31;&#x662F;&#x66F4;&#x6539;&#x540E;&#x5E26;&#x6765;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x4E0D;&#x4E00;&#x81F4;&#x95EE;&#x9898;&#xFF0C;" class="headerlink" title="&#x5728;&#x6539;&#x53D8;&#x539F;&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#x7684;&#x65F6;&#x5019;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x5C31;&#x662F;&#x66F4;&#x6539;&#x540E;&#x5E26;&#x6765;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x4E0D;&#x4E00;&#x81F4;&#x95EE;&#x9898;&#xFF0C;"></a>&#x5728;&#x6539;&#x53D8;&#x539F;&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#x7684;&#x65F6;&#x5019;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x5C31;&#x662F;&#x66F4;&#x6539;&#x540E;&#x5E26;&#x6765;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x4E0D;&#x4E00;&#x81F4;&#x95EE;&#x9898;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#这时候需要有中间层对数据进行转化，原结构已经是一个逻辑闭环相对完整的结构，在此之上进行叠加，"><span class="nav-number">44.</span> <span class="nav-text"><a href="#&#x8FD9;&#x65F6;&#x5019;&#x9700;&#x8981;&#x6709;&#x4E2D;&#x95F4;&#x5C42;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x8F6C;&#x5316;&#xFF0C;&#x539F;&#x7ED3;&#x6784;&#x5DF2;&#x7ECF;&#x662F;&#x4E00;&#x4E2A;&#x903B;&#x8F91;&#x95ED;&#x73AF;&#x76F8;&#x5BF9;&#x5B8C;&#x6574;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5728;&#x6B64;&#x4E4B;&#x4E0A;&#x8FDB;&#x884C;&#x53E0;&#x52A0;&#xFF0C;" class="headerlink" title="&#x8FD9;&#x65F6;&#x5019;&#x9700;&#x8981;&#x6709;&#x4E2D;&#x95F4;&#x5C42;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x8F6C;&#x5316;&#xFF0C;&#x539F;&#x7ED3;&#x6784;&#x5DF2;&#x7ECF;&#x662F;&#x4E00;&#x4E2A;&#x903B;&#x8F91;&#x95ED;&#x73AF;&#x76F8;&#x5BF9;&#x5B8C;&#x6574;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5728;&#x6B64;&#x4E4B;&#x4E0A;&#x8FDB;&#x884C;&#x53E0;&#x52A0;&#xFF0C;"></a>&#x8FD9;&#x65F6;&#x5019;&#x9700;&#x8981;&#x6709;&#x4E2D;&#x95F4;&#x5C42;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x8F6C;&#x5316;&#xFF0C;&#x539F;&#x7ED3;&#x6784;&#x5DF2;&#x7ECF;&#x662F;&#x4E00;&#x4E2A;&#x903B;&#x8F91;&#x95ED;&#x73AF;&#x76F8;&#x5BF9;&#x5B8C;&#x6574;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5728;&#x6B64;&#x4E4B;&#x4E0A;&#x8FDB;&#x884C;&#x53E0;&#x52A0;&#xFF0C;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据需要逐步导入到新的数据表，但是原表中数据也不能缺少。"><span class="nav-number">45.</span> <span class="nav-text"><a href="#&#x6570;&#x636E;&#x9700;&#x8981;&#x9010;&#x6B65;&#x5BFC;&#x5165;&#x5230;&#x65B0;&#x7684;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x4F46;&#x662F;&#x539F;&#x8868;&#x4E2D;&#x6570;&#x636E;&#x4E5F;&#x4E0D;&#x80FD;&#x7F3A;&#x5C11;&#x3002;" class="headerlink" title="&#x6570;&#x636E;&#x9700;&#x8981;&#x9010;&#x6B65;&#x5BFC;&#x5165;&#x5230;&#x65B0;&#x7684;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x4F46;&#x662F;&#x539F;&#x8868;&#x4E2D;&#x6570;&#x636E;&#x4E5F;&#x4E0D;&#x80FD;&#x7F3A;&#x5C11;&#x3002;"></a>&#x6570;&#x636E;&#x9700;&#x8981;&#x9010;&#x6B65;&#x5BFC;&#x5165;&#x5230;&#x65B0;&#x7684;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x4F46;&#x662F;&#x539F;&#x8868;&#x4E2D;&#x6570;&#x636E;&#x4E5F;&#x4E0D;&#x80FD;&#x7F3A;&#x5C11;&#x3002;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何处理原本的数据，是个比较麻烦的问题"><span class="nav-number">46.</span> <span class="nav-text"><a href="#&#x5982;&#x4F55;&#x5904;&#x7406;&#x539F;&#x672C;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x662F;&#x4E2A;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#x7684;&#x95EE;&#x9898;" class="headerlink" title="&#x5982;&#x4F55;&#x5904;&#x7406;&#x539F;&#x672C;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x662F;&#x4E2A;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#x7684;&#x95EE;&#x9898;"></a>&#x5982;&#x4F55;&#x5904;&#x7406;&#x539F;&#x672C;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x662F;&#x4E2A;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#x7684;&#x95EE;&#x9898;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如果有必要，可以编写数据完整性校验代码，逐条比对数据的有效性"><span class="nav-number">47.</span> <span class="nav-text"><a href="#&#x5982;&#x679C;&#x6709;&#x5FC5;&#x8981;&#xFF0C;&#x53EF;&#x4EE5;&#x7F16;&#x5199;&#x6570;&#x636E;&#x5B8C;&#x6574;&#x6027;&#x6821;&#x9A8C;&#x4EE3;&#x7801;&#xFF0C;&#x9010;&#x6761;&#x6BD4;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x6709;&#x6548;&#x6027;" class="headerlink" title="&#x5982;&#x679C;&#x6709;&#x5FC5;&#x8981;&#xFF0C;&#x53EF;&#x4EE5;&#x7F16;&#x5199;&#x6570;&#x636E;&#x5B8C;&#x6574;&#x6027;&#x6821;&#x9A8C;&#x4EE3;&#x7801;&#xFF0C;&#x9010;&#x6761;&#x6BD4;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x6709;&#x6548;&#x6027;"></a>&#x5982;&#x679C;&#x6709;&#x5FC5;&#x8981;&#xFF0C;&#x53EF;&#x4EE5;&#x7F16;&#x5199;&#x6570;&#x636E;&#x5B8C;&#x6574;&#x6027;&#x6821;&#x9A8C;&#x4EE3;&#x7801;&#xFF0C;&#x9010;&#x6761;&#x6BD4;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x6709;&#x6548;&#x6027;</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PHP-Install"><span class="nav-number">47.1.</span> <span class="nav-text"><a href="#PHP-Install" class="headerlink" title="PHP Install"></a>PHP Install</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PHP-Doc"><span class="nav-number">47.2.</span> <span class="nav-text"><a href="#PHP-Doc" class="headerlink" title="PHP Doc"></a>PHP Doc</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PHP-YII"><span class="nav-number">47.3.</span> <span class="nav-text"><a href="#PHP-YII" class="headerlink" title="PHP YII"></a>PHP YII</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#xdebug"><span class="nav-number">47.4.</span> <span class="nav-text"><a href="#xdebug" class="headerlink" title="xdebug"></a>xdebug</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#php-设置时区"><span class="nav-number">47.5.</span> <span class="nav-text"><a href="#php-&#x8BBE;&#x7F6E;&#x65F6;&#x533A;" class="headerlink" title="php &#x8BBE;&#x7F6E;&#x65F6;&#x533A;"></a>php &#x8BBE;&#x7F6E;&#x65F6;&#x533A;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mysql"><span class="nav-number">47.6.</span> <span class="nav-text"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Install"><span class="nav-number">47.7.</span> <span class="nav-text"><a href="#Install" class="headerlink" title="Install"></a>Install</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#slow-log-慢查询-开启"><span class="nav-number">47.8.</span> <span class="nav-text"><a href="#slow-log-&#x6162;&#x67E5;&#x8BE2;-&#x5F00;&#x542F;" class="headerlink" title="slow_log &#x6162;&#x67E5;&#x8BE2; &#x5F00;&#x542F;"></a>slow_log &#x6162;&#x67E5;&#x8BE2; &#x5F00;&#x542F;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#onsubmit"><span class="nav-number">47.9.</span> <span class="nav-text"><a href="#onsubmit" class="headerlink" title="onsubmit"></a>onsubmit</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CentOS"><span class="nav-number">48.</span> <span class="nav-text"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mysql-u-root-p"><span class="nav-number">49.</span> <span class="nav-text"><a href="#mysql-u-root-p" class="headerlink" title="mysql -u root -p"></a>mysql -u root -p</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#etc-init-d-mysql-stop"><span class="nav-number">50.</span> <span class="nav-text"><a href="#etc-init-d-mysql-stop" class="headerlink" title="/etc/init.d/mysql stop"></a>/etc/init.d/mysql stop</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mysqld-safe-–user-mysql-–skip-grant-tables-–skip-networking-amp"><span class="nav-number">51.</span> <span class="nav-text"><a href="#mysqld-safe-&#x2013;user-mysql-&#x2013;skip-grant-tables-&#x2013;skip-networking-amp" class="headerlink" title="mysqld_safe &#x2013;user=mysql &#x2013;skip-grant-tables &#x2013;skip-networking &amp;"></a>mysqld_safe &#x2013;user=mysql &#x2013;skip-grant-tables &#x2013;skip-networking &amp;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mysql-u-root-p-1"><span class="nav-number">52.</span> <span class="nav-text"><a href="#mysql-u-root-p-1" class="headerlink" title="mysql -u root -p"></a>mysql -u root -p</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#etc-init-d-mysqld-restart"><span class="nav-number">53.</span> <span class="nav-text"><a href="#etc-init-d-mysqld-restart" class="headerlink" title="/etc/init.d/mysqld restart"></a>/etc/init.d/mysqld restart</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mysql-u-myuser-p"><span class="nav-number">54.</span> <span class="nav-text"><a href="#mysql-u-myuser-p" class="headerlink" title="mysql -u myuser -p"></a>mysql -u myuser -p</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#翻墙"><span class="nav-number">54.0.0.1.</span> <span class="nav-text"><a href="#&#x7FFB;&#x5899;" class="headerlink" title="&#x7FFB;&#x5899;"></a>&#x7FFB;&#x5899;</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wamp-Apache-下配置虚拟主机的部分"><span class="nav-number">54.1.</span> <span class="nav-text"><a href="#wamp-Apache-&#x4E0B;&#x914D;&#x7F6E;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7684;&#x90E8;&#x5206;" class="headerlink" title="wamp Apache &#x4E0B;&#x914D;&#x7F6E;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7684;&#x90E8;&#x5206;"></a>wamp Apache &#x4E0B;&#x914D;&#x7F6E;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7684;&#x90E8;&#x5206;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PHP"><span class="nav-number">54.2.</span> <span class="nav-text"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#win-10"><span class="nav-number">54.3.</span> <span class="nav-text"><a href="#win-10" class="headerlink" title="win 10"></a>win 10</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#忘记登陆密码"><span class="nav-number">54.4.</span> <span class="nav-text"><a href="#&#x5FD8;&#x8BB0;&#x767B;&#x9646;&#x5BC6;&#x7801;" class="headerlink" title="&#x5FD8;&#x8BB0;&#x767B;&#x9646;&#x5BC6;&#x7801;"></a>&#x5FD8;&#x8BB0;&#x767B;&#x9646;&#x5BC6;&#x7801;</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chrome-浏览器插件记录："><span class="nav-number">55.</span> <span class="nav-text"><a href="#chrome-&#x6D4F;&#x89C8;&#x5668;&#x63D2;&#x4EF6;&#x8BB0;&#x5F55;&#xFF1A;" class="headerlink" title="chrome &#x6D4F;&#x89C8;&#x5668;&#x63D2;&#x4EF6;&#x8BB0;&#x5F55;&#xFF1A;"></a>chrome &#x6D4F;&#x89C8;&#x5668;&#x63D2;&#x4EF6;&#x8BB0;&#x5F55;&#xFF1A;</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#xampp-环境-SERVER"><span class="nav-number">55.1.</span> <span class="nav-text"><a href="#xampp-&#x73AF;&#x5883;-SERVER" class="headerlink" title="xampp &#x73AF;&#x5883; $_SERVER"></a>xampp &#x73AF;&#x5883; $_SERVER</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhang xiaotian</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
